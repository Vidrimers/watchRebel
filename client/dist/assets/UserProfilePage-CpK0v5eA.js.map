{"version":3,"file":"UserProfilePage-CpK0v5eA.js","sources":["../../src/components/User/ReferralStats.jsx","../../src/components/Settings/AdminModerationPanel.jsx","../../src/components/Wall/Wall.jsx","../../src/pages/UserProfilePage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useAppSelector } from '../../hooks/useAppSelector';\r\nimport api from '../../services/api';\r\nimport styles from './ReferralStats.module.css';\r\n\r\n/**\r\n * –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤\r\n * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã—Ö –¥—Ä—É–∑–µ–π –∏ —Å–ø–∏—Å–æ–∫ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤\r\n */\r\nconst ReferralStats = ({ userId }) => {\r\n  const { user: currentUser } = useAppSelector((state) => state.auth);\r\n  const [referralCode, setReferralCode] = useState(null);\r\n  const [referralsCount, setReferralsCount] = useState(0);\r\n  const [referrals, setReferrals] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showReferrals, setShowReferrals] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —ç—Ç–æ —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å –∏–ª–∏ —á—É–∂–æ–π\r\n  const isOwnProfile = currentUser?.id === userId;\r\n\r\n  useEffect(() => {\r\n    // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–≤–æ–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è\r\n    if (isOwnProfile) {\r\n      loadReferralStats();\r\n    }\r\n  }, [userId, isOwnProfile]);\r\n\r\n  /**\r\n   * –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤\r\n   */\r\n  const loadReferralStats = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      // –ü–æ–ª—É—á–∞–µ–º —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –∫–æ–¥ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤\r\n      const response = await api.get(`/users/${userId}/referral-code`);\r\n      setReferralCode(response.data.referralCode);\r\n      setReferralsCount(response.data.referralsCount || 0);\r\n\r\n      setLoading(false);\r\n    } catch (err) {\r\n      console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤:', err);\r\n      \r\n      // –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ 404 –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º fallback\r\n      if (err.response?.status === 404 || err.response?.data?.code === 'USER_NOT_FOUND') {\r\n        setReferralCode(null);\r\n        setReferralsCount(0);\r\n        setLoading(false);\r\n      } else {\r\n        // –î–ª—è –¥—Ä—É–≥–∏—Ö –æ—à–∏–±–æ–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ\r\n        setError('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É');\r\n        setLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  /**\r\n   * –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤\r\n   */\r\n  const loadReferrals = async () => {\r\n    try {\r\n      const response = await api.get(`/users/${userId}/referrals`);\r\n      setReferrals(response.data);\r\n    } catch (err) {\r\n      console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–ø–∏—Å–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤:', err);\r\n      \r\n      // –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ 404, –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫\r\n      if (err.response?.status === 404) {\r\n        setReferrals([]);\r\n      } else {\r\n        setError('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤');\r\n      }\r\n    }\r\n  };\r\n\r\n  /**\r\n   * –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤\r\n   */\r\n  const toggleReferrals = async () => {\r\n    if (!showReferrals && referrals.length === 0) {\r\n      await loadReferrals();\r\n    }\r\n    setShowReferrals(!showReferrals);\r\n  };\r\n\r\n  // –ù–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —á—É–∂–∏—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π\r\n  if (!isOwnProfile) {\r\n    return null;\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className={styles.referralStats}>\r\n        <p className={styles.loading}>–ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className={styles.referralStats}>\r\n        <p className={styles.error}>{error}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={styles.referralStats}>\r\n      <div className={styles.statsHeader}>\r\n        <h3 className={styles.statsTitle}>üë• –ü—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã–µ –¥—Ä—É–∑—å—è</h3>\r\n        <div className={styles.statsCount}>\r\n          <span className={styles.countNumber}>{referralsCount}</span>\r\n          <span className={styles.countLabel}>–¥—Ä—É–∑–µ–π</span>\r\n        </div>\r\n      </div>\r\n\r\n      {referralsCount > 0 && (\r\n        <button \r\n          className={styles.toggleButton}\r\n          onClick={toggleReferrals}\r\n        >\r\n          {showReferrals ? '‚ñº –°–∫—Ä—ã—Ç—å —Å–ø–∏—Å–æ–∫' : '‚ñ∂ –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫'}\r\n        </button>\r\n      )}\r\n\r\n      {showReferrals && (\r\n        <div className={styles.referralsList}>\r\n          {referrals.length === 0 ? (\r\n            <p className={styles.emptyMessage}>–ó–∞–≥—Ä—É–∑–∫–∞...</p>\r\n          ) : (\r\n            <ul className={styles.referralsItems}>\r\n              {referrals.map((referral) => (\r\n                <li key={referral.id} className={styles.referralItem}>\r\n                  <div className={styles.referralAvatar}>\r\n                    {referral.avatarUrl ? (\r\n                      <img \r\n                        src={\r\n                          referral.avatarUrl.startsWith('/uploads/')\r\n                            ? `${import.meta.env.VITE_API_URL || 'http://localhost:1313'}${referral.avatarUrl}`\r\n                            : referral.avatarUrl\r\n                        } \r\n                        alt={referral.displayName} \r\n                      />\r\n                    ) : (\r\n                      <div className={styles.avatarPlaceholder}>\r\n                        {referral.displayName.charAt(0).toUpperCase()}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  <div className={styles.referralInfo}>\r\n                    <p className={styles.referralName}>{referral.displayName}</p>\r\n                    {referral.telegramUsername && (\r\n                      <p className={styles.referralUsername}>@{referral.telegramUsername}</p>\r\n                    )}\r\n                    <p className={styles.referralDate}>\r\n                      –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª—Å—è: {new Date(referral.referralCreatedAt).toLocaleDateString('ru-RU')}\r\n                    </p>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {referralsCount === 0 && (\r\n        <p className={styles.emptyMessage}>\r\n          –í—ã –µ—â–µ –Ω–µ –ø—Ä–∏–≥–ª–∞—Å–∏–ª–∏ –¥—Ä—É–∑–µ–π. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Telegram –±–æ—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–∏!\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReferralStats;\r\n","import React, { useState } from 'react';\r\nimport styles from './AdminModerationPanel.module.css';\r\nimport api from '../../services/api';\r\nimport useAlert from '../../hooks/useAlert.jsx';\r\nimport useConfirm from '../../hooks/useConfirm.jsx';\r\n\r\n/**\r\n * –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–∞–Ω–µ–ª–∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞\r\n * –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞\r\n */\r\nfunction AdminModerationPanel({ userId, isAdmin, onModerationAction }) {\r\n  const { alertDialog, showAlert } = useAlert();\r\n  const { confirmDialog, showConfirm } = useConfirm();\r\n  \r\n  const [showBanModal, setShowBanModal] = useState(false);\r\n  const [banType, setBanType] = useState(null); // 'posts' –∏–ª–∏ 'permanent'\r\n  const [reason, setReason] = useState('');\r\n  const [duration, setDuration] = useState(1440); // 24 —á–∞—Å–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  // –ï—Å–ª–∏ –Ω–µ –∞–¥–º–∏–Ω, –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–∞–Ω–µ–ª—å\r\n  if (!isAdmin) {\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–æ—Å—Ç–æ–≤\r\n   */\r\n  const handleBanPosts = async () => {\r\n    if (!reason.trim()) {\r\n      setError('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å –ø—Ä–∏—á–∏–Ω—É –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏');\r\n      return;\r\n    }\r\n\r\n    if (duration <= 0) {\r\n      setError('–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±–æ–ª—å—à–µ 0');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      await api.post(`/admin/users/${userId}/ban-posts`, {\r\n        reason: reason.trim(),\r\n        durationMinutes: duration\r\n      });\r\n\r\n      // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ\r\n      setShowBanModal(false);\r\n      setReason('');\r\n      setDuration(1440);\r\n\r\n      // –£–≤–µ–¥–æ–º–ª—è–µ–º —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç\r\n      if (onModerationAction) {\r\n        onModerationAction('post_ban');\r\n      }\r\n\r\n      await showAlert({\r\n        title: '–£—Å–ø–µ—à–Ω–æ',\r\n        message: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∑–∞–ø—Ä–µ—â–µ–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ—Å—Ç—ã',\r\n        type: 'success'\r\n      });\r\n    } catch (err) {\r\n      console.error('–û—à–∏–±–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–æ—Å—Ç–æ–≤:', err);\r\n      setError(err.response?.data?.error || '–û—à–∏–±–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–æ—Å—Ç–æ–≤');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏\r\n   */\r\n  const handlePermanentBan = async () => {\r\n    if (!reason.trim()) {\r\n      setError('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å –ø—Ä–∏—á–∏–Ω—É –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏');\r\n      return;\r\n    }\r\n\r\n    const confirmed = await showConfirm({\r\n      title: '–ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞',\r\n      message: '–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –Ω–∞–≤—Å–µ–≥–¥–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?',\r\n      confirmText: '–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å',\r\n      cancelText: '–û—Ç–º–µ–Ω–∞',\r\n      confirmButtonStyle: 'danger'\r\n    });\r\n\r\n    if (!confirmed) {\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      await api.post(`/admin/users/${userId}/ban-permanent`, {\r\n        reason: reason.trim()\r\n      });\r\n\r\n      // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ\r\n      setShowBanModal(false);\r\n      setReason('');\r\n\r\n      // –£–≤–µ–¥–æ–º–ª—è–µ–º —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç\r\n      if (onModerationAction) {\r\n        onModerationAction('permanent_ban');\r\n      }\r\n\r\n      await showAlert({\r\n        title: '–£—Å–ø–µ—à–Ω–æ',\r\n        message: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –Ω–∞–≤—Å–µ–≥–¥–∞',\r\n        type: 'success'\r\n      });\r\n    } catch (err) {\r\n      console.error('–û—à–∏–±–∫–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:', err);\r\n      setError(err.response?.data?.error || '–û—à–∏–±–∫–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏\r\n   */\r\n  const handleUnban = async () => {\r\n    const confirmed = await showConfirm({\r\n      title: '–†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è',\r\n      message: '–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?',\r\n      confirmText: '–†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å',\r\n      cancelText: '–û—Ç–º–µ–Ω–∞',\r\n      confirmButtonStyle: 'success'\r\n    });\r\n\r\n    if (!confirmed) {\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      await api.post(`/admin/users/${userId}/unban`);\r\n\r\n      // –£–≤–µ–¥–æ–º–ª—è–µ–º —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç\r\n      if (onModerationAction) {\r\n        onModerationAction('unban');\r\n      }\r\n\r\n      await showAlert({\r\n        title: '–£—Å–ø–µ—à–Ω–æ',\r\n        message: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω',\r\n        type: 'success'\r\n      });\r\n    } catch (err) {\r\n      console.error('–û—à–∏–±–∫–∞ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:', err);\r\n      setError(err.response?.data?.error || '–û—à–∏–±–∫–∞ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–æ—Å—Ç–æ–≤\r\n   */\r\n  const openPostBanModal = () => {\r\n    setBanType('posts');\r\n    setShowBanModal(true);\r\n    setError(null);\r\n  };\r\n\r\n  /**\r\n   * –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏\r\n   */\r\n  const openPermanentBanModal = () => {\r\n    setBanType('permanent');\r\n    setShowBanModal(true);\r\n    setError(null);\r\n  };\r\n\r\n  /**\r\n   * –ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ\r\n   */\r\n  const closeModal = () => {\r\n    setShowBanModal(false);\r\n    setBanType(null);\r\n    setReason('');\r\n    setDuration(1440);\r\n    setError(null);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {alertDialog}\r\n      {confirmDialog}\r\n      <div className={styles.moderationPanel}>\r\n      <h3 className={styles.title}>‚ö†Ô∏è –ú–æ–¥–µ—Ä–∞—Ü–∏—è</h3>\r\n      \r\n      <div className={styles.actions}>\r\n        <button \r\n          className={`${styles.button} ${styles.banPostsButton}`}\r\n          onClick={openPostBanModal}\r\n          disabled={loading}\r\n        >\r\n          üö´ –ó–∞–ø—Ä–µ—Ç–∏—Ç—å –ø–æ—Å—Ç—ã\r\n        </button>\r\n        \r\n        <button \r\n          className={`${styles.button} ${styles.permanentBanButton}`}\r\n          onClick={openPermanentBanModal}\r\n          disabled={loading}\r\n        >\r\n          ‚õî –ó–∞–±–∞–Ω–∏—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞\r\n        </button>\r\n        \r\n        <button \r\n          className={`${styles.button} ${styles.unbanButton}`}\r\n          onClick={handleUnban}\r\n          disabled={loading}\r\n        >\r\n          ‚úÖ –†–∞–∑–±–∞–Ω–∏—Ç—å\r\n        </button>\r\n      </div>\r\n\r\n      {/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */}\r\n      {showBanModal && (\r\n        <div className={styles.modalOverlay} onClick={closeModal}>\r\n          <div className={styles.modal} onClick={(e) => e.stopPropagation()}>\r\n            <h3 className={styles.modalTitle}>\r\n              {banType === 'posts' ? 'üö´ –ó–∞–ø—Ä–µ—Ç–∏—Ç—å –ø–æ—Å—Ç—ã' : '‚õî –ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞'}\r\n            </h3>\r\n\r\n            {error && (\r\n              <div className={styles.error}>{error}</div>\r\n            )}\r\n\r\n            <div className={styles.formGroup}>\r\n              <label htmlFor=\"reason\">–ü—Ä–∏—á–∏–Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:</label>\r\n              <textarea\r\n                id=\"reason\"\r\n                className={styles.textarea}\r\n                value={reason}\r\n                onChange={(e) => setReason(e.target.value)}\r\n                placeholder=\"–£–∫–∞–∂–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏...\"\r\n                rows={4}\r\n                disabled={loading}\r\n              />\r\n            </div>\r\n\r\n            {banType === 'posts' && (\r\n              <div className={styles.formGroup}>\r\n                <label htmlFor=\"duration\">–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–º–∏–Ω—É—Ç—ã):</label>\r\n                <input\r\n                  id=\"duration\"\r\n                  type=\"number\"\r\n                  className={styles.input}\r\n                  value={duration}\r\n                  onChange={(e) => setDuration(parseInt(e.target.value) || 0)}\r\n                  min=\"1\"\r\n                  disabled={loading}\r\n                />\r\n                <div className={styles.durationPresets}>\r\n                  <button \r\n                    className={styles.presetButton}\r\n                    onClick={() => setDuration(60)}\r\n                    disabled={loading}\r\n                  >\r\n                    1 —á–∞—Å\r\n                  </button>\r\n                  <button \r\n                    className={styles.presetButton}\r\n                    onClick={() => setDuration(1440)}\r\n                    disabled={loading}\r\n                  >\r\n                    1 –¥–µ–Ω—å\r\n                  </button>\r\n                  <button \r\n                    className={styles.presetButton}\r\n                    onClick={() => setDuration(10080)}\r\n                    disabled={loading}\r\n                  >\r\n                    1 –Ω–µ–¥–µ–ª—è\r\n                  </button>\r\n                  <button \r\n                    className={styles.presetButton}\r\n                    onClick={() => setDuration(43200)}\r\n                    disabled={loading}\r\n                  >\r\n                    1 –º–µ—Å—è—Ü\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <div className={styles.modalActions}>\r\n              <button\r\n                className={`${styles.button} ${styles.cancelButton}`}\r\n                onClick={closeModal}\r\n                disabled={loading}\r\n              >\r\n                –û—Ç–º–µ–Ω–∞\r\n              </button>\r\n              <button\r\n                className={`${styles.button} ${banType === 'posts' ? styles.banPostsButton : styles.permanentBanButton}`}\r\n                onClick={banType === 'posts' ? handleBanPosts : handlePermanentBan}\r\n                disabled={loading}\r\n              >\r\n                {loading ? '–û–±—Ä–∞–±–æ—Ç–∫–∞...' : '–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AdminModerationPanel;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useAppDispatch } from '../../hooks/useAppDispatch';\r\nimport { useAppSelector } from '../../hooks/useAppSelector';\r\nimport { fetchWall, createPost } from '../../store/slices/wallSlice';\r\nimport WallPost from './WallPost';\r\nimport styles from './Wall.module.css';\r\n\r\n/**\r\n * –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å—Ç–µ–Ω—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\r\n * –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ª–µ–Ω—Ç—É –ø–æ—Å—Ç–æ–≤ –≤ —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ (–Ω–æ–≤—ã–µ —Å–≤–µ—Ä—Ö—É)\r\n */\r\nconst Wall = ({ userId, isOwnProfile = false }) => {\r\n  const dispatch = useAppDispatch();\r\n  const { posts, loading, error } = useAppSelector((state) => state.wall);\r\n  const [newPostContent, setNewPostContent] = useState('');\r\n  const [isCreating, setIsCreating] = useState(false);\r\n\r\n  // –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ—Å—Ç–æ–≤ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞\r\n  useEffect(() => {\r\n    if (userId) {\r\n      dispatch(fetchWall(userId));\r\n    }\r\n  }, [dispatch, userId]);\r\n\r\n  // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞\r\n  const handleCreatePost = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!newPostContent.trim()) {\r\n      return;\r\n    }\r\n\r\n    setIsCreating(true);\r\n    try {\r\n      await dispatch(createPost({\r\n        postType: 'text',\r\n        content: newPostContent.trim()\r\n      })).unwrap();\r\n      \r\n      setNewPostContent('');\r\n    } catch (err) {\r\n      console.error('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—Ç–∞:', err);\r\n    } finally {\r\n      setIsCreating(false);\r\n    }\r\n  };\r\n\r\n  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è Enter –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ—Å—Ç–∞\r\n  const handleKeyDown = (e) => {\r\n    // –ï—Å–ª–∏ –Ω–∞–∂–∞—Ç Enter –±–µ–∑ Shift - –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø–æ—Å—Ç\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault(); // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –ø–µ—Ä–µ–Ω–æ—Å —Å—Ç—Ä–æ–∫–∏\r\n      handleCreatePost(e);\r\n    }\r\n    // –ï—Å–ª–∏ –Ω–∞–∂–∞—Ç Enter —Å Shift - —Ä–∞–∑—Ä–µ—à–∞–µ–º –ø–µ—Ä–µ–Ω–æ—Å —Å—Ç—Ä–æ–∫–∏ (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ)\r\n  };\r\n\r\n  if (loading && posts.length === 0) {\r\n    return (\r\n      <div className={styles.wall}>\r\n        <div className={styles.loading}>–ó–∞–≥—Ä—É–∑–∫–∞...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className={styles.wall}>\r\n        <div className={styles.error}>\r\n          –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–µ–Ω—ã: {error.message || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={styles.wall}>\r\n      {/* –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è —Å–≤–æ–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è) */}\r\n      {isOwnProfile && (\r\n        <div className={styles.createPostContainer}>\r\n          <form onSubmit={handleCreatePost} className={styles.createPostForm}>\r\n            <textarea\r\n              className={styles.postInput}\r\n              placeholder=\"–ß—Ç–æ —É –≤–∞—Å –Ω–æ–≤–æ–≥–æ?\"\r\n              value={newPostContent}\r\n              onChange={(e) => setNewPostContent(e.target.value)}\r\n              onKeyDown={handleKeyDown}\r\n              rows={3}\r\n              disabled={isCreating}\r\n            />\r\n            <button \r\n              type=\"submit\" \r\n              className={styles.submitButton}\r\n              disabled={!newPostContent.trim() || isCreating}\r\n            >\r\n              {isCreating ? '–ü—É–±–ª–∏–∫–∞—Ü–∏—è...' : '–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å'}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      )}\r\n\r\n      {/* –°–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–æ–≤ */}\r\n      <div className={styles.postsList}>\r\n        {posts.length === 0 ? (\r\n          <div className={styles.emptyState}>\r\n            <p>–ü–æ–∫–∞ –Ω–µ—Ç –∑–∞–ø–∏—Å–µ–π –Ω–∞ —Å—Ç–µ–Ω–µ</p>\r\n            {isOwnProfile && (\r\n              <p className={styles.emptyHint}>\r\n                –î–æ–±–∞–≤—å—Ç–µ —Ñ–∏–ª—å–º –≤ —Å–ø–∏—Å–æ–∫ –∏–ª–∏ –Ω–∞–ø–∏—à–∏—Ç–µ —á—Ç–æ-–Ω–∏–±—É–¥—å!\r\n              </p>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          posts.map((post) => (\r\n            <WallPost \r\n              key={post.id} \r\n              post={post}\r\n              isOwnProfile={isOwnProfile}\r\n            />\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Wall;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useAppSelector } from '../hooks/useAppSelector';\r\nimport UserPageLayout from '../components/Layout/UserPageLayout';\r\nimport UserAvatar from '../components/User/UserAvatar';\r\nimport ReferralStats from '../components/User/ReferralStats';\r\nimport { AdminModerationPanel } from '../components/Settings';\r\nimport { Wall } from '../components/Wall';\r\nimport api from '../services/api';\r\nimport styles from './UserProfilePage.module.css';\r\n\r\n/**\r\n * –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\r\n * –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç Wall –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –µ–≥–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é\r\n */\r\nconst UserProfilePage = () => {\r\n  const { userId } = useParams();\r\n  \r\n  const { user: currentUser, isAuthenticated } = useAppSelector((state) => state.auth);\r\n  const [profileUser, setProfileUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // –û–ø—Ä–µ–¥–µ–ª—è–µ–º, —ç—Ç–æ —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å –∏–ª–∏ —á—É–∂–æ–π\r\n  const isOwnProfile = currentUser?.id === userId;\r\n  \r\n  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º\r\n  const isAdmin = currentUser?.isAdmin || false;\r\n\r\n  /**\r\n   * –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\r\n   */\r\n  useEffect(() => {\r\n    const fetchProfile = async () => {\r\n      try {\r\n        setLoading(true);\r\n        \r\n        // –ï—Å–ª–∏ —ç—Ç–æ —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å, –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ Redux\r\n        if (isOwnProfile) {\r\n          setProfileUser(currentUser);\r\n          setLoading(false);\r\n          return;\r\n        }\r\n\r\n        // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–æ—Ñ–∏–ª—å –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\r\n        const response = await api.get(`/users/${userId}`);\r\n        setProfileUser(response.data);\r\n      } catch (error) {\r\n        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (isAuthenticated && userId) {\r\n      fetchProfile();\r\n    }\r\n  }, [userId, isAuthenticated, isOwnProfile, currentUser]);\r\n\r\n  /**\r\n   * –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–µ–π—Å—Ç–≤–∏—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏\r\n   * –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ—Å–ª–µ –¥–µ–π—Å—Ç–≤–∏—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏\r\n   */\r\n  const handleModerationAction = async (actionType) => {\r\n    console.log('–î–µ–π—Å—Ç–≤–∏–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏:', actionType);\r\n    \r\n    // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\r\n    try {\r\n      const response = await api.get(`/users/${userId}`);\r\n      setProfileUser(response.data);\r\n    } catch (error) {\r\n      console.error('–û—à–∏–±–∫–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è:', error);\r\n    }\r\n  };\r\n\r\n  if (!isAuthenticated) {\r\n    return (\r\n      <div className={styles.errorContainer}>\r\n        <p>–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className={styles.errorContainer}>\r\n        <p>–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!profileUser) {\r\n    return (\r\n      <div className={styles.errorContainer}>\r\n        <p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <UserPageLayout user={currentUser}>\r\n      <div className={styles.profileContainer}>\r\n        {/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø—Ä–æ—Ñ–∏–ª—è (—Ç–æ–ª—å–∫–æ –¥–ª—è —á—É–∂–∏—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π) */}\r\n        {!isOwnProfile && (\r\n          <div className={styles.profileHeader}>\r\n            <UserAvatar \r\n              user={profileUser} \r\n              size=\"large\" \r\n              showBanIndicator={true}\r\n            />\r\n            <div className={styles.profileInfo}>\r\n              <h1 className={styles.profileName}>{profileUser.displayName}</h1>\r\n              {/* Telegram username —Å–∫—Ä—ã—Ç —É –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π */}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* –ü–∞–Ω–µ–ª—å –º–æ–¥–µ—Ä–∞—Ü–∏–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞ –∏ –Ω–µ –¥–ª—è —Å–≤–æ–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è) */}\r\n        {isAdmin && !isOwnProfile && (\r\n          <AdminModerationPanel \r\n            userId={userId}\r\n            isAdmin={isAdmin}\r\n            onModerationAction={handleModerationAction}\r\n          />\r\n        )}\r\n\r\n        {/* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ (—Ç–æ–ª—å–∫–æ –¥–ª—è —Å–≤–æ–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è) */}\r\n        {isOwnProfile && <ReferralStats userId={userId} />}\r\n\r\n        {/* Wall - –ª–µ–Ω—Ç–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ */}\r\n        <div className={styles.wallSection}>\r\n          <h2 className={styles.sectionTitle}>–õ–µ–Ω—Ç–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</h2>\r\n          <Wall userId={userId} isOwnProfile={isOwnProfile} />\r\n        </div>\r\n      </div>\r\n    </UserPageLayout>\r\n  );\r\n};\r\n\r\nexport default UserProfilePage;\r\n"],"names":["ReferralStats","userId","currentUser","useAppSelector","state","referralCode","setReferralCode","useState","referralsCount","setReferralsCount","referrals","setReferrals","loading","setLoading","showReferrals","setShowReferrals","error","setError","isOwnProfile","useEffect","loadReferralStats","response","api","err","_a","_c","_b","loadReferrals","toggleReferrals","styles","jsx","referral","jsxs","AdminModerationPanel","isAdmin","onModerationAction","alertDialog","showAlert","useAlert","confirmDialog","showConfirm","useConfirm","showBanModal","setShowBanModal","banType","setBanType","reason","setReason","duration","setDuration","handleBanPosts","handlePermanentBan","handleUnban","openPostBanModal","openPermanentBanModal","closeModal","Fragment","e","Wall","dispatch","useAppDispatch","posts","newPostContent","setNewPostContent","isCreating","setIsCreating","fetchWall","handleCreatePost","createPost","handleKeyDown","post","WallPost","UserProfilePage","useParams","isAuthenticated","profileUser","setProfileUser","handleModerationAction","actionType","UserPageLayout","UserAvatar"],"mappings":"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"}