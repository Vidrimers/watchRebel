import{j as e,b as y,a as $,c as g,r as c,s as R,C as j,D as P,x as E}from"./index-BGc1Rv-X.js";const z="_avatarContainer_ytzs4_1",U="_avatarImage_ytzs4_21",A="_avatarPlaceholder_ytzs4_33",p={avatarContainer:z,avatarImage:U,avatarPlaceholder:A,"avatar-small":"_avatar-small_ytzs4_59","avatar-medium":"_avatar-medium_ytzs4_71","avatar-large":"_avatar-large_ytzs4_83","avatar-xlarge":"_avatar-xlarge_ytzs4_95"},F=({user:a,size:r="medium",className:o=""})=>{var m;const h=p[`avatar-${r}`];return e.jsx("div",{className:`${p.avatarContainer} ${h} ${o}`,children:a!=null&&a.avatarUrl?e.jsx("img",{src:a.avatarUrl,alt:a.displayName||"ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ",className:p.avatarImage}):e.jsx("div",{className:p.avatarPlaceholder,children:((m=a==null?void 0:a.displayName)==null?void 0:m.charAt(0).toUpperCase())||"?"})})},S="_errorInline_118it_211",D="_errorInlineIcon_118it_235",q="_errorInlineText_118it_243",Q="_errorInlineClose_118it_251",u={errorInline:S,errorInlineIcon:D,errorInlineText:q,errorInlineClose:Q},W=({error:a,onClose:r})=>{if(!a)return null;const o=typeof a=="string"?a:a.message||a.error||"ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð¾ÑˆÐ¸Ð±ÐºÐ°";return e.jsxs("div",{className:u.errorInline,role:"alert",children:[e.jsx("span",{className:u.errorInlineIcon,children:"âš ï¸"}),e.jsx("span",{className:u.errorInlineText,children:o}),r&&e.jsx("button",{onClick:r,className:u.errorInlineClose,"aria-label":"Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ",children:"Ã—"})]})},M="_searchContainer_15wdw_3",B="_searchInput_15wdw_17",K="_searchPreview_15wdw_61",Y="_previewLoading_15wdw_91",O="_previewEmpty_15wdw_105",G="_previewList_15wdw_119",H="_previewItem_15wdw_133",J="_userResult_15wdw_165",V="_userAvatar_15wdw_177",X="_userInfo_15wdw_191",Z="_userName_15wdw_203",ee="_userType_15wdw_215",ae="_mediaResult_15wdw_227",se="_mediaPoster_15wdw_239",ne="_mediaInfo_15wdw_253",te="_mediaTitle_15wdw_265",re="_mediaType_15wdw_277",ie="_previewFooter_15wdw_289",n={searchContainer:M,searchInput:B,searchPreview:K,previewLoading:Y,previewEmpty:O,previewList:G,previewItem:H,userResult:J,userAvatar:V,userInfo:X,userName:Z,userType:ee,mediaResult:ae,mediaPoster:se,mediaInfo:ne,mediaTitle:te,mediaType:re,previewFooter:ie},ce=()=>{const a=y(),r=$(),{searchResults:o,loading:h,error:m}=g(s=>s.media),[l,I]=c.useState(""),[k,d]=c.useState(!1),[x,C]=c.useState(""),f=c.useRef(null),v=c.useRef(null);c.useEffect(()=>(v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{C(l)},300),()=>{v.current&&clearTimeout(v.current)}),[l]),c.useEffect(()=>{x.trim().length>0?(a(R({query:x,filters:{}})),d(!0)):d(!1)},[x,a]),c.useEffect(()=>{const s=_=>{f.current&&!f.current.contains(_.target)&&d(!1)};return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[]);const L=s=>{const _=s.target.value;I(_),a(P(_)),m&&a(j())},b=s=>{s.key==="Enter"&&l.trim()&&(d(!1),r(`/search?q=${encodeURIComponent(l)}`))},T=s=>{d(!1),s.type==="user"?r(`/user/${s.data.id}`):r(`/media/${s.data.mediaType}/${s.data.tmdbId}`)},N=o.slice(0,5);return e.jsxs("div",{className:n.searchContainer,ref:f,children:[e.jsx("input",{type:"text",placeholder:"ÐŸÐ¾Ð¸ÑÐº Ñ„Ð¸Ð»ÑŒÐ¼Ð¾Ð², ÑÐµÑ€Ð¸Ð°Ð»Ð¾Ð², Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹...",className:n.searchInput,value:l,onChange:L,onKeyDown:b,onFocus:()=>l.trim()&&d(!0)}),k&&l.trim()&&e.jsxs("div",{className:n.searchPreview,children:[m&&e.jsx("div",{className:n.previewError,children:e.jsx(W,{error:m,onClose:()=>a(j())})}),h?e.jsx("div",{className:n.previewLoading,children:e.jsx("span",{children:"ÐŸÐ¾Ð¸ÑÐº..."})}):N.length>0?e.jsxs(e.Fragment,{children:[e.jsx("ul",{className:n.previewList,children:N.map((s,_)=>e.jsx("li",{className:n.previewItem,onClick:()=>T(s),children:s.type==="user"?e.jsxs("div",{className:n.userResult,children:[e.jsx("img",{src:s.data.avatarUrl||"/default-avatar.png",alt:s.data.displayName,className:n.userAvatar}),e.jsxs("div",{className:n.userInfo,children:[e.jsx("span",{className:n.userName,children:s.data.displayName}),e.jsx("span",{className:n.userType,children:"ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ"})]})]}):e.jsxs("div",{className:n.mediaResult,children:[e.jsx("img",{src:s.data.posterPath?`https://image.tmdb.org/t/p/w92${s.data.posterPath}`:"/default-poster.png",alt:s.data.title,className:n.mediaPoster}),e.jsxs("div",{className:n.mediaInfo,children:[e.jsx("span",{className:n.mediaTitle,children:s.data.title}),e.jsx("span",{className:n.mediaType,children:s.data.mediaType==="movie"?"Ð¤Ð¸Ð»ÑŒÐ¼":"Ð¡ÐµÑ€Ð¸Ð°Ð»"})]})]})},`${s.type}-${s.data.id||s.data.tmdbId}-${_}`))}),o.length>5&&e.jsxs("div",{className:n.previewFooter,onClick:()=>{d(!1),r(`/search?q=${encodeURIComponent(l)}`)},children:["ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð²ÑÐµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ (",o.length,")"]})]}):e.jsx("div",{className:n.previewEmpty,children:e.jsx("span",{children:"ÐÐ¸Ñ‡ÐµÐ³Ð¾ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾"})})]})]})},oe="_badge_1nn9d_1",le={badge:oe},de=()=>{const a=y(),{unreadCount:r,loading:o}=g(h=>h.notifications);return c.useEffect(()=>{a(E())},[a]),r===0?null:e.jsx("span",{className:le.badge,"aria-label":`${r} Ð½ÐµÐ¿Ñ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ð½Ð½Ñ‹Ñ… ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹`,children:r>99?"99+":r})},me="_sidebar_1kyex_3",_e="_userInfo_1kyex_21",he="_userName_1kyex_43",ve="_navigation_1kyex_61",pe="_navList_1kyex_75",ue="_navItem_1kyex_93",xe="_navLink_1kyex_101",fe="_notificationsContainer_1kyex_133",we="_notificationsLink_1kyex_147",Ne="_settingsContainer_1kyex_203",je="_settingsLink_1kyex_217",t={sidebar:me,userInfo:_e,userName:he,navigation:ve,navList:pe,navItem:ue,navLink:xe,notificationsContainer:fe,notificationsLink:we,settingsContainer:Ne,settingsLink:je},ye=({user:a})=>e.jsxs("aside",{className:t.sidebar,children:[e.jsx(ce,{}),a&&e.jsxs("div",{className:t.userInfo,children:[e.jsx(F,{user:a,size:"medium"}),e.jsx("h2",{className:t.userName,children:a.displayName})]}),e.jsx("nav",{className:t.navigation,children:e.jsxs("ul",{className:t.navList,children:[e.jsx("li",{className:t.navItem,children:e.jsx("a",{href:"/lists?type=movie",className:t.navLink,children:"ðŸŽ¬ ÐœÐ¾Ð¸ Ñ„Ð¸Ð»ÑŒÐ¼Ñ‹"})}),e.jsx("li",{className:t.navItem,children:e.jsx("a",{href:"/lists?type=tv",className:t.navLink,children:"ðŸ“º ÐœÐ¾Ð¸ ÑÐµÑ€Ð¸Ð°Ð»Ñ‹"})}),e.jsx("li",{className:t.navItem,children:e.jsx("a",{href:"/watchlist",className:t.navLink,children:"â­ Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð¶ÐµÐ»Ð°ÐµÐ¼Ð¾Ð³Ð¾"})}),e.jsx("li",{className:t.navItem,children:e.jsx("a",{href:"/friends",className:t.navLink,children:"ðŸ‘¥ Ð”Ñ€ÑƒÐ·ÑŒÑ"})})]})}),e.jsx("div",{className:t.notificationsContainer,children:e.jsxs("a",{href:"/notifications",className:t.notificationsLink,children:["ðŸ”” Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ",e.jsx(de,{})]})}),e.jsx("div",{className:t.settingsContainer,children:e.jsx("a",{href:"/settings",className:t.settingsLink,children:"âš™ï¸ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸"})})]}),ge="_footer_195rk_3",Ie="_footerContent_195rk_17",ke="_copyright_195rk_35",Ce="_links_195rk_49",Le="_link_195rk_49",be="_separator_195rk_87",i={footer:ge,footerContent:Ie,copyright:ke,links:Ce,link:Le,separator:be},Te=()=>{const a=new Date().getFullYear();return e.jsx("footer",{className:i.footer,children:e.jsxs("div",{className:i.footerContent,children:[e.jsxs("p",{className:i.copyright,children:["Â© ",a," watchRebel. Ð¡Ð¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð°Ñ ÑÐµÑ‚ÑŒ Ð´Ð»Ñ Ð»ÑŽÐ±Ð¸Ñ‚ÐµÐ»ÐµÐ¹ ÐºÐ¸Ð½Ð¾."]}),e.jsxs("div",{className:i.links,children:[e.jsx("a",{href:"/about",className:i.link,children:"Ðž Ð¿Ñ€Ð¾ÐµÐºÑ‚Ðµ"}),e.jsx("span",{className:i.separator,children:"â€¢"}),e.jsx("a",{href:"/privacy",className:i.link,children:"ÐšÐ¾Ð½Ñ„Ð¸Ð´ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ"}),e.jsx("span",{className:i.separator,children:"â€¢"}),e.jsx("a",{href:"/terms",className:i.link,children:"Ð£ÑÐ»Ð¾Ð²Ð¸Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ"})]})]})})},$e="_pageContainer_e4b5n_3",Re="_contentWrapper_e4b5n_19",Pe="_mainContent_e4b5n_41",w={pageContainer:$e,contentWrapper:Re,mainContent:Pe},ze=({children:a,user:r})=>e.jsxs("div",{className:w.pageContainer,children:[e.jsxs("div",{className:w.contentWrapper,children:[e.jsx("main",{className:w.mainContent,children:a}),e.jsx(ye,{user:r})]}),e.jsx(Te,{})]});export{ze as U,F as a};
//# sourceMappingURL=UserPageLayout-Cne3eD7Q.js.map
