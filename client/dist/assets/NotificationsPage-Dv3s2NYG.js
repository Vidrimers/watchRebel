import{b as p,c as f,r as x,A as N,j as t,B as j}from"./index-C3TbUOD_.js";const g="_container_7mmc9_1",y="_title_7mmc9_13",v="_loading_7mmc9_27",D="_empty_7mmc9_29",I="_emptyIcon_7mmc9_41",$="_list_7mmc9_55",w="_item_7mmc9_67",R="_unread_7mmc9_103",A="_icon_7mmc9_113",M="_content_7mmc9_133",U="_text_7mmc9_143",b="_time_7mmc9_157",k="_unreadDot_7mmc9_167",s={container:g,title:y,loading:v,empty:D,emptyIcon:I,list:$,item:w,unread:R,icon:A,content:M,text:U,time:b,unreadDot:k},E=()=>{const c=p(),{notifications:n,loading:m}=f(e=>e.notifications);x.useEffect(()=>{c(N())},[c]);const _=e=>{e.isRead||c(j(e.id)),e.relatedPostId?window.location.href=`/user/${e.relatedUserId}#post-${e.relatedPostId}`:e.relatedUserId&&(window.location.href=`/user/${e.relatedUserId}`)},u=e=>{const a=new Date(e),o=new Date,r=o-a,i=Math.floor(r/6e4),l=Math.floor(r/36e5),d=Math.floor(r/864e5);return i<1?"혝쮏혧햨 혢혝":i<60?`${i} 햪햦햫 햫햟향햟햢`:l<24?`${l} 혢 햫햟향햟햢`:d<7?`${d} 햢햫 햫햟향햟햢`:a.toLocaleDateString("ru-RU",{day:"numeric",month:"short",year:a.getFullYear()!==o.getFullYear()?"numeric":void 0})},h=e=>{switch(e){case"reaction":return"仇벒잺";case"friend_activity":return"游녻";default:return"游댒"}};return m&&n.length===0?t.jsx("div",{className:s.container,children:t.jsx("div",{className:s.loading,children:"행햟햡혞향햨햟 혞쒫왏얧쮏쨿햣햫햦햧..."})}):n.length===0?t.jsx("div",{className:s.container,children:t.jsxs("div",{className:s.empty,children:[t.jsx("span",{className:s.emptyIcon,children:"游댒"}),t.jsx("p",{children:"쮏쥃 햫햣혝 혞쒫왏얧쮏쨿햣햫햦햧"})]})}):t.jsxs("div",{className:s.container,children:[t.jsx("h2",{className:s.title,children:"햒쒫왏얧쮏쨿햣햫햦혪"}),t.jsx("ul",{className:s.list,children:n.map(e=>t.jsxs("li",{className:`${s.item} ${e.isRead?"":s.unread}`,onClick:()=>_(e),children:[t.jsx("div",{className:s.icon,children:h(e.type)}),t.jsxs("div",{className:s.content,children:[t.jsx("p",{className:s.text,children:e.content}),t.jsx("span",{className:s.time,children:u(e.createdAt)})]}),!e.isRead&&t.jsx("div",{className:s.unreadDot,"aria-label":"햏햣쮐햦혝햟햫"})]},e.id))})]})},P="_page_1bh35_1",C={page:P},L=()=>t.jsx("div",{className:C.page,children:t.jsx(E,{})});export{L as default};
//# sourceMappingURL=NotificationsPage-Dv3s2NYG.js.map
