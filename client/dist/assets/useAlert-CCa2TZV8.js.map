{"version":3,"file":"useAlert-CCa2TZV8.js","sources":["../../src/components/Common/AlertDialog.jsx","../../src/hooks/useAlert.jsx"],"sourcesContent":["import React from 'react';\r\nimport styles from './AlertDialog.module.css';\r\n\r\n/**\r\n * Компонент диалога уведомления\r\n * @param {Object} props\r\n * @param {boolean} props.isOpen - Открыт ли диалог\r\n * @param {string} props.title - Заголовок диалога\r\n * @param {string} props.message - Текст сообщения\r\n * @param {string} props.type - Тип уведомления: 'info', 'success', 'error', 'warning'\r\n * @param {string} props.buttonText - Текст кнопки (по умолчанию \"ОК\")\r\n * @param {Function} props.onClose - Callback при закрытии\r\n */\r\nconst AlertDialog = ({\r\n  isOpen,\r\n  title,\r\n  message,\r\n  type = 'info',\r\n  buttonText = 'ОК',\r\n  onClose\r\n}) => {\r\n  if (!isOpen) return null;\r\n\r\n  const handleBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n  };\r\n\r\n  // Иконки для разных типов\r\n  const icons = {\r\n    info: (\r\n      <svg className={styles.icon} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\r\n        <circle cx=\"12\" cy=\"12\" r=\"10\" strokeWidth=\"2\"/>\r\n        <line x1=\"12\" y1=\"16\" x2=\"12\" y2=\"12\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\r\n        <circle cx=\"12\" cy=\"8\" r=\"1\" fill=\"currentColor\"/>\r\n      </svg>\r\n    ),\r\n    success: (\r\n      <svg className={styles.icon} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\r\n        <circle cx=\"12\" cy=\"12\" r=\"10\" strokeWidth=\"2\"/>\r\n        <path d=\"M9 12l2 2 4-4\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n      </svg>\r\n    ),\r\n    error: (\r\n      <svg className={styles.icon} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\r\n        <circle cx=\"12\" cy=\"12\" r=\"10\" strokeWidth=\"2\"/>\r\n        <line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\r\n        <line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\r\n      </svg>\r\n    ),\r\n    warning: (\r\n      <svg className={styles.icon} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\r\n        <path d=\"M12 2L2 20h20L12 2z\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n        <line x1=\"12\" y1=\"9\" x2=\"12\" y2=\"13\" strokeWidth=\"2\" strokeLinecap=\"round\"/>\r\n        <circle cx=\"12\" cy=\"17\" r=\"1\" fill=\"currentColor\"/>\r\n      </svg>\r\n    )\r\n  };\r\n\r\n  return (\r\n    <div className={styles.backdrop} onClick={handleBackdropClick}>\r\n      <div className={`${styles.dialog} ${styles[type]}`}>\r\n        <div className={styles.iconContainer}>\r\n          {icons[type]}\r\n        </div>\r\n        {title && <h2 className={styles.title}>{title}</h2>}\r\n        <p className={styles.message}>{message}</p>\r\n        <button\r\n          className={`${styles.button} ${styles[`${type}Button`]}`}\r\n          onClick={handleClose}\r\n        >\r\n          {buttonText}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AlertDialog;\r\n","import React from 'react';\r\nimport { useState, useCallback } from 'react';\r\nimport AlertDialog from '../components/Common/AlertDialog';\r\n\r\n/**\r\n * Хук для отображения диалога уведомления\r\n * @returns {Object} { alertDialog, showAlert }\r\n */\r\nconst useAlert = () => {\r\n  const [dialogState, setDialogState] = useState({\r\n    isOpen: false,\r\n    title: '',\r\n    message: '',\r\n    type: 'info',\r\n    buttonText: 'ОК',\r\n    resolver: null\r\n  });\r\n\r\n  /**\r\n   * Показать диалог уведомления\r\n   * @param {Object} options\r\n   * @param {string} options.title - Заголовок диалога\r\n   * @param {string} options.message - Текст сообщения\r\n   * @param {string} options.type - Тип: 'info', 'success', 'error', 'warning'\r\n   * @param {string} options.buttonText - Текст кнопки\r\n   * @returns {Promise<void>} Promise, который резолвится при закрытии диалога\r\n   */\r\n  const showAlert = useCallback((options) => {\r\n    return new Promise((resolve) => {\r\n      setDialogState({\r\n        isOpen: true,\r\n        title: options.title || '',\r\n        message: options.message || '',\r\n        type: options.type || 'info',\r\n        buttonText: options.buttonText || 'ОК',\r\n        resolver: resolve\r\n      });\r\n    });\r\n  }, []);\r\n\r\n  const handleClose = useCallback(() => {\r\n    if (dialogState.resolver) {\r\n      dialogState.resolver();\r\n    }\r\n    setDialogState(prev => ({ ...prev, isOpen: false }));\r\n  }, [dialogState.resolver]);\r\n\r\n  const alertDialog = (\r\n    <AlertDialog\r\n      isOpen={dialogState.isOpen}\r\n      title={dialogState.title}\r\n      message={dialogState.message}\r\n      type={dialogState.type}\r\n      buttonText={dialogState.buttonText}\r\n      onClose={handleClose}\r\n    />\r\n  );\r\n\r\n  return { alertDialog, showAlert };\r\n};\r\n\r\nexport default useAlert;\r\n"],"names":["AlertDialog","isOpen","title","message","type","buttonText","onClose","handleBackdropClick","e","handleClose","icons","jsxs","styles","jsx","useAlert","dialogState","setDialogState","useState","showAlert","useCallback","options","resolve","prev"],"mappings":"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"}