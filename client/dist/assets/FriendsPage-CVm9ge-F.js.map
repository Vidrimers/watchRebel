{"version":3,"file":"FriendsPage-CVm9ge-F.js","sources":["../../src/pages/FriendsPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useAppSelector } from '../hooks/useAppSelector';\r\nimport UserPageLayout from '../components/Layout/UserPageLayout';\r\nimport api from '../services/api';\r\nimport styles from './FriendsPage.module.css';\r\n\r\n/**\r\n * –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥—Ä—É–∑–µ–π\r\n * –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\r\n */\r\nconst FriendsPage = () => {\r\n  const { user } = useAppSelector((state) => state.auth);\r\n  const [friends, setFriends] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      loadFriends();\r\n    }\r\n  }, [user]);\r\n\r\n  const loadFriends = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const response = await api.get(`/users/${user.id}/friends`);\r\n      setFriends(response.data);\r\n    } catch (err) {\r\n      console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥—Ä—É–∑–µ–π:', err);\r\n      setError('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–ø–∏—Å–æ–∫ –¥—Ä—É–∑–µ–π');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleVisitProfile = (friendId) => {\r\n    window.location.href = `/user/${friendId}`;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <UserPageLayout>\r\n        <div className={styles.container}>\r\n          <div className={styles.loading}>–ó–∞–≥—Ä—É–∑–∫–∞ –¥—Ä—É–∑–µ–π...</div>\r\n        </div>\r\n      </UserPageLayout>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <UserPageLayout>\r\n        <div className={styles.container}>\r\n          <div className={styles.error}>{error}</div>\r\n        </div>\r\n      </UserPageLayout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <UserPageLayout>\r\n      <div className={styles.container}>\r\n        <h1 className={styles.title}>–ú–æ–∏ –¥—Ä—É–∑—å—è</h1>\r\n        \r\n        {friends.length === 0 ? (\r\n          <div className={styles.empty}>\r\n            <span className={styles.emptyIcon}>üë•</span>\r\n            <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –¥—Ä—É–∑–µ–π</p>\r\n            <p className={styles.emptyHint}>\r\n              –ù–∞–π–¥–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ –ø–æ–∏—Å–∫ –∏ –¥–æ–±–∞–≤—å—Ç–µ –∏—Ö –≤ –¥—Ä—É–∑—å—è\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          <div className={styles.friendsList}>\r\n            {friends.map((friend) => (\r\n              <div key={friend.id} className={styles.friendCard}>\r\n                <div className={styles.friendAvatar}>\r\n                  {friend.avatarUrl ? (\r\n                    <img \r\n                      src={friend.avatarUrl} \r\n                      alt={friend.displayName}\r\n                      className={styles.avatarImage}\r\n                    />\r\n                  ) : (\r\n                    <div className={styles.avatarPlaceholder}>\r\n                      {friend.displayName.charAt(0).toUpperCase()}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                \r\n                <div className={styles.friendInfo}>\r\n                  <h3 className={styles.friendName}>{friend.displayName}</h3>\r\n                  {friend.telegramUsername && (\r\n                    <p className={styles.friendUsername}>@{friend.telegramUsername}</p>\r\n                  )}\r\n                </div>\r\n                \r\n                <button\r\n                  className={styles.visitButton}\r\n                  onClick={() => handleVisitProfile(friend.id)}\r\n                >\r\n                  –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø—Ä–æ—Ñ–∏–ª—å\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </UserPageLayout>\r\n  );\r\n};\r\n\r\nexport default FriendsPage;\r\n"],"names":["FriendsPage","user","useAppSelector","state","friends","setFriends","useState","loading","setLoading","error","setError","useEffect","loadFriends","response","api","err","handleVisitProfile","friendId","jsx","UserPageLayout","styles","jsxs","friend"],"mappings":"+sBAUMA,EAAc,IAAM,CACxB,KAAM,CAAE,KAAAC,CAAA,EAASC,EAAgBC,GAAUA,EAAM,IAAI,EAC/C,CAACC,EAASC,CAAU,EAAIC,EAAAA,SAAS,CAAA,CAAE,EACnC,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAS,EAAI,EACrC,CAACG,EAAOC,CAAQ,EAAIJ,EAAAA,SAAS,IAAI,EAEvCK,EAAAA,UAAU,IAAM,CACVV,GACFW,EAAA,CAEJ,EAAG,CAACX,CAAI,CAAC,EAET,MAAMW,EAAc,SAAY,CAC9B,GAAI,CACFJ,EAAW,EAAI,EACfE,EAAS,IAAI,EACb,MAAMG,EAAW,MAAMC,EAAI,IAAI,UAAUb,EAAK,EAAE,UAAU,EAC1DI,EAAWQ,EAAS,IAAI,CAC1B,OAASE,EAAK,CACZ,QAAQ,MAAM,0BAA2BA,CAAG,EAC5CL,EAAS,oCAAoC,CAC/C,QAAA,CACEF,EAAW,EAAK,CAClB,CACF,EAEMQ,EAAsBC,GAAa,CACvC,OAAO,SAAS,KAAO,SAASA,CAAQ,EAC1C,EAEA,OAAIV,EAEAW,EAAAA,IAACC,EAAA,CACC,SAAAD,EAAAA,IAAC,MAAA,CAAI,UAAWE,EAAO,UACrB,SAAAF,EAAAA,IAAC,MAAA,CAAI,UAAWE,EAAO,QAAS,SAAA,oBAAA,CAAkB,EACpD,EACF,EAIAX,EAEAS,EAAAA,IAACC,EAAA,CACC,SAAAD,EAAAA,IAAC,MAAA,CAAI,UAAWE,EAAO,UACrB,SAAAF,EAAAA,IAAC,MAAA,CAAI,UAAWE,EAAO,MAAQ,SAAAX,CAAA,CAAM,EACvC,EACF,QAKDU,EAAA,CACC,SAAAE,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,UACrB,SAAA,CAAAF,EAAAA,IAAC,KAAA,CAAG,UAAWE,EAAO,MAAO,SAAA,aAAU,EAEtChB,EAAQ,SAAW,SACjB,MAAA,CAAI,UAAWgB,EAAO,MACrB,SAAA,CAAAF,EAAAA,IAAC,OAAA,CAAK,UAAWE,EAAO,UAAW,SAAA,KAAE,EACrCF,EAAAA,IAAC,KAAE,SAAA,uBAAA,CAAqB,EACxBA,EAAAA,IAAC,IAAA,CAAE,UAAWE,EAAO,UAAW,SAAA,0DAAA,CAEhC,CAAA,CAAA,CACF,EAEAF,EAAAA,IAAC,MAAA,CAAI,UAAWE,EAAO,YACpB,SAAAhB,EAAQ,IAAKkB,GACZD,EAAAA,KAAC,MAAA,CAAoB,UAAWD,EAAO,WACrC,SAAA,CAAAF,MAAC,MAAA,CAAI,UAAWE,EAAO,aACpB,WAAO,UACNF,EAAAA,IAAC,MAAA,CACC,IAAKI,EAAO,UACZ,IAAKA,EAAO,YACZ,UAAWF,EAAO,WAAA,CAAA,EAGpBF,EAAAA,IAAC,MAAA,CAAI,UAAWE,EAAO,kBACpB,SAAAE,EAAO,YAAY,OAAO,CAAC,EAAE,YAAA,EAChC,CAAA,CAEJ,EAEAD,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,WACrB,SAAA,CAAAF,MAAC,KAAA,CAAG,UAAWE,EAAO,WAAa,WAAO,YAAY,EACrDE,EAAO,kBACND,EAAAA,KAAC,IAAA,CAAE,UAAWD,EAAO,eAAgB,SAAA,CAAA,IAAEE,EAAO,gBAAA,CAAA,CAAiB,CAAA,EAEnE,EAEAJ,EAAAA,IAAC,SAAA,CACC,UAAWE,EAAO,YAClB,QAAS,IAAMJ,EAAmBM,EAAO,EAAE,EAC5C,SAAA,mBAAA,CAAA,CAED,GA3BQA,EAAO,EA4BjB,CACD,CAAA,CACH,CAAA,CAAA,CAEJ,CAAA,CACF,CAEJ"}