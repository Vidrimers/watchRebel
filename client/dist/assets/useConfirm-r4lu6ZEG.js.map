{"version":3,"file":"useConfirm-r4lu6ZEG.js","sources":["../../src/hooks/useConfirm.jsx"],"sourcesContent":["import React from 'react';\r\nimport { useState, useCallback } from 'react';\r\nimport ConfirmDialog from '../components/Common/ConfirmDialog';\r\n\r\n/**\r\n * Хук для отображения диалога подтверждения\r\n * @returns {Object} { confirmDialog, showConfirm }\r\n */\r\nconst useConfirm = () => {\r\n  const [dialogState, setDialogState] = useState({\r\n    isOpen: false,\r\n    title: '',\r\n    message: '',\r\n    confirmText: 'Подтвердить',\r\n    cancelText: 'Отмена',\r\n    confirmButtonStyle: 'primary',\r\n    resolver: null\r\n  });\r\n\r\n  /**\r\n   * Показать диалог подтверждения\r\n   * @param {Object} options\r\n   * @param {string} options.title - Заголовок диалога\r\n   * @param {string} options.message - Текст сообщения\r\n   * @param {string} options.confirmText - Текст кнопки подтверждения\r\n   * @param {string} options.cancelText - Текст кнопки отмены\r\n   * @param {string} options.confirmButtonStyle - Стиль кнопки: 'danger', 'primary', 'success'\r\n   * @returns {Promise<boolean>} Promise, который резолвится в true при подтверждении, false при отмене\r\n   */\r\n  const showConfirm = useCallback((options) => {\r\n    return new Promise((resolve) => {\r\n      setDialogState({\r\n        isOpen: true,\r\n        title: options.title || '',\r\n        message: options.message || '',\r\n        confirmText: options.confirmText || 'Подтвердить',\r\n        cancelText: options.cancelText || 'Отмена',\r\n        confirmButtonStyle: options.confirmButtonStyle || 'primary',\r\n        resolver: resolve\r\n      });\r\n    });\r\n  }, []);\r\n\r\n  const handleConfirm = useCallback(() => {\r\n    if (dialogState.resolver) {\r\n      dialogState.resolver(true);\r\n    }\r\n    setDialogState(prev => ({ ...prev, isOpen: false }));\r\n  }, [dialogState.resolver]);\r\n\r\n  const handleCancel = useCallback(() => {\r\n    if (dialogState.resolver) {\r\n      dialogState.resolver(false);\r\n    }\r\n    setDialogState(prev => ({ ...prev, isOpen: false }));\r\n  }, [dialogState.resolver]);\r\n\r\n  const confirmDialog = (\r\n    <ConfirmDialog\r\n      isOpen={dialogState.isOpen}\r\n      title={dialogState.title}\r\n      message={dialogState.message}\r\n      confirmText={dialogState.confirmText}\r\n      cancelText={dialogState.cancelText}\r\n      confirmButtonStyle={dialogState.confirmButtonStyle}\r\n      onConfirm={handleConfirm}\r\n      onCancel={handleCancel}\r\n    />\r\n  );\r\n\r\n  return { confirmDialog, showConfirm };\r\n};\r\n\r\nexport default useConfirm;\r\n"],"names":["useConfirm","dialogState","setDialogState","useState","showConfirm","useCallback","options","resolve","handleConfirm","prev","handleCancel","jsx","ConfirmDialog"],"mappings":"0FAQA,MAAMA,EAAa,IAAM,CACvB,KAAM,CAACC,EAAaC,CAAc,EAAIC,WAAS,CAC7C,OAAQ,GACR,MAAO,GACP,QAAS,GACT,YAAa,cACb,WAAY,SACZ,mBAAoB,UACpB,SAAU,IAAA,CACX,EAYKC,EAAcC,cAAaC,GACxB,IAAI,QAASC,GAAY,CAC9BL,EAAe,CACb,OAAQ,GACR,MAAOI,EAAQ,OAAS,GACxB,QAASA,EAAQ,SAAW,GAC5B,YAAaA,EAAQ,aAAe,cACpC,WAAYA,EAAQ,YAAc,SAClC,mBAAoBA,EAAQ,oBAAsB,UAClD,SAAUC,CAAA,CACX,CACH,CAAC,EACA,CAAA,CAAE,EAECC,EAAgBH,EAAAA,YAAY,IAAM,CAClCJ,EAAY,UACdA,EAAY,SAAS,EAAI,EAE3BC,MAAwB,CAAE,GAAGO,EAAM,OAAQ,IAAQ,CACrD,EAAG,CAACR,EAAY,QAAQ,CAAC,EAEnBS,EAAeL,EAAAA,YAAY,IAAM,CACjCJ,EAAY,UACdA,EAAY,SAAS,EAAK,EAE5BC,MAAwB,CAAE,GAAGO,EAAM,OAAQ,IAAQ,CACrD,EAAG,CAACR,EAAY,QAAQ,CAAC,EAezB,MAAO,CAAE,cAZPU,EAAAA,IAACC,EAAA,CACC,OAAQX,EAAY,OACpB,MAAOA,EAAY,MACnB,QAASA,EAAY,QACrB,YAAaA,EAAY,YACzB,WAAYA,EAAY,WACxB,mBAAoBA,EAAY,mBAChC,UAAWO,EACX,SAAUE,CAAA,CAAA,EAIU,YAAAN,CAAA,CAC1B"}