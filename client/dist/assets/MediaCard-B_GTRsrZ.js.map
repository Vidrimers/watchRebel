{"version":3,"file":"MediaCard-B_GTRsrZ.js","sources":["../../src/components/Media/MediaCard.jsx"],"sourcesContent":["import React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport styles from './MediaCard.module.css';\r\n\r\n/**\r\n * Карточка медиа-контента (фильм или сериал)\r\n * Отображает постер, название, рейтинг и прогресс просмотра (для сериалов)\r\n */\r\nconst MediaCard = ({ \r\n  media, \r\n  showProgress = false, \r\n  progress = null,\r\n  onAddToList, \r\n  onRate \r\n}) => {\r\n  const navigate = useNavigate();\r\n\r\n  // Обработка клика на карточку - переход на детальную страницу\r\n  const handleClick = () => {\r\n    navigate(`/media/${media.mediaType}/${media.tmdbId}`);\r\n  };\r\n\r\n  // Формирование URL постера\r\n  const posterUrl = media.posterPath\r\n    ? `https://image.tmdb.org/t/p/w342${media.posterPath}`\r\n    : '/default-poster.png';\r\n\r\n  // Форматирование даты релиза\r\n  const releaseYear = media.releaseDate \r\n    ? new Date(media.releaseDate).getFullYear() \r\n    : null;\r\n\r\n  return (\r\n    <div className={styles.mediaCard} onClick={handleClick}>\r\n      <div className={styles.posterContainer}>\r\n        <img \r\n          src={posterUrl} \r\n          alt={media.title}\r\n          className={styles.poster}\r\n          loading=\"lazy\"\r\n        />\r\n        \r\n        {/* Рейтинг TMDb */}\r\n        {media.voteAverage > 0 && (\r\n          <div className={styles.rating}>\r\n            <span className={styles.ratingValue}>\r\n              {media.voteAverage.toFixed(1)}\r\n            </span>\r\n          </div>\r\n        )}\r\n\r\n        {/* Прогресс просмотра для сериалов */}\r\n        {showProgress && progress && media.mediaType === 'tv' && (\r\n          <div className={styles.progressBadge}>\r\n            S{progress.seasonNumber}E{progress.episodeNumber}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className={styles.info}>\r\n        <h3 className={styles.title}>{media.title}</h3>\r\n        \r\n        <div className={styles.meta}>\r\n          <span className={styles.type}>\r\n            {media.mediaType === 'movie' ? 'Фильм' : 'Сериал'}\r\n          </span>\r\n          {releaseYear && (\r\n            <>\r\n              <span className={styles.separator}>•</span>\r\n              <span className={styles.year}>{releaseYear}</span>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Кнопки действий (опционально) */}\r\n      {(onAddToList || onRate) && (\r\n        <div className={styles.actions} onClick={(e) => e.stopPropagation()}>\r\n          {onAddToList && (\r\n            <button \r\n              className={styles.actionButton}\r\n              onClick={() => onAddToList(media)}\r\n              title=\"Добавить в список\"\r\n            >\r\n              +\r\n            </button>\r\n          )}\r\n          {onRate && (\r\n            <button \r\n              className={styles.actionButton}\r\n              onClick={() => onRate(media)}\r\n              title=\"Оценить\"\r\n            >\r\n              ★\r\n            </button>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MediaCard;\r\n"],"names":["MediaCard","media","showProgress","progress","onAddToList","onRate","navigate","useNavigate","handleClick","posterUrl","releaseYear","styles","jsxs","jsx","Fragment","e"],"mappings":"uhBAQMA,EAAY,CAAC,CACjB,MAAAC,EACA,aAAAC,EAAe,GACf,SAAAC,EAAW,KACX,YAAAC,EACA,OAAAC,CACF,IAAM,CACJ,MAAMC,EAAWC,EAAA,EAGXC,EAAc,IAAM,CACxBF,EAAS,UAAUL,EAAM,SAAS,IAAIA,EAAM,MAAM,EAAE,CACtD,EAGMQ,EAAYR,EAAM,WACpB,kCAAkCA,EAAM,UAAU,GAClD,sBAGES,EAAcT,EAAM,YACtB,IAAI,KAAKA,EAAM,WAAW,EAAE,YAAA,EAC5B,KAEJ,cACG,MAAA,CAAI,UAAWU,EAAO,UAAW,QAASH,EACzC,SAAA,CAAAI,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,gBACrB,SAAA,CAAAE,EAAAA,IAAC,MAAA,CACC,IAAKJ,EACL,IAAKR,EAAM,MACX,UAAWU,EAAO,OAClB,QAAQ,MAAA,CAAA,EAITV,EAAM,YAAc,SAClB,MAAA,CAAI,UAAWU,EAAO,OACrB,SAAAE,EAAAA,IAAC,OAAA,CAAK,UAAWF,EAAO,YACrB,SAAAV,EAAM,YAAY,QAAQ,CAAC,EAC9B,EACF,EAIDC,GAAgBC,GAAYF,EAAM,YAAc,MAC/CW,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,cAAe,SAAA,CAAA,IAClCR,EAAS,aAAa,IAAEA,EAAS,aAAA,CAAA,CACrC,CAAA,EAEJ,EAEAS,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,KACrB,SAAA,CAAAE,MAAC,KAAA,CAAG,UAAWF,EAAO,MAAQ,WAAM,MAAM,EAE1CC,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,KACrB,SAAA,CAAAE,EAAAA,IAAC,OAAA,CAAK,UAAWF,EAAO,KACrB,WAAM,YAAc,QAAU,QAAU,QAAA,CAC3C,EACCD,GACCE,EAAAA,KAAAE,WAAA,CACE,SAAA,CAAAD,EAAAA,IAAC,OAAA,CAAK,UAAWF,EAAO,UAAW,SAAA,IAAC,EACpCE,EAAAA,IAAC,OAAA,CAAK,UAAWF,EAAO,KAAO,SAAAD,CAAA,CAAY,CAAA,CAAA,CAC7C,CAAA,CAAA,CAEJ,CAAA,EACF,GAGEN,GAAeC,IACfO,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,QAAS,QAAUI,GAAMA,EAAE,gBAAA,EAC/C,SAAA,CAAAX,GACCS,EAAAA,IAAC,SAAA,CACC,UAAWF,EAAO,aAClB,QAAS,IAAMP,EAAYH,CAAK,EAChC,MAAM,oBACP,SAAA,GAAA,CAAA,EAIFI,GACCQ,EAAAA,IAAC,SAAA,CACC,UAAWF,EAAO,aAClB,QAAS,IAAMN,EAAOJ,CAAK,EAC3B,MAAM,UACP,SAAA,GAAA,CAAA,CAED,CAAA,CAEJ,CAAA,EAEJ,CAEJ"}