{"version":3,"file":"UserProfilePage-AWS7u_zQ.js","sources":["../../src/components/User/ReferralStats.jsx","../../src/components/Settings/AdminModerationPanel.jsx","../../src/components/Wall/ReactionPicker.jsx","../../src/components/Wall/WallPost.jsx","../../src/components/Wall/Wall.jsx","../../src/pages/UserProfilePage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useAppSelector } from '../../hooks/useAppSelector';\r\nimport api from '../../services/api';\r\nimport styles from './ReferralStats.module.css';\r\n\r\n/**\r\n * –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤\r\n * –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã—Ö –¥—Ä—É–∑–µ–π –∏ —Å–ø–∏—Å–æ–∫ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤\r\n */\r\nconst ReferralStats = ({ userId }) => {\r\n  const { user: currentUser } = useAppSelector((state) => state.auth);\r\n  const [referralCode, setReferralCode] = useState(null);\r\n  const [referralsCount, setReferralsCount] = useState(0);\r\n  const [referrals, setReferrals] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showReferrals, setShowReferrals] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —ç—Ç–æ —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å –∏–ª–∏ —á—É–∂–æ–π\r\n  const isOwnProfile = currentUser?.id === userId;\r\n\r\n  useEffect(() => {\r\n    // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–≤–æ–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è\r\n    if (isOwnProfile) {\r\n      loadReferralStats();\r\n    }\r\n  }, [userId, isOwnProfile]);\r\n\r\n  /**\r\n   * –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤\r\n   */\r\n  const loadReferralStats = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      // –ü–æ–ª—É—á–∞–µ–º —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –∫–æ–¥ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤\r\n      const response = await api.get(`/users/${userId}/referral-code`);\r\n      setReferralCode(response.data.referralCode);\r\n      setReferralsCount(response.data.referralsCount || 0);\r\n\r\n      setLoading(false);\r\n    } catch (err) {\r\n      console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤:', err);\r\n      \r\n      // –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ 404 –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º fallback\r\n      if (err.response?.status === 404 || err.response?.data?.code === 'USER_NOT_FOUND') {\r\n        setReferralCode(null);\r\n        setReferralsCount(0);\r\n        setLoading(false);\r\n      } else {\r\n        // –î–ª—è –¥—Ä—É–≥–∏—Ö –æ—à–∏–±–æ–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ\r\n        setError('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É');\r\n        setLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  /**\r\n   * –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤\r\n   */\r\n  const loadReferrals = async () => {\r\n    try {\r\n      const response = await api.get(`/users/${userId}/referrals`);\r\n      setReferrals(response.data);\r\n    } catch (err) {\r\n      console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–ø–∏—Å–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤:', err);\r\n      \r\n      // –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ 404, –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫\r\n      if (err.response?.status === 404) {\r\n        setReferrals([]);\r\n      } else {\r\n        setError('–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤');\r\n      }\r\n    }\r\n  };\r\n\r\n  /**\r\n   * –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤\r\n   */\r\n  const toggleReferrals = async () => {\r\n    if (!showReferrals && referrals.length === 0) {\r\n      await loadReferrals();\r\n    }\r\n    setShowReferrals(!showReferrals);\r\n  };\r\n\r\n  // –ù–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —á—É–∂–∏—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π\r\n  if (!isOwnProfile) {\r\n    return null;\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className={styles.referralStats}>\r\n        <p className={styles.loading}>–ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className={styles.referralStats}>\r\n        <p className={styles.error}>{error}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={styles.referralStats}>\r\n      <div className={styles.statsHeader}>\r\n        <h3 className={styles.statsTitle}>üë• –ü—Ä–∏–≥–ª–∞—à–µ–Ω–Ω—ã–µ –¥—Ä—É–∑—å—è</h3>\r\n        <div className={styles.statsCount}>\r\n          <span className={styles.countNumber}>{referralsCount}</span>\r\n          <span className={styles.countLabel}>–¥—Ä—É–∑–µ–π</span>\r\n        </div>\r\n      </div>\r\n\r\n      {referralsCount > 0 && (\r\n        <button \r\n          className={styles.toggleButton}\r\n          onClick={toggleReferrals}\r\n        >\r\n          {showReferrals ? '‚ñº –°–∫—Ä—ã—Ç—å —Å–ø–∏—Å–æ–∫' : '‚ñ∂ –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫'}\r\n        </button>\r\n      )}\r\n\r\n      {showReferrals && (\r\n        <div className={styles.referralsList}>\r\n          {referrals.length === 0 ? (\r\n            <p className={styles.emptyMessage}>–ó–∞–≥—Ä—É–∑–∫–∞...</p>\r\n          ) : (\r\n            <ul className={styles.referralsItems}>\r\n              {referrals.map((referral) => (\r\n                <li key={referral.id} className={styles.referralItem}>\r\n                  <div className={styles.referralAvatar}>\r\n                    {referral.avatarUrl ? (\r\n                      <img src={referral.avatarUrl} alt={referral.displayName} />\r\n                    ) : (\r\n                      <div className={styles.avatarPlaceholder}>\r\n                        {referral.displayName.charAt(0).toUpperCase()}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                  <div className={styles.referralInfo}>\r\n                    <p className={styles.referralName}>{referral.displayName}</p>\r\n                    {referral.telegramUsername && (\r\n                      <p className={styles.referralUsername}>@{referral.telegramUsername}</p>\r\n                    )}\r\n                    <p className={styles.referralDate}>\r\n                      –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª—Å—è: {new Date(referral.referralCreatedAt).toLocaleDateString('ru-RU')}\r\n                    </p>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {referralsCount === 0 && (\r\n        <p className={styles.emptyMessage}>\r\n          –í—ã –µ—â–µ –Ω–µ –ø—Ä–∏–≥–ª–∞—Å–∏–ª–∏ –¥—Ä—É–∑–µ–π. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Telegram –±–æ—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ–π —Å—Å—ã–ª–∫–∏!\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReferralStats;\r\n","import React, { useState } from 'react';\r\nimport styles from './AdminModerationPanel.module.css';\r\nimport api from '../../services/api';\r\n\r\n/**\r\n * –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–∞–Ω–µ–ª–∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞\r\n * –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞\r\n */\r\nfunction AdminModerationPanel({ userId, isAdmin, onModerationAction }) {\r\n  const [showBanModal, setShowBanModal] = useState(false);\r\n  const [banType, setBanType] = useState(null); // 'posts' –∏–ª–∏ 'permanent'\r\n  const [reason, setReason] = useState('');\r\n  const [duration, setDuration] = useState(1440); // 24 —á–∞—Å–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  // –ï—Å–ª–∏ –Ω–µ –∞–¥–º–∏–Ω, –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–∞–Ω–µ–ª—å\r\n  if (!isAdmin) {\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–æ—Å—Ç–æ–≤\r\n   */\r\n  const handleBanPosts = async () => {\r\n    if (!reason.trim()) {\r\n      setError('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å –ø—Ä–∏—á–∏–Ω—É –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏');\r\n      return;\r\n    }\r\n\r\n    if (duration <= 0) {\r\n      setError('–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±–æ–ª—å—à–µ 0');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      await api.post(`/admin/users/${userId}/ban-posts`, {\r\n        reason: reason.trim(),\r\n        durationMinutes: duration\r\n      });\r\n\r\n      // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ\r\n      setShowBanModal(false);\r\n      setReason('');\r\n      setDuration(1440);\r\n\r\n      // –£–≤–µ–¥–æ–º–ª—è–µ–º —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç\r\n      if (onModerationAction) {\r\n        onModerationAction('post_ban');\r\n      }\r\n\r\n      alert('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∑–∞–ø—Ä–µ—â–µ–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ—Å—Ç—ã');\r\n    } catch (err) {\r\n      console.error('–û—à–∏–±–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–æ—Å—Ç–æ–≤:', err);\r\n      setError(err.response?.data?.error || '–û—à–∏–±–∫–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–æ—Å—Ç–æ–≤');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏\r\n   */\r\n  const handlePermanentBan = async () => {\r\n    if (!reason.trim()) {\r\n      setError('–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å –ø—Ä–∏—á–∏–Ω—É –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏');\r\n      return;\r\n    }\r\n\r\n    if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –Ω–∞–≤—Å–µ–≥–¥–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?')) {\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      await api.post(`/admin/users/${userId}/ban-permanent`, {\r\n        reason: reason.trim()\r\n      });\r\n\r\n      // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ\r\n      setShowBanModal(false);\r\n      setReason('');\r\n\r\n      // –£–≤–µ–¥–æ–º–ª—è–µ–º —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç\r\n      if (onModerationAction) {\r\n        onModerationAction('permanent_ban');\r\n      }\r\n\r\n      alert('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –Ω–∞–≤—Å–µ–≥–¥–∞');\r\n    } catch (err) {\r\n      console.error('–û—à–∏–±–∫–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:', err);\r\n      setError(err.response?.data?.error || '–û—à–∏–±–∫–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏\r\n   */\r\n  const handleUnban = async () => {\r\n    if (!confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?')) {\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      await api.post(`/admin/users/${userId}/unban`);\r\n\r\n      // –£–≤–µ–¥–æ–º–ª—è–µ–º —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç\r\n      if (onModerationAction) {\r\n        onModerationAction('unban');\r\n      }\r\n\r\n      alert('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω');\r\n    } catch (err) {\r\n      console.error('–û—à–∏–±–∫–∞ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:', err);\r\n      setError(err.response?.data?.error || '–û—à–∏–±–∫–∞ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∏');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–æ—Å—Ç–æ–≤\r\n   */\r\n  const openPostBanModal = () => {\r\n    setBanType('posts');\r\n    setShowBanModal(true);\r\n    setError(null);\r\n  };\r\n\r\n  /**\r\n   * –û—Ç–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏\r\n   */\r\n  const openPermanentBanModal = () => {\r\n    setBanType('permanent');\r\n    setShowBanModal(true);\r\n    setError(null);\r\n  };\r\n\r\n  /**\r\n   * –ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ\r\n   */\r\n  const closeModal = () => {\r\n    setShowBanModal(false);\r\n    setBanType(null);\r\n    setReason('');\r\n    setDuration(1440);\r\n    setError(null);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.moderationPanel}>\r\n      <h3 className={styles.title}>‚ö†Ô∏è –ú–æ–¥–µ—Ä–∞—Ü–∏—è</h3>\r\n      \r\n      <div className={styles.actions}>\r\n        <button \r\n          className={`${styles.button} ${styles.banPostsButton}`}\r\n          onClick={openPostBanModal}\r\n          disabled={loading}\r\n        >\r\n          üö´ –ó–∞–ø—Ä–µ—Ç–∏—Ç—å –ø–æ—Å—Ç—ã\r\n        </button>\r\n        \r\n        <button \r\n          className={`${styles.button} ${styles.permanentBanButton}`}\r\n          onClick={openPermanentBanModal}\r\n          disabled={loading}\r\n        >\r\n          ‚õî –ó–∞–±–∞–Ω–∏—Ç—å –Ω–∞–≤—Å–µ–≥–¥–∞\r\n        </button>\r\n        \r\n        <button \r\n          className={`${styles.button} ${styles.unbanButton}`}\r\n          onClick={handleUnban}\r\n          disabled={loading}\r\n        >\r\n          ‚úÖ –†–∞–∑–±–∞–Ω–∏—Ç—å\r\n        </button>\r\n      </div>\r\n\r\n      {/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */}\r\n      {showBanModal && (\r\n        <div className={styles.modalOverlay} onClick={closeModal}>\r\n          <div className={styles.modal} onClick={(e) => e.stopPropagation()}>\r\n            <h3 className={styles.modalTitle}>\r\n              {banType === 'posts' ? 'üö´ –ó–∞–ø—Ä–µ—Ç–∏—Ç—å –ø–æ—Å—Ç—ã' : '‚õî –ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞'}\r\n            </h3>\r\n\r\n            {error && (\r\n              <div className={styles.error}>{error}</div>\r\n            )}\r\n\r\n            <div className={styles.formGroup}>\r\n              <label htmlFor=\"reason\">–ü—Ä–∏—á–∏–Ω–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏:</label>\r\n              <textarea\r\n                id=\"reason\"\r\n                className={styles.textarea}\r\n                value={reason}\r\n                onChange={(e) => setReason(e.target.value)}\r\n                placeholder=\"–£–∫–∞–∂–∏—Ç–µ –ø—Ä–∏—á–∏–Ω—É –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏...\"\r\n                rows={4}\r\n                disabled={loading}\r\n              />\r\n            </div>\r\n\r\n            {banType === 'posts' && (\r\n              <div className={styles.formGroup}>\r\n                <label htmlFor=\"duration\">–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–º–∏–Ω—É—Ç—ã):</label>\r\n                <input\r\n                  id=\"duration\"\r\n                  type=\"number\"\r\n                  className={styles.input}\r\n                  value={duration}\r\n                  onChange={(e) => setDuration(parseInt(e.target.value) || 0)}\r\n                  min=\"1\"\r\n                  disabled={loading}\r\n                />\r\n                <div className={styles.durationPresets}>\r\n                  <button \r\n                    className={styles.presetButton}\r\n                    onClick={() => setDuration(60)}\r\n                    disabled={loading}\r\n                  >\r\n                    1 —á–∞—Å\r\n                  </button>\r\n                  <button \r\n                    className={styles.presetButton}\r\n                    onClick={() => setDuration(1440)}\r\n                    disabled={loading}\r\n                  >\r\n                    1 –¥–µ–Ω—å\r\n                  </button>\r\n                  <button \r\n                    className={styles.presetButton}\r\n                    onClick={() => setDuration(10080)}\r\n                    disabled={loading}\r\n                  >\r\n                    1 –Ω–µ–¥–µ–ª—è\r\n                  </button>\r\n                  <button \r\n                    className={styles.presetButton}\r\n                    onClick={() => setDuration(43200)}\r\n                    disabled={loading}\r\n                  >\r\n                    1 –º–µ—Å—è—Ü\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            <div className={styles.modalActions}>\r\n              <button\r\n                className={`${styles.button} ${styles.cancelButton}`}\r\n                onClick={closeModal}\r\n                disabled={loading}\r\n              >\r\n                –û—Ç–º–µ–Ω–∞\r\n              </button>\r\n              <button\r\n                className={`${styles.button} ${banType === 'posts' ? styles.banPostsButton : styles.permanentBanButton}`}\r\n                onClick={banType === 'posts' ? handleBanPosts : handlePermanentBan}\r\n                disabled={loading}\r\n              >\r\n                {loading ? '–û–±—Ä–∞–±–æ—Ç–∫–∞...' : '–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminModerationPanel;\r\n","import React, { useEffect, useRef } from 'react';\r\nimport styles from './ReactionPicker.module.css';\r\n\r\n/**\r\n * –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –≤—ã–±–æ—Ä–∞ —ç–º–æ–¥–∂–∏-—Ä–µ–∞–∫—Ü–∏–∏\r\n * –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —ç–º–æ–¥–∂–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤—ã–±–æ—Ä–∞\r\n */\r\nconst ReactionPicker = ({ onSelect, onClose }) => {\r\n  const pickerRef = useRef(null);\r\n\r\n  // –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —ç–º–æ–¥–∂–∏ –¥–ª—è —Ä–µ–∞–∫—Ü–∏–π\r\n  const emojis = [\r\n    '‚ù§Ô∏è', 'üëç', 'üòÇ', 'üòÆ', 'üò¢', 'üò°',\r\n    'üî•', 'üëè', 'üéâ', 'üíØ', 'ü§î', 'üòç',\r\n    'ü§©', 'üòé', 'ü•≥', 'üò±', 'ü§Ø', 'üëÄ'\r\n  ];\r\n\r\n  // –ó–∞–∫—Ä—ã—Ç–∏–µ picker –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ –æ–±–ª–∞—Å—Ç–∏\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (pickerRef.current && !pickerRef.current.contains(event.target)) {\r\n        onClose();\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, [onClose]);\r\n\r\n  // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ Escape\r\n  useEffect(() => {\r\n    const handleEscape = (event) => {\r\n      if (event.key === 'Escape') {\r\n        onClose();\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleEscape);\r\n    return () => {\r\n      document.removeEventListener('keydown', handleEscape);\r\n    };\r\n  }, [onClose]);\r\n\r\n  const handleEmojiClick = (emoji) => {\r\n    onSelect(emoji);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.reactionPicker} ref={pickerRef}>\r\n      <div className={styles.pickerHeader}>\r\n        <span className={styles.pickerTitle}>–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∞–∫—Ü–∏—é</span>\r\n        <button \r\n          className={styles.closeButton}\r\n          onClick={onClose}\r\n          aria-label=\"–ó–∞–∫—Ä—ã—Ç—å\"\r\n        >\r\n          √ó\r\n        </button>\r\n      </div>\r\n      \r\n      <div className={styles.emojiGrid}>\r\n        {emojis.map((emoji) => (\r\n          <button\r\n            key={emoji}\r\n            className={styles.emojiButton}\r\n            onClick={() => handleEmojiClick(emoji)}\r\n            title={emoji}\r\n          >\r\n            {emoji}\r\n          </button>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReactionPicker;\r\n","import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAppDispatch } from '../../hooks/useAppDispatch';\r\nimport { useAppSelector } from '../../hooks/useAppSelector';\r\nimport { addReaction } from '../../store/slices/wallSlice';\r\nimport ReactionPicker from './ReactionPicker';\r\nimport styles from './WallPost.module.css';\r\n\r\n/**\r\n * –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π –∑–∞–ø–∏—Å–∏ –Ω–∞ —Å—Ç–µ–Ω–µ\r\n * –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –ø–æ—Å—Ç–æ–≤: text, media_added, rating, review\r\n */\r\nconst WallPost = ({ post, isOwnProfile }) => {\r\n  const dispatch = useAppDispatch();\r\n  const navigate = useNavigate();\r\n  const currentUser = useAppSelector((state) => state.auth.user);\r\n  const [showReactionPicker, setShowReactionPicker] = useState(false);\r\n\r\n  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∞–∫—Ü–∏–∏\r\n  const handleAddReaction = async (emoji) => {\r\n    try {\r\n      await dispatch(addReaction({ \r\n        postId: post.id, \r\n        emoji \r\n      })).unwrap();\r\n      setShowReactionPicker(false);\r\n    } catch (err) {\r\n      console.error('–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∞–∫—Ü–∏–∏:', err);\r\n    }\r\n  };\r\n\r\n  // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const diffMs = now - date;\r\n    const diffMins = Math.floor(diffMs / 60000);\r\n    const diffHours = Math.floor(diffMs / 3600000);\r\n    const diffDays = Math.floor(diffMs / 86400000);\r\n\r\n    if (diffMins < 1) return '—Ç–æ–ª—å–∫–æ —á—Ç–æ';\r\n    if (diffMins < 60) return `${diffMins} –º–∏–Ω –Ω–∞–∑–∞–¥`;\r\n    if (diffHours < 24) return `${diffHours} —á –Ω–∞–∑–∞–¥`;\r\n    if (diffDays < 7) return `${diffDays} –¥ –Ω–∞–∑–∞–¥`;\r\n    \r\n    return date.toLocaleDateString('ru-RU', {\r\n      day: 'numeric',\r\n      month: 'short',\r\n      year: date.getFullYear() !== now.getFullYear() ? 'numeric' : undefined\r\n    });\r\n  };\r\n\r\n  // –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –º–µ–¥–∏–∞\r\n  const handleMediaClick = () => {\r\n    if (post.tmdbId && post.mediaType) {\r\n      navigate(`/media/${post.mediaType}/${post.tmdbId}`);\r\n    }\r\n  };\r\n\r\n  // –†–µ–Ω–¥–µ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –ø–æ—Å—Ç–∞\r\n  const renderPostContent = () => {\r\n    switch (post.postType) {\r\n      case 'text':\r\n        return (\r\n          <div className={styles.textContent}>\r\n            <p>{post.content}</p>\r\n          </div>\r\n        );\r\n\r\n      case 'media_added':\r\n        return (\r\n          <div className={styles.mediaAddedContent}>\r\n            <p className={styles.actionText}>\r\n              üìå –î–æ–±–∞–≤–∏–ª{isOwnProfile ? '' : '–∞'} –≤ —Å–ø–∏—Å–æ–∫\r\n            </p>\r\n            {post.tmdbId && (\r\n              <div \r\n                className={styles.mediaInfo}\r\n                onClick={handleMediaClick}\r\n              >\r\n                <div className={styles.mediaDetails}>\r\n                  <h4 className={styles.mediaTitle}>\r\n                    {post.mediaType === 'movie' ? '–§–∏–ª—å–º' : '–°–µ—Ä–∏–∞–ª'} (ID: {post.tmdbId})\r\n                  </h4>\r\n                  <span className={styles.mediaType}>\r\n                    {post.mediaType === 'movie' ? 'üé¨ –§–∏–ª—å–º' : 'üì∫ –°–µ—Ä–∏–∞–ª'}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n\r\n      case 'rating':\r\n        return (\r\n          <div className={styles.ratingContent}>\r\n            <p className={styles.actionText}>\r\n              ‚≠ê –û—Ü–µ–Ω–∏–ª{isOwnProfile ? '' : '–∞'}\r\n            </p>\r\n            {post.tmdbId && (\r\n              <div \r\n                className={styles.mediaInfo}\r\n                onClick={handleMediaClick}\r\n              >\r\n                <div className={styles.mediaDetails}>\r\n                  <h4 className={styles.mediaTitle}>\r\n                    {post.mediaType === 'movie' ? '–§–∏–ª—å–º' : '–°–µ—Ä–∏–∞–ª'} (ID: {post.tmdbId})\r\n                  </h4>\r\n                  <div className={styles.ratingValue}>\r\n                    <span className={styles.ratingStars}>‚òÖ</span>\r\n                    <span className={styles.ratingNumber}>{post.rating}/10</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n\r\n      case 'review':\r\n        return (\r\n          <div className={styles.reviewContent}>\r\n            <p className={styles.actionText}>\r\n              ‚úçÔ∏è –ù–∞–ø–∏—Å–∞–ª{isOwnProfile ? '' : '–∞'} –æ—Ç–∑—ã–≤\r\n            </p>\r\n            {post.tmdbId && (\r\n              <div \r\n                className={styles.mediaInfo}\r\n                onClick={handleMediaClick}\r\n              >\r\n                <div className={styles.mediaDetails}>\r\n                  <h4 className={styles.mediaTitle}>\r\n                    {post.mediaType === 'movie' ? '–§–∏–ª—å–º' : '–°–µ—Ä–∏–∞–ª'} (ID: {post.tmdbId})\r\n                  </h4>\r\n                </div>\r\n              </div>\r\n            )}\r\n            {post.content && (\r\n              <div className={styles.reviewText}>\r\n                <p>{post.content}</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  // –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Ä–µ–∞–∫—Ü–∏–π –ø–æ —ç–º–æ–¥–∂–∏\r\n  const groupedReactions = post.reactions?.reduce((acc, reaction) => {\r\n    if (!acc[reaction.emoji]) {\r\n      acc[reaction.emoji] = {\r\n        emoji: reaction.emoji,\r\n        count: 0,\r\n        users: []\r\n      };\r\n    }\r\n    acc[reaction.emoji].count++;\r\n    acc[reaction.emoji].users.push(reaction.userId);\r\n    return acc;\r\n  }, {}) || {};\r\n\r\n  const reactionsList = Object.values(groupedReactions);\r\n\r\n  // –ü—Ä–æ–≤–µ—Ä–∫–∞, –ø–æ—Å—Ç–∞–≤–∏–ª –ª–∏ —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–∞–∫—Ü–∏—é\r\n  const userReaction = post.reactions?.find(r => r.userId === currentUser?.id);\r\n\r\n  return (\r\n    <div className={styles.wallPost}>\r\n      {/* –ö–æ–Ω—Ç–µ–Ω—Ç –ø–æ—Å—Ç–∞ */}\r\n      <div className={styles.postContent}>\r\n        {renderPostContent()}\r\n      </div>\r\n\r\n      {/* –§—É—Ç–µ—Ä —Å –¥–∞—Ç–æ–π –∏ —Ä–µ–∞–∫—Ü–∏—è–º–∏ */}\r\n      <div className={styles.postFooter}>\r\n        <span className={styles.postDate}>{formatDate(post.createdAt)}</span>\r\n\r\n        {/* –†–µ–∞–∫—Ü–∏–∏ */}\r\n        <div className={styles.reactionsContainer}>\r\n          {/* –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ä–µ–∞–∫—Ü–∏–π */}\r\n          {reactionsList.length > 0 && (\r\n            <div className={styles.reactionsList}>\r\n              {reactionsList.map((reaction) => (\r\n                <span \r\n                  key={reaction.emoji}\r\n                  className={styles.reactionBadge}\r\n                  title={`${reaction.count} ${reaction.count === 1 ? '—Ä–µ–∞–∫—Ü–∏—è' : '—Ä–µ–∞–∫—Ü–∏–π'}`}\r\n                >\r\n                  {reaction.emoji} {reaction.count}\r\n                </span>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          {/* –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∞–∫—Ü–∏–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è —á—É–∂–∏—Ö –ø–æ—Å—Ç–æ–≤) */}\r\n          {!isOwnProfile && currentUser && (\r\n            <div className={styles.addReactionContainer}>\r\n              <button\r\n                className={styles.addReactionButton}\r\n                onClick={() => setShowReactionPicker(!showReactionPicker)}\r\n                title={userReaction ? '–ò–∑–º–µ–Ω–∏—Ç—å —Ä–µ–∞–∫—Ü–∏—é' : '–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–∫—Ü–∏—é'}\r\n              >\r\n                {userReaction ? userReaction.emoji : 'üòä'}\r\n              </button>\r\n\r\n              {/* Picker —Ä–µ–∞–∫—Ü–∏–π */}\r\n              {showReactionPicker && (\r\n                <ReactionPicker\r\n                  onSelect={handleAddReaction}\r\n                  onClose={() => setShowReactionPicker(false)}\r\n                />\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WallPost;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useAppDispatch } from '../../hooks/useAppDispatch';\r\nimport { useAppSelector } from '../../hooks/useAppSelector';\r\nimport { fetchWall, createPost } from '../../store/slices/wallSlice';\r\nimport WallPost from './WallPost';\r\nimport styles from './Wall.module.css';\r\n\r\n/**\r\n * –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å—Ç–µ–Ω—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\r\n * –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ª–µ–Ω—Ç—É –ø–æ—Å—Ç–æ–≤ –≤ —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ (–Ω–æ–≤—ã–µ —Å–≤–µ—Ä—Ö—É)\r\n */\r\nconst Wall = ({ userId, isOwnProfile = false }) => {\r\n  const dispatch = useAppDispatch();\r\n  const { posts, loading, error } = useAppSelector((state) => state.wall);\r\n  const [newPostContent, setNewPostContent] = useState('');\r\n  const [isCreating, setIsCreating] = useState(false);\r\n\r\n  // –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ—Å—Ç–æ–≤ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞\r\n  useEffect(() => {\r\n    if (userId) {\r\n      dispatch(fetchWall(userId));\r\n    }\r\n  }, [dispatch, userId]);\r\n\r\n  // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞\r\n  const handleCreatePost = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!newPostContent.trim()) {\r\n      return;\r\n    }\r\n\r\n    setIsCreating(true);\r\n    try {\r\n      await dispatch(createPost({\r\n        postType: 'text',\r\n        content: newPostContent.trim()\r\n      })).unwrap();\r\n      \r\n      setNewPostContent('');\r\n    } catch (err) {\r\n      console.error('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—Ç–∞:', err);\r\n    } finally {\r\n      setIsCreating(false);\r\n    }\r\n  };\r\n\r\n  if (loading && posts.length === 0) {\r\n    return (\r\n      <div className={styles.wall}>\r\n        <div className={styles.loading}>–ó–∞–≥—Ä—É–∑–∫–∞...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className={styles.wall}>\r\n        <div className={styles.error}>\r\n          –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–µ–Ω—ã: {error.message || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={styles.wall}>\r\n      {/* –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è —Å–≤–æ–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è) */}\r\n      {isOwnProfile && (\r\n        <div className={styles.createPostContainer}>\r\n          <form onSubmit={handleCreatePost} className={styles.createPostForm}>\r\n            <textarea\r\n              className={styles.postInput}\r\n              placeholder=\"–ß—Ç–æ —É –≤–∞—Å –Ω–æ–≤–æ–≥–æ?\"\r\n              value={newPostContent}\r\n              onChange={(e) => setNewPostContent(e.target.value)}\r\n              rows={3}\r\n              disabled={isCreating}\r\n            />\r\n            <button \r\n              type=\"submit\" \r\n              className={styles.submitButton}\r\n              disabled={!newPostContent.trim() || isCreating}\r\n            >\r\n              {isCreating ? '–ü—É–±–ª–∏–∫–∞—Ü–∏—è...' : '–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å'}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      )}\r\n\r\n      {/* –°–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–æ–≤ */}\r\n      <div className={styles.postsList}>\r\n        {posts.length === 0 ? (\r\n          <div className={styles.emptyState}>\r\n            <p>–ü–æ–∫–∞ –Ω–µ—Ç –∑–∞–ø–∏—Å–µ–π –Ω–∞ —Å—Ç–µ–Ω–µ</p>\r\n            {isOwnProfile && (\r\n              <p className={styles.emptyHint}>\r\n                –î–æ–±–∞–≤—å—Ç–µ —Ñ–∏–ª—å–º –≤ —Å–ø–∏—Å–æ–∫ –∏–ª–∏ –Ω–∞–ø–∏—à–∏—Ç–µ —á—Ç–æ-–Ω–∏–±—É–¥—å!\r\n              </p>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          posts.map((post) => (\r\n            <WallPost \r\n              key={post.id} \r\n              post={post}\r\n              isOwnProfile={isOwnProfile}\r\n            />\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Wall;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useAppSelector } from '../hooks/useAppSelector';\r\nimport UserPageLayout from '../components/Layout/UserPageLayout';\r\nimport UserAvatar from '../components/User/UserAvatar';\r\nimport ReferralStats from '../components/User/ReferralStats';\r\nimport { AdminModerationPanel } from '../components/Settings';\r\nimport { Wall } from '../components/Wall';\r\nimport api from '../services/api';\r\nimport styles from './UserProfilePage.module.css';\r\n\r\n/**\r\n * –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\r\n * –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç Wall –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –µ–≥–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é\r\n */\r\nconst UserProfilePage = () => {\r\n  const { userId } = useParams();\r\n  \r\n  const { user: currentUser, isAuthenticated } = useAppSelector((state) => state.auth);\r\n  const [profileUser, setProfileUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // –û–ø—Ä–µ–¥–µ–ª—è–µ–º, —ç—Ç–æ —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å –∏–ª–∏ —á—É–∂–æ–π\r\n  const isOwnProfile = currentUser?.id === userId;\r\n  \r\n  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º\r\n  const isAdmin = currentUser?.isAdmin || false;\r\n\r\n  /**\r\n   * –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\r\n   */\r\n  useEffect(() => {\r\n    const fetchProfile = async () => {\r\n      try {\r\n        setLoading(true);\r\n        \r\n        // –ï—Å–ª–∏ —ç—Ç–æ —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å, –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ Redux\r\n        if (isOwnProfile) {\r\n          setProfileUser(currentUser);\r\n          setLoading(false);\r\n          return;\r\n        }\r\n\r\n        // –ó–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–æ—Ñ–∏–ª—å –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\r\n        const response = await api.get(`/users/${userId}`);\r\n        setProfileUser(response.data);\r\n      } catch (error) {\r\n        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    if (isAuthenticated && userId) {\r\n      fetchProfile();\r\n    }\r\n  }, [userId, isAuthenticated, isOwnProfile, currentUser]);\r\n\r\n  /**\r\n   * –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–µ–π—Å—Ç–≤–∏—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏\r\n   * –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ—Å–ª–µ –¥–µ–π—Å—Ç–≤–∏—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏\r\n   */\r\n  const handleModerationAction = async (actionType) => {\r\n    console.log('–î–µ–π—Å—Ç–≤–∏–µ –º–æ–¥–µ—Ä–∞—Ü–∏–∏:', actionType);\r\n    \r\n    // –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\r\n    try {\r\n      const response = await api.get(`/users/${userId}`);\r\n      setProfileUser(response.data);\r\n    } catch (error) {\r\n      console.error('–û—à–∏–±–∫–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è:', error);\r\n    }\r\n  };\r\n\r\n  if (!isAuthenticated) {\r\n    return (\r\n      <div className={styles.errorContainer}>\r\n        <p>–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className={styles.errorContainer}>\r\n        <p>–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!profileUser) {\r\n    return (\r\n      <div className={styles.errorContainer}>\r\n        <p>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <UserPageLayout user={currentUser}>\r\n      <div className={styles.profileContainer}>\r\n        {/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø—Ä–æ—Ñ–∏–ª—è (—Ç–æ–ª—å–∫–æ –¥–ª—è —á—É–∂–∏—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π) */}\r\n        {!isOwnProfile && (\r\n          <div className={styles.profileHeader}>\r\n            <UserAvatar \r\n              user={profileUser} \r\n              size=\"large\" \r\n              showBanIndicator={true}\r\n            />\r\n            <div className={styles.profileInfo}>\r\n              <h1 className={styles.profileName}>{profileUser.displayName}</h1>\r\n              {/* Telegram username —Å–∫—Ä—ã—Ç —É –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π */}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* –ü–∞–Ω–µ–ª—å –º–æ–¥–µ—Ä–∞—Ü–∏–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞ –∏ –Ω–µ –¥–ª—è —Å–≤–æ–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è) */}\r\n        {isAdmin && !isOwnProfile && (\r\n          <AdminModerationPanel \r\n            userId={userId}\r\n            isAdmin={isAdmin}\r\n            onModerationAction={handleModerationAction}\r\n          />\r\n        )}\r\n\r\n        {/* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤ (—Ç–æ–ª—å–∫–æ –¥–ª—è —Å–≤–æ–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è) */}\r\n        {isOwnProfile && <ReferralStats userId={userId} />}\r\n\r\n        {/* Wall - –ª–µ–Ω—Ç–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ */}\r\n        <div className={styles.wallSection}>\r\n          <h2 className={styles.sectionTitle}>–õ–µ–Ω—Ç–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</h2>\r\n          <Wall userId={userId} isOwnProfile={isOwnProfile} />\r\n        </div>\r\n      </div>\r\n    </UserPageLayout>\r\n  );\r\n};\r\n\r\nexport default UserProfilePage;\r\n"],"names":["ReferralStats","userId","currentUser","useAppSelector","state","referralCode","setReferralCode","useState","referralsCount","setReferralsCount","referrals","setReferrals","loading","setLoading","showReferrals","setShowReferrals","error","setError","isOwnProfile","useEffect","loadReferralStats","response","api","err","_a","_c","_b","loadReferrals","toggleReferrals","jsx","styles","jsxs","referral","AdminModerationPanel","isAdmin","onModerationAction","showBanModal","setShowBanModal","banType","setBanType","reason","setReason","duration","setDuration","handleBanPosts","handlePermanentBan","handleUnban","openPostBanModal","openPermanentBanModal","closeModal","e","ReactionPicker","onSelect","onClose","pickerRef","useRef","emojis","handleClickOutside","event","handleEscape","handleEmojiClick","emoji","WallPost","post","dispatch","useAppDispatch","navigate","useNavigate","showReactionPicker","setShowReactionPicker","handleAddReaction","addReaction","formatDate","dateString","date","now","diffMs","diffMins","diffHours","diffDays","handleMediaClick","renderPostContent","groupedReactions","acc","reaction","reactionsList","userReaction","r","Wall","posts","newPostContent","setNewPostContent","isCreating","setIsCreating","fetchWall","handleCreatePost","createPost","UserProfilePage","useParams","isAuthenticated","profileUser","setProfileUser","handleModerationAction","actionType","UserPageLayout","UserAvatar"],"mappings":"s9BASMA,GAAgB,CAAC,CAAE,OAAAC,KAAa,CACpC,KAAM,CAAE,KAAMC,CAAA,EAAgBC,EAAgBC,GAAUA,EAAM,IAAI,EAC5D,CAACC,EAAcC,CAAe,EAAIC,EAAAA,SAAS,IAAI,EAC/C,CAACC,EAAgBC,CAAiB,EAAIF,EAAAA,SAAS,CAAC,EAChD,CAACG,EAAWC,CAAY,EAAIJ,EAAAA,SAAS,CAAA,CAAE,EACvC,CAACK,EAASC,CAAU,EAAIN,EAAAA,SAAS,EAAI,EACrC,CAACO,EAAeC,CAAgB,EAAIR,EAAAA,SAAS,EAAK,EAClD,CAACS,EAAOC,CAAQ,EAAIV,EAAAA,SAAS,IAAI,EAGjCW,GAAehB,GAAA,YAAAA,EAAa,MAAOD,EAEzCkB,EAAAA,UAAU,IAAM,CAEVD,GACFE,EAAA,CAEJ,EAAG,CAACnB,EAAQiB,CAAY,CAAC,EAKzB,MAAME,EAAoB,SAAY,WACpC,GAAI,CACFP,EAAW,EAAI,EACfI,EAAS,IAAI,EAGb,MAAMI,EAAW,MAAMC,EAAI,IAAI,UAAUrB,CAAM,gBAAgB,EAC/DK,EAAgBe,EAAS,KAAK,YAAY,EAC1CZ,EAAkBY,EAAS,KAAK,gBAAkB,CAAC,EAEnDR,EAAW,EAAK,CAClB,OAASU,EAAK,CACZ,QAAQ,MAAM,wCAAyCA,CAAG,IAGtDC,EAAAD,EAAI,WAAJ,YAAAC,EAAc,UAAW,OAAOC,GAAAC,EAAAH,EAAI,WAAJ,YAAAG,EAAc,OAAd,YAAAD,EAAoB,QAAS,kBAC/DnB,EAAgB,IAAI,EACpBG,EAAkB,CAAC,EACnBI,EAAW,EAAK,IAGhBI,EAAS,iCAAiC,EAC1CJ,EAAW,EAAK,EAEpB,CACF,EAKMc,EAAgB,SAAY,OAChC,GAAI,CACF,MAAMN,EAAW,MAAMC,EAAI,IAAI,UAAUrB,CAAM,YAAY,EAC3DU,EAAaU,EAAS,IAAI,CAC5B,OAASE,EAAK,CACZ,QAAQ,MAAM,oCAAqCA,CAAG,IAGlDC,EAAAD,EAAI,WAAJ,YAAAC,EAAc,UAAW,IAC3Bb,EAAa,CAAA,CAAE,EAEfM,EAAS,uCAAuC,CAEpD,CACF,EAKMW,EAAkB,SAAY,CAC9B,CAACd,GAAiBJ,EAAU,SAAW,GACzC,MAAMiB,EAAA,EAERZ,EAAiB,CAACD,CAAa,CACjC,EAGA,OAAKI,EAIDN,EAEAiB,EAAAA,IAAC,MAAA,CAAI,UAAWC,EAAO,cACrB,SAAAD,EAAAA,IAAC,IAAA,CAAE,UAAWC,EAAO,QAAS,SAAA,wBAAA,CAAsB,EACtD,EAIAd,EAEAa,EAAAA,IAAC,MAAA,CAAI,UAAWC,EAAO,cACrB,SAAAD,EAAAA,IAAC,IAAA,CAAE,UAAWC,EAAO,MAAQ,SAAAd,CAAA,CAAM,EACrC,EAKFe,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,cACrB,SAAA,CAAAC,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,YACrB,SAAA,CAAAD,EAAAA,IAAC,KAAA,CAAG,UAAWC,EAAO,WAAY,SAAA,yBAAsB,EACxDC,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,WACrB,SAAA,CAAAD,EAAAA,IAAC,OAAA,CAAK,UAAWC,EAAO,YAAc,SAAAtB,EAAe,EACrDqB,EAAAA,IAAC,OAAA,CAAK,UAAWC,EAAO,WAAY,SAAA,QAAA,CAAM,CAAA,CAAA,CAC5C,CAAA,EACF,EAECtB,EAAiB,GAChBqB,EAAAA,IAAC,SAAA,CACC,UAAWC,EAAO,aAClB,QAASF,EAER,WAAgB,kBAAoB,mBAAA,CAAA,EAIxCd,GACCe,EAAAA,IAAC,MAAA,CAAI,UAAWC,EAAO,cACpB,SAAApB,EAAU,SAAW,EACpBmB,EAAAA,IAAC,IAAA,CAAE,UAAWC,EAAO,aAAc,SAAA,aAAA,CAAW,EAE9CD,EAAAA,IAAC,KAAA,CAAG,UAAWC,EAAO,eACnB,SAAApB,EAAU,IAAKsB,GACdD,EAAAA,KAAC,KAAA,CAAqB,UAAWD,EAAO,aACtC,SAAA,CAAAD,EAAAA,IAAC,MAAA,CAAI,UAAWC,EAAO,eACpB,SAAAE,EAAS,UACRH,EAAAA,IAAC,MAAA,CAAI,IAAKG,EAAS,UAAW,IAAKA,EAAS,WAAA,CAAa,EAEzDH,EAAAA,IAAC,MAAA,CAAI,UAAWC,EAAO,kBACpB,SAAAE,EAAS,YAAY,OAAO,CAAC,EAAE,YAAA,CAAY,CAC9C,EAEJ,EACAD,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,aACrB,SAAA,CAAAD,MAAC,IAAA,CAAE,UAAWC,EAAO,aAAe,WAAS,YAAY,EACxDE,EAAS,kBACRD,EAAAA,KAAC,IAAA,CAAE,UAAWD,EAAO,iBAAkB,SAAA,CAAA,IAAEE,EAAS,gBAAA,EAAiB,EAErED,EAAAA,KAAC,IAAA,CAAE,UAAWD,EAAO,aAAc,SAAA,CAAA,kBACjB,IAAI,KAAKE,EAAS,iBAAiB,EAAE,mBAAmB,OAAO,CAAA,CAAA,CACjF,CAAA,CAAA,CACF,CAAA,CAAA,EAlBOA,EAAS,EAmBlB,CACD,CAAA,CACH,CAAA,CAEJ,EAGDxB,IAAmB,GAClBqB,EAAAA,IAAC,KAAE,UAAWC,EAAO,aAAc,SAAA,yFAAA,CAEnC,CAAA,EAEJ,EA5EO,IA8EX,muBC/JA,SAASG,GAAqB,CAAE,OAAAhC,EAAQ,QAAAiC,EAAS,mBAAAC,GAAsB,CACrE,KAAM,CAACC,EAAcC,CAAe,EAAI9B,EAAAA,SAAS,EAAK,EAChD,CAAC+B,EAASC,CAAU,EAAIhC,EAAAA,SAAS,IAAI,EACrC,CAACiC,EAAQC,CAAS,EAAIlC,EAAAA,SAAS,EAAE,EACjC,CAACmC,EAAUC,CAAW,EAAIpC,EAAAA,SAAS,IAAI,EACvC,CAACK,EAASC,CAAU,EAAIN,EAAAA,SAAS,EAAK,EACtC,CAACS,EAAOC,CAAQ,EAAIV,EAAAA,SAAS,IAAI,EAGvC,GAAI,CAAC2B,EACH,OAAO,KAMT,MAAMU,EAAiB,SAAY,SACjC,GAAI,CAACJ,EAAO,OAAQ,CAClBvB,EAAS,uCAAuC,EAChD,MACF,CAEA,GAAIyB,GAAY,EAAG,CACjBzB,EAAS,mCAAmC,EAC5C,MACF,CAEAJ,EAAW,EAAI,EACfI,EAAS,IAAI,EAEb,GAAI,CACF,MAAMK,EAAI,KAAK,gBAAgBrB,CAAM,aAAc,CACjD,OAAQuC,EAAO,KAAA,EACf,gBAAiBE,CAAA,CAClB,EAGDL,EAAgB,EAAK,EACrBI,EAAU,EAAE,EACZE,EAAY,IAAI,EAGZR,GACFA,EAAmB,UAAU,EAG/B,MAAM,wCAAwC,CAChD,OAASZ,EAAK,CACZ,QAAQ,MAAM,4BAA6BA,CAAG,EAC9CN,IAASS,GAAAF,EAAAD,EAAI,WAAJ,YAAAC,EAAc,OAAd,YAAAE,EAAoB,QAAS,0BAA0B,CAClE,QAAA,CACEb,EAAW,EAAK,CAClB,CACF,EAKMgC,EAAqB,SAAY,SACrC,GAAI,CAACL,EAAO,OAAQ,CAClBvB,EAAS,uCAAuC,EAChD,MACF,CAEA,GAAK,QAAQ,mEAAmE,EAIhF,CAAAJ,EAAW,EAAI,EACfI,EAAS,IAAI,EAEb,GAAI,CACF,MAAMK,EAAI,KAAK,gBAAgBrB,CAAM,iBAAkB,CACrD,OAAQuC,EAAO,KAAA,CAAK,CACrB,EAGDH,EAAgB,EAAK,EACrBI,EAAU,EAAE,EAGRN,GACFA,EAAmB,eAAe,EAGpC,MAAM,oCAAoC,CAC5C,OAASZ,EAAK,CACZ,QAAQ,MAAM,gCAAiCA,CAAG,EAClDN,IAASS,GAAAF,EAAAD,EAAI,WAAJ,YAAAC,EAAc,OAAd,YAAAE,EAAoB,QAAS,8BAA8B,CACtE,QAAA,CACEb,EAAW,EAAK,CAClB,EACF,EAKMiC,EAAc,SAAY,SAC9B,GAAK,QAAQ,2DAA2D,EAIxE,CAAAjC,EAAW,EAAI,EACfI,EAAS,IAAI,EAEb,GAAI,CACF,MAAMK,EAAI,KAAK,gBAAgBrB,CAAM,QAAQ,EAGzCkC,GACFA,EAAmB,OAAO,EAG5B,MAAM,4BAA4B,CACpC,OAASZ,EAAK,CACZ,QAAQ,MAAM,wBAAyBA,CAAG,EAC1CN,IAASS,GAAAF,EAAAD,EAAI,WAAJ,YAAAC,EAAc,OAAd,YAAAE,EAAoB,QAAS,sBAAsB,CAC9D,QAAA,CACEb,EAAW,EAAK,CAClB,EACF,EAKMkC,EAAmB,IAAM,CAC7BR,EAAW,OAAO,EAClBF,EAAgB,EAAI,EACpBpB,EAAS,IAAI,CACf,EAKM+B,EAAwB,IAAM,CAClCT,EAAW,WAAW,EACtBF,EAAgB,EAAI,EACpBpB,EAAS,IAAI,CACf,EAKMgC,EAAa,IAAM,CACvBZ,EAAgB,EAAK,EACrBE,EAAW,IAAI,EACfE,EAAU,EAAE,EACZE,EAAY,IAAI,EAChB1B,EAAS,IAAI,CACf,EAEA,OACEc,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,gBACrB,SAAA,CAAAD,EAAAA,IAAC,KAAA,CAAG,UAAWC,EAAO,MAAO,SAAA,eAAY,EAEzCC,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,QACrB,SAAA,CAAAD,EAAAA,IAAC,SAAA,CACC,UAAW,GAAGC,EAAO,MAAM,IAAIA,EAAO,cAAc,GACpD,QAASiB,EACT,SAAUnC,EACX,SAAA,oBAAA,CAAA,EAIDiB,EAAAA,IAAC,SAAA,CACC,UAAW,GAAGC,EAAO,MAAM,IAAIA,EAAO,kBAAkB,GACxD,QAASkB,EACT,SAAUpC,EACX,SAAA,qBAAA,CAAA,EAIDiB,EAAAA,IAAC,SAAA,CACC,UAAW,GAAGC,EAAO,MAAM,IAAIA,EAAO,WAAW,GACjD,QAASgB,EACT,SAAUlC,EACX,SAAA,aAAA,CAAA,CAED,EACF,EAGCwB,GACCP,EAAAA,IAAC,MAAA,CAAI,UAAWC,EAAO,aAAc,QAASmB,EAC5C,SAAAlB,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,MAAO,QAAUoB,GAAMA,EAAE,kBAC9C,SAAA,CAAArB,EAAAA,IAAC,MAAG,UAAWC,EAAO,WACnB,SAAAQ,IAAY,QAAU,qBAAuB,yBAAA,CAChD,EAECtB,GACCa,EAAAA,IAAC,MAAA,CAAI,UAAWC,EAAO,MAAQ,SAAAd,EAAM,EAGvCe,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,UACrB,SAAA,CAAAD,EAAAA,IAAC,QAAA,CAAM,QAAQ,SAAS,SAAA,sBAAmB,EAC3CA,EAAAA,IAAC,WAAA,CACC,GAAG,SACH,UAAWC,EAAO,SAClB,MAAOU,EACP,SAAWU,GAAMT,EAAUS,EAAE,OAAO,KAAK,EACzC,YAAY,gCACZ,KAAM,EACN,SAAUtC,CAAA,CAAA,CACZ,EACF,EAEC0B,IAAY,SACXP,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,UACrB,SAAA,CAAAD,EAAAA,IAAC,QAAA,CAAM,QAAQ,WAAW,SAAA,yBAAsB,EAChDA,EAAAA,IAAC,QAAA,CACC,GAAG,WACH,KAAK,SACL,UAAWC,EAAO,MAClB,MAAOY,EACP,SAAWQ,GAAMP,EAAY,SAASO,EAAE,OAAO,KAAK,GAAK,CAAC,EAC1D,IAAI,IACJ,SAAUtC,CAAA,CAAA,EAEZmB,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,gBACrB,SAAA,CAAAD,EAAAA,IAAC,SAAA,CACC,UAAWC,EAAO,aAClB,QAAS,IAAMa,EAAY,EAAE,EAC7B,SAAU/B,EACX,SAAA,OAAA,CAAA,EAGDiB,EAAAA,IAAC,SAAA,CACC,UAAWC,EAAO,aAClB,QAAS,IAAMa,EAAY,IAAI,EAC/B,SAAU/B,EACX,SAAA,QAAA,CAAA,EAGDiB,EAAAA,IAAC,SAAA,CACC,UAAWC,EAAO,aAClB,QAAS,IAAMa,EAAY,KAAK,EAChC,SAAU/B,EACX,SAAA,UAAA,CAAA,EAGDiB,EAAAA,IAAC,SAAA,CACC,UAAWC,EAAO,aAClB,QAAS,IAAMa,EAAY,KAAK,EAChC,SAAU/B,EACX,SAAA,SAAA,CAAA,CAED,CAAA,CACF,CAAA,EACF,EAGFmB,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,aACrB,SAAA,CAAAD,EAAAA,IAAC,SAAA,CACC,UAAW,GAAGC,EAAO,MAAM,IAAIA,EAAO,YAAY,GAClD,QAASmB,EACT,SAAUrC,EACX,SAAA,QAAA,CAAA,EAGDiB,EAAAA,IAAC,SAAA,CACC,UAAW,GAAGC,EAAO,MAAM,IAAIQ,IAAY,QAAUR,EAAO,eAAiBA,EAAO,kBAAkB,GACtG,QAASQ,IAAY,QAAUM,EAAiBC,EAChD,SAAUjC,EAET,WAAU,eAAiB,aAAA,CAAA,CAC9B,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EAEJ,CAEJ,4QCjRMuC,GAAiB,CAAC,CAAE,SAAAC,EAAU,QAAAC,KAAc,CAChD,MAAMC,EAAYC,EAAAA,OAAO,IAAI,EAGvBC,EAAS,CACb,KAAM,KAAM,KAAM,KAAM,KAAM,KAC9B,KAAM,KAAM,KAAM,KAAM,KAAM,KAC9B,KAAM,KAAM,KAAM,KAAM,KAAM,IAAA,EAIhCrC,EAAAA,UAAU,IAAM,CACd,MAAMsC,EAAsBC,GAAU,CAChCJ,EAAU,SAAW,CAACA,EAAU,QAAQ,SAASI,EAAM,MAAM,GAC/DL,EAAA,CAEJ,EAEA,gBAAS,iBAAiB,YAAaI,CAAkB,EAClD,IAAM,CACX,SAAS,oBAAoB,YAAaA,CAAkB,CAC9D,CACF,EAAG,CAACJ,CAAO,CAAC,EAGZlC,EAAAA,UAAU,IAAM,CACd,MAAMwC,EAAgBD,GAAU,CAC1BA,EAAM,MAAQ,UAChBL,EAAA,CAEJ,EAEA,gBAAS,iBAAiB,UAAWM,CAAY,EAC1C,IAAM,CACX,SAAS,oBAAoB,UAAWA,CAAY,CACtD,CACF,EAAG,CAACN,CAAO,CAAC,EAEZ,MAAMO,EAAoBC,GAAU,CAClCT,EAASS,CAAK,CAChB,EAEA,cACG,MAAA,CAAI,UAAW/B,EAAO,eAAgB,IAAKwB,EAC1C,SAAA,CAAAvB,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,aACrB,SAAA,CAAAD,EAAAA,IAAC,OAAA,CAAK,UAAWC,EAAO,YAAa,SAAA,mBAAgB,EACrDD,EAAAA,IAAC,SAAA,CACC,UAAWC,EAAO,YAClB,QAASuB,EACT,aAAW,UACZ,SAAA,GAAA,CAAA,CAED,EACF,EAEAxB,EAAAA,IAAC,OAAI,UAAWC,EAAO,UACpB,SAAA0B,EAAO,IAAKK,GACXhC,EAAAA,IAAC,SAAA,CAEC,UAAWC,EAAO,YAClB,QAAS,IAAM8B,EAAiBC,CAAK,EACrC,MAAOA,EAEN,SAAAA,CAAA,EALIA,CAAA,CAOR,CAAA,CACH,CAAA,EACF,CAEJ,60BChEMC,GAAW,CAAC,CAAE,KAAAC,EAAM,aAAA7C,KAAmB,SAC3C,MAAM8C,EAAWC,EAAA,EACXC,EAAWC,EAAA,EACXjE,EAAcC,EAAgBC,GAAUA,EAAM,KAAK,IAAI,EACvD,CAACgE,EAAoBC,CAAqB,EAAI9D,EAAAA,SAAS,EAAK,EAG5D+D,EAAoB,MAAOT,GAAU,CACzC,GAAI,CACF,MAAMG,EAASO,EAAY,CACzB,OAAQR,EAAK,GACb,MAAAF,CAAA,CACD,CAAC,EAAE,OAAA,EACJQ,EAAsB,EAAK,CAC7B,OAAS9C,EAAK,CACZ,QAAQ,MAAM,6BAA8BA,CAAG,CACjD,CACF,EAGMiD,EAAcC,GAAe,CACjC,MAAMC,EAAO,IAAI,KAAKD,CAAU,EAC1BE,MAAU,KACVC,EAASD,EAAMD,EACfG,EAAW,KAAK,MAAMD,EAAS,GAAK,EACpCE,EAAY,KAAK,MAAMF,EAAS,IAAO,EACvCG,EAAW,KAAK,MAAMH,EAAS,KAAQ,EAE7C,OAAIC,EAAW,EAAU,aACrBA,EAAW,GAAW,GAAGA,CAAQ,aACjCC,EAAY,GAAW,GAAGA,CAAS,WACnCC,EAAW,EAAU,GAAGA,CAAQ,WAE7BL,EAAK,mBAAmB,QAAS,CACtC,IAAK,UACL,MAAO,QACP,KAAMA,EAAK,YAAA,IAAkBC,EAAI,YAAA,EAAgB,UAAY,MAAA,CAC9D,CACH,EAGMK,EAAmB,IAAM,CACzBjB,EAAK,QAAUA,EAAK,WACtBG,EAAS,UAAUH,EAAK,SAAS,IAAIA,EAAK,MAAM,EAAE,CAEtD,EAGMkB,EAAoB,IAAM,CAC9B,OAAQlB,EAAK,SAAA,CACX,IAAK,OACH,OACElC,EAAAA,IAAC,OAAI,UAAWC,EAAO,YACrB,SAAAD,EAAAA,IAAC,IAAA,CAAG,SAAAkC,EAAK,OAAA,CAAQ,CAAA,CACnB,EAGJ,IAAK,cACH,OACEhC,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,kBACrB,SAAA,CAAAC,EAAAA,KAAC,IAAA,CAAE,UAAWD,EAAO,WAAY,SAAA,CAAA,aACpBZ,EAAe,GAAK,IAAI,WAAA,EACrC,EACC6C,EAAK,QACJlC,EAAAA,IAAC,MAAA,CACC,UAAWC,EAAO,UAClB,QAASkD,EAET,SAAAjD,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,aACrB,SAAA,CAAAC,EAAAA,KAAC,KAAA,CAAG,UAAWD,EAAO,WACnB,SAAA,CAAAiC,EAAK,YAAc,QAAU,QAAU,SAAS,SAAOA,EAAK,OAAO,GAAA,EACtE,EACAlC,EAAAA,IAAC,QAAK,UAAWC,EAAO,UACrB,SAAAiC,EAAK,YAAc,QAAU,WAAa,WAAA,CAC7C,CAAA,CAAA,CACF,CAAA,CAAA,CACF,EAEJ,EAGJ,IAAK,SACH,OACEhC,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,cACrB,SAAA,CAAAC,EAAAA,KAAC,IAAA,CAAE,UAAWD,EAAO,WAAY,SAAA,CAAA,WACtBZ,EAAe,GAAK,GAAA,EAC/B,EACC6C,EAAK,QACJlC,EAAAA,IAAC,MAAA,CACC,UAAWC,EAAO,UAClB,QAASkD,EAET,SAAAjD,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,aACrB,SAAA,CAAAC,EAAAA,KAAC,KAAA,CAAG,UAAWD,EAAO,WACnB,SAAA,CAAAiC,EAAK,YAAc,QAAU,QAAU,SAAS,SAAOA,EAAK,OAAO,GAAA,EACtE,EACAhC,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,YACrB,SAAA,CAAAD,EAAAA,IAAC,OAAA,CAAK,UAAWC,EAAO,YAAa,SAAA,IAAC,EACtCC,EAAAA,KAAC,OAAA,CAAK,UAAWD,EAAO,aAAe,SAAA,CAAAiC,EAAK,OAAO,KAAA,CAAA,CAAG,CAAA,CAAA,CACxD,CAAA,CAAA,CACF,CAAA,CAAA,CACF,EAEJ,EAGJ,IAAK,SACH,OACEhC,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,cACrB,SAAA,CAAAC,EAAAA,KAAC,IAAA,CAAE,UAAWD,EAAO,WAAY,SAAA,CAAA,aACpBZ,EAAe,GAAK,IAAI,QAAA,EACrC,EACC6C,EAAK,QACJlC,EAAAA,IAAC,MAAA,CACC,UAAWC,EAAO,UAClB,QAASkD,EAET,SAAAnD,EAAAA,IAAC,OAAI,UAAWC,EAAO,aACrB,SAAAC,EAAAA,KAAC,KAAA,CAAG,UAAWD,EAAO,WACnB,SAAA,CAAAiC,EAAK,YAAc,QAAU,QAAU,SAAS,SAAOA,EAAK,OAAO,GAAA,CAAA,CACtE,CAAA,CACF,CAAA,CAAA,EAGHA,EAAK,SACJlC,EAAAA,IAAC,MAAA,CAAI,UAAWC,EAAO,WACrB,SAAAD,EAAAA,IAAC,IAAA,CAAG,SAAAkC,EAAK,OAAA,CAAQ,CAAA,CACnB,CAAA,EAEJ,EAGJ,QACE,OAAO,IAAA,CAEb,EAGMmB,IAAmB1D,EAAAuC,EAAK,YAAL,YAAAvC,EAAgB,OAAO,CAAC2D,EAAKC,KAC/CD,EAAIC,EAAS,KAAK,IACrBD,EAAIC,EAAS,KAAK,EAAI,CACpB,MAAOA,EAAS,MAChB,MAAO,EACP,MAAO,CAAA,CAAC,GAGZD,EAAIC,EAAS,KAAK,EAAE,QACpBD,EAAIC,EAAS,KAAK,EAAE,MAAM,KAAKA,EAAS,MAAM,EACvCD,GACN,CAAA,KAAO,CAAA,EAEJE,EAAgB,OAAO,OAAOH,CAAgB,EAG9CI,GAAe5D,EAAAqC,EAAK,YAAL,YAAArC,EAAgB,QAAU6D,EAAE,UAAWrF,GAAA,YAAAA,EAAa,KAEzE,OACE6B,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,SAErB,SAAA,CAAAD,MAAC,MAAA,CAAI,UAAWC,EAAO,YACpB,aACH,EAGAC,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,WACrB,SAAA,CAAAD,EAAAA,IAAC,QAAK,UAAWC,EAAO,SAAW,SAAA0C,EAAWT,EAAK,SAAS,EAAE,EAG9DhC,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,mBAEpB,SAAA,CAAAuD,EAAc,OAAS,GACtBxD,EAAAA,IAAC,MAAA,CAAI,UAAWC,EAAO,cACpB,SAAAuD,EAAc,IAAKD,GAClBrD,EAAAA,KAAC,OAAA,CAEC,UAAWD,EAAO,cAClB,MAAO,GAAGsD,EAAS,KAAK,IAAIA,EAAS,QAAU,EAAI,UAAY,SAAS,GAEvE,SAAA,CAAAA,EAAS,MAAM,IAAEA,EAAS,KAAA,CAAA,EAJtBA,EAAS,KAAA,CAMjB,EACH,EAID,CAAClE,GAAgBhB,UACf,MAAA,CAAI,UAAW4B,EAAO,qBACrB,SAAA,CAAAD,EAAAA,IAAC,SAAA,CACC,UAAWC,EAAO,kBAClB,QAAS,IAAMuC,EAAsB,CAACD,CAAkB,EACxD,MAAOkB,EAAe,mBAAqB,mBAE1C,SAAAA,EAAeA,EAAa,MAAQ,IAAA,CAAA,EAItClB,GACCvC,EAAAA,IAACsB,GAAA,CACC,SAAUmB,EACV,QAAS,IAAMD,EAAsB,EAAK,CAAA,CAAA,CAC5C,CAAA,CAEJ,CAAA,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,EACF,CAEJ,sZCjNMmB,GAAO,CAAC,CAAE,OAAAvF,EAAQ,aAAAiB,EAAe,MAAY,CACjD,MAAM8C,EAAWC,EAAA,EACX,CAAE,MAAAwB,EAAO,QAAA7E,EAAS,MAAAI,CAAA,EAAUb,EAAgBC,GAAUA,EAAM,IAAI,EAChE,CAACsF,EAAgBC,CAAiB,EAAIpF,EAAAA,SAAS,EAAE,EACjD,CAACqF,EAAYC,CAAa,EAAItF,EAAAA,SAAS,EAAK,EAGlDY,EAAAA,UAAU,IAAM,CACVlB,GACF+D,EAAS8B,EAAU7F,CAAM,CAAC,CAE9B,EAAG,CAAC+D,EAAU/D,CAAM,CAAC,EAGrB,MAAM8F,EAAmB,MAAO7C,GAAM,CAGpC,GAFAA,EAAE,eAAA,EAEE,EAACwC,EAAe,OAIpB,CAAAG,EAAc,EAAI,EAClB,GAAI,CACF,MAAM7B,EAASgC,EAAW,CACxB,SAAU,OACV,QAASN,EAAe,KAAA,CAAK,CAC9B,CAAC,EAAE,OAAA,EAEJC,EAAkB,EAAE,CACtB,OAASpE,EAAK,CACZ,QAAQ,MAAM,yBAA0BA,CAAG,CAC7C,QAAA,CACEsE,EAAc,EAAK,CACrB,EACF,EAEA,OAAIjF,GAAW6E,EAAM,SAAW,EAE5B5D,EAAAA,IAAC,MAAA,CAAI,UAAWC,EAAO,KACrB,SAAAD,EAAAA,IAAC,MAAA,CAAI,UAAWC,EAAO,QAAS,SAAA,aAAA,CAAW,EAC7C,EAIAd,EAEAa,EAAAA,IAAC,OAAI,UAAWC,EAAO,KACrB,SAAAC,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,MAAO,SAAA,CAAA,0BACJd,EAAM,SAAW,oBAAA,CAAA,CAC3C,CAAA,CACF,EAKFe,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,KAEpB,SAAA,CAAAZ,GACCW,EAAAA,IAAC,MAAA,CAAI,UAAWC,EAAO,oBACrB,SAAAC,EAAAA,KAAC,OAAA,CAAK,SAAUgE,EAAkB,UAAWjE,EAAO,eAClD,SAAA,CAAAD,EAAAA,IAAC,WAAA,CACC,UAAWC,EAAO,UAClB,YAAY,oBACZ,MAAO4D,EACP,SAAWxC,GAAMyC,EAAkBzC,EAAE,OAAO,KAAK,EACjD,KAAM,EACN,SAAU0C,CAAA,CAAA,EAEZ/D,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,UAAWC,EAAO,aAClB,SAAU,CAAC4D,EAAe,KAAA,GAAUE,EAEnC,WAAa,gBAAkB,cAAA,CAAA,CAClC,CAAA,CACF,CAAA,CACF,EAIF/D,EAAAA,IAAC,MAAA,CAAI,UAAWC,EAAO,UACpB,SAAA2D,EAAM,SAAW,EAChB1D,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,WACrB,SAAA,CAAAD,EAAAA,IAAC,KAAE,SAAA,2BAAA,CAAyB,EAC3BX,GACCW,EAAAA,IAAC,IAAA,CAAE,UAAWC,EAAO,UAAW,SAAA,kDAAA,CAEhC,CAAA,CAAA,CAEJ,EAEA2D,EAAM,IAAK1B,GACTlC,EAAAA,IAACiC,GAAA,CAEC,KAAAC,EACA,aAAA7C,CAAA,EAFK6C,EAAK,EAAA,CAIb,CAAA,CAEL,CAAA,EACF,CAEJ,iUClGMkC,GAAkB,IAAM,CAC5B,KAAM,CAAE,OAAAhG,CAAA,EAAWiG,EAAA,EAEb,CAAE,KAAMhG,EAAa,gBAAAiG,CAAA,EAAoBhG,EAAgBC,GAAUA,EAAM,IAAI,EAC7E,CAACgG,EAAaC,CAAc,EAAI9F,EAAAA,SAAS,IAAI,EAC7C,CAACK,EAASC,CAAU,EAAIN,EAAAA,SAAS,EAAI,EAGrCW,GAAehB,GAAA,YAAAA,EAAa,MAAOD,EAGnCiC,GAAUhC,GAAA,YAAAA,EAAa,UAAW,GAKxCiB,EAAAA,UAAU,IAAM,CAsBVgF,GAAmBlG,IArBF,SAAY,CAC/B,GAAI,CAIF,GAHAY,EAAW,EAAI,EAGXK,EAAc,CAChBmF,EAAenG,CAAW,EAC1BW,EAAW,EAAK,EAChB,MACF,CAGA,MAAMQ,EAAW,MAAMC,EAAI,IAAI,UAAUrB,CAAM,EAAE,EACjDoG,EAAehF,EAAS,IAAI,CAC9B,OAASL,EAAO,CACd,QAAQ,MAAM,2BAA4BA,CAAK,CACjD,QAAA,CACEH,EAAW,EAAK,CAClB,CACF,GAGE,CAEJ,EAAG,CAACZ,EAAQkG,EAAiBjF,EAAchB,CAAW,CAAC,EAMvD,MAAMoG,EAAyB,MAAOC,GAAe,CACnD,QAAQ,IAAI,sBAAuBA,CAAU,EAG7C,GAAI,CACF,MAAMlF,EAAW,MAAMC,EAAI,IAAI,UAAUrB,CAAM,EAAE,EACjDoG,EAAehF,EAAS,IAAI,CAC9B,OAASL,EAAO,CACd,QAAQ,MAAM,+BAAgCA,CAAK,CACrD,CACF,EAEA,OAAKmF,EAQDvF,EAEAiB,EAAAA,IAAC,OAAI,UAAWC,EAAO,eACrB,SAAAD,EAAAA,IAAC,IAAA,CAAE,+BAAmB,CAAA,CACxB,EAICuE,EASHvE,EAAAA,IAAC2E,GAAe,KAAMtG,EACpB,gBAAC,MAAA,CAAI,UAAW4B,EAAO,iBAEpB,SAAA,CAAA,CAACZ,GACAa,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,cACrB,SAAA,CAAAD,EAAAA,IAAC4E,EAAA,CACC,KAAML,EACN,KAAK,QACL,iBAAkB,EAAA,CAAA,EAEpBvE,EAAAA,IAAC,MAAA,CAAI,UAAWC,EAAO,YACrB,SAAAD,EAAAA,IAAC,KAAA,CAAG,UAAWC,EAAO,YAAc,SAAAsE,EAAY,WAAA,CAAY,CAAA,CAE9D,CAAA,EACF,EAIDlE,GAAW,CAAChB,GACXW,EAAAA,IAACI,GAAA,CACC,OAAAhC,EACA,QAAAiC,EACA,mBAAoBoE,CAAA,CAAA,EAKvBpF,GAAgBW,EAAAA,IAAC7B,GAAA,CAAc,OAAAC,CAAA,CAAgB,EAGhD8B,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,YACrB,SAAA,CAAAD,EAAAA,IAAC,KAAA,CAAG,UAAWC,EAAO,aAAc,SAAA,mBAAgB,EACpDD,EAAAA,IAAC2D,GAAA,CAAK,OAAAvF,EAAgB,aAAAiB,CAAA,CAA4B,CAAA,CAAA,CACpD,CAAA,CAAA,CACF,CAAA,CACF,EA1CEW,EAAAA,IAAC,OAAI,UAAWC,EAAO,eACrB,SAAAD,EAAAA,IAAC,IAAA,CAAE,kCAAsB,CAAA,CAC3B,EAlBAA,EAAAA,IAAC,OAAI,UAAWC,EAAO,eACrB,SAAAD,EAAAA,IAAC,IAAA,CAAE,qCAAyB,CAAA,CAC9B,CA0DN"}