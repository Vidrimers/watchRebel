{"version":3,"file":"useConfirm-C-3tHhk9.js","sources":["../../src/components/Common/ConfirmDialog.jsx","../../src/hooks/useConfirm.jsx"],"sourcesContent":["import React from 'react';\r\nimport styles from './ConfirmDialog.module.css';\r\n\r\n/**\r\n * Компонент диалога подтверждения\r\n * @param {Object} props\r\n * @param {boolean} props.isOpen - Открыт ли диалог\r\n * @param {string} props.title - Заголовок диалога\r\n * @param {string} props.message - Текст сообщения\r\n * @param {string} props.confirmText - Текст кнопки подтверждения (по умолчанию \"Подтвердить\")\r\n * @param {string} props.cancelText - Текст кнопки отмены (по умолчанию \"Отмена\")\r\n * @param {string} props.confirmButtonStyle - Стиль кнопки подтверждения: 'danger', 'primary', 'success'\r\n * @param {Function} props.onConfirm - Callback при подтверждении\r\n * @param {Function} props.onCancel - Callback при отмене\r\n */\r\nconst ConfirmDialog = ({\r\n  isOpen,\r\n  title,\r\n  message,\r\n  confirmText = 'Подтвердить',\r\n  cancelText = 'Отмена',\r\n  confirmButtonStyle = 'primary',\r\n  onConfirm,\r\n  onCancel\r\n}) => {\r\n  if (!isOpen) return null;\r\n\r\n  const handleBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      onCancel();\r\n    }\r\n  };\r\n\r\n  const handleConfirm = () => {\r\n    onConfirm();\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    onCancel();\r\n  };\r\n\r\n  return (\r\n    <div className={styles.backdrop} onClick={handleBackdropClick}>\r\n      <div className={styles.dialog}>\r\n        {title && <h2 className={styles.title}>{title}</h2>}\r\n        <p className={styles.message}>{message}</p>\r\n        <div className={styles.buttons}>\r\n          <button\r\n            className={`${styles.button} ${styles.cancelButton}`}\r\n            onClick={handleCancel}\r\n          >\r\n            {cancelText}\r\n          </button>\r\n          <button\r\n            className={`${styles.button} ${styles.confirmButton} ${styles[confirmButtonStyle]}`}\r\n            onClick={handleConfirm}\r\n          >\r\n            {confirmText}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ConfirmDialog;\r\n","import React from 'react';\r\nimport { useState, useCallback } from 'react';\r\nimport ConfirmDialog from '../components/Common/ConfirmDialog';\r\n\r\n/**\r\n * Хук для отображения диалога подтверждения\r\n * @returns {Object} { confirmDialog, showConfirm }\r\n */\r\nconst useConfirm = () => {\r\n  const [dialogState, setDialogState] = useState({\r\n    isOpen: false,\r\n    title: '',\r\n    message: '',\r\n    confirmText: 'Подтвердить',\r\n    cancelText: 'Отмена',\r\n    confirmButtonStyle: 'primary',\r\n    resolver: null\r\n  });\r\n\r\n  /**\r\n   * Показать диалог подтверждения\r\n   * @param {Object} options\r\n   * @param {string} options.title - Заголовок диалога\r\n   * @param {string} options.message - Текст сообщения\r\n   * @param {string} options.confirmText - Текст кнопки подтверждения\r\n   * @param {string} options.cancelText - Текст кнопки отмены\r\n   * @param {string} options.confirmButtonStyle - Стиль кнопки: 'danger', 'primary', 'success'\r\n   * @returns {Promise<boolean>} Promise, который резолвится в true при подтверждении, false при отмене\r\n   */\r\n  const showConfirm = useCallback((options) => {\r\n    return new Promise((resolve) => {\r\n      setDialogState({\r\n        isOpen: true,\r\n        title: options.title || '',\r\n        message: options.message || '',\r\n        confirmText: options.confirmText || 'Подтвердить',\r\n        cancelText: options.cancelText || 'Отмена',\r\n        confirmButtonStyle: options.confirmButtonStyle || 'primary',\r\n        resolver: resolve\r\n      });\r\n    });\r\n  }, []);\r\n\r\n  const handleConfirm = useCallback(() => {\r\n    if (dialogState.resolver) {\r\n      dialogState.resolver(true);\r\n    }\r\n    setDialogState(prev => ({ ...prev, isOpen: false }));\r\n  }, [dialogState.resolver]);\r\n\r\n  const handleCancel = useCallback(() => {\r\n    if (dialogState.resolver) {\r\n      dialogState.resolver(false);\r\n    }\r\n    setDialogState(prev => ({ ...prev, isOpen: false }));\r\n  }, [dialogState.resolver]);\r\n\r\n  const confirmDialog = (\r\n    <ConfirmDialog\r\n      isOpen={dialogState.isOpen}\r\n      title={dialogState.title}\r\n      message={dialogState.message}\r\n      confirmText={dialogState.confirmText}\r\n      cancelText={dialogState.cancelText}\r\n      confirmButtonStyle={dialogState.confirmButtonStyle}\r\n      onConfirm={handleConfirm}\r\n      onCancel={handleCancel}\r\n    />\r\n  );\r\n\r\n  return { confirmDialog, showConfirm };\r\n};\r\n\r\nexport default useConfirm;\r\n"],"names":["ConfirmDialog","isOpen","title","message","confirmText","cancelText","confirmButtonStyle","onConfirm","onCancel","handleBackdropClick","e","handleConfirm","handleCancel","jsx","styles","jsxs","useConfirm","dialogState","setDialogState","useState","showConfirm","useCallback","options","resolve","prev"],"mappings":"0eAeMA,EAAgB,CAAC,CACrB,OAAAC,EACA,MAAAC,EACA,QAAAC,EACA,YAAAC,EAAc,cACd,WAAAC,EAAa,SACb,mBAAAC,EAAqB,UACrB,UAAAC,EACA,SAAAC,CACF,IAAM,CACJ,GAAI,CAACP,EAAQ,OAAO,KAEpB,MAAMQ,EAAuBC,GAAM,CAC7BA,EAAE,SAAWA,EAAE,eACjBF,EAAA,CAEJ,EAEMG,EAAgB,IAAM,CAC1BJ,EAAA,CACF,EAEMK,EAAe,IAAM,CACzBJ,EAAA,CACF,EAEA,OACEK,EAAAA,IAAC,MAAA,CAAI,UAAWC,EAAO,SAAU,QAASL,EACxC,SAAAM,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,OACpB,SAAA,CAAAZ,GAASW,EAAAA,IAAC,KAAA,CAAG,UAAWC,EAAO,MAAQ,SAAAZ,EAAM,EAC9CW,EAAAA,IAAC,IAAA,CAAE,UAAWC,EAAO,QAAU,SAAAX,EAAQ,EACvCY,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,QACrB,SAAA,CAAAD,EAAAA,IAAC,SAAA,CACC,UAAW,GAAGC,EAAO,MAAM,IAAIA,EAAO,YAAY,GAClD,QAASF,EAER,SAAAP,CAAA,CAAA,EAEHQ,EAAAA,IAAC,SAAA,CACC,UAAW,GAAGC,EAAO,MAAM,IAAIA,EAAO,aAAa,IAAIA,EAAOR,CAAkB,CAAC,GACjF,QAASK,EAER,SAAAP,CAAA,CAAA,CACH,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAEJ,ECvDMY,EAAa,IAAM,CACvB,KAAM,CAACC,EAAaC,CAAc,EAAIC,WAAS,CAC7C,OAAQ,GACR,MAAO,GACP,QAAS,GACT,YAAa,cACb,WAAY,SACZ,mBAAoB,UACpB,SAAU,IAAA,CACX,EAYKC,EAAcC,cAAaC,GACxB,IAAI,QAASC,GAAY,CAC9BL,EAAe,CACb,OAAQ,GACR,MAAOI,EAAQ,OAAS,GACxB,QAASA,EAAQ,SAAW,GAC5B,YAAaA,EAAQ,aAAe,cACpC,WAAYA,EAAQ,YAAc,SAClC,mBAAoBA,EAAQ,oBAAsB,UAClD,SAAUC,CAAA,CACX,CACH,CAAC,EACA,CAAA,CAAE,EAECZ,EAAgBU,EAAAA,YAAY,IAAM,CAClCJ,EAAY,UACdA,EAAY,SAAS,EAAI,EAE3BC,MAAwB,CAAE,GAAGM,EAAM,OAAQ,IAAQ,CACrD,EAAG,CAACP,EAAY,QAAQ,CAAC,EAEnBL,EAAeS,EAAAA,YAAY,IAAM,CACjCJ,EAAY,UACdA,EAAY,SAAS,EAAK,EAE5BC,MAAwB,CAAE,GAAGM,EAAM,OAAQ,IAAQ,CACrD,EAAG,CAACP,EAAY,QAAQ,CAAC,EAezB,MAAO,CAAE,cAZPJ,EAAAA,IAACb,EAAA,CACC,OAAQiB,EAAY,OACpB,MAAOA,EAAY,MACnB,QAASA,EAAY,QACrB,YAAaA,EAAY,YACzB,WAAYA,EAAY,WACxB,mBAAoBA,EAAY,mBAChC,UAAWN,EACX,SAAUC,CAAA,CAAA,EAIU,YAAAQ,CAAA,CAC1B"}