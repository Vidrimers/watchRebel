import{d,e as t,A as c,N as i,f as o}from"./index-Djl9NHxl.js";const n=d("media/search",async({query:r,filters:e},{rejectWithValue:a})=>{try{return(await t.get("/media/search",{params:{query:r,...e}})).data}catch(s){return s instanceof c?a(s.data||s.message):s instanceof i?a({message:s.message}):a({message:"Неизвестная ошибка"})}}),l=d("media/getDetails",async({type:r,id:e},{rejectWithValue:a})=>{try{return(await t.get(`/media/${r}/${e}`)).data}catch(s){return s instanceof c?a(s.data||s.message):s instanceof i?a({message:s.message}):a({message:"Неизвестная ошибка"})}}),u=o({name:"media",initialState:{searchResults:[],searchQuery:"",selectedMedia:null,loading:!1,error:null},reducers:{clearSearch:r=>{r.searchResults=[],r.searchQuery=""},setSearchQuery:(r,e)=>{r.searchQuery=e.payload}},extraReducers:r=>{r.addCase(n.pending,e=>{e.loading=!0}).addCase(n.fulfilled,(e,a)=>{e.searchResults=a.payload,e.loading=!1}).addCase(n.rejected,(e,a)=>{e.loading=!1,e.error=a.payload}).addCase(l.fulfilled,(e,a)=>{e.selectedMedia=a.payload})}}),{clearSearch:m,setSearchQuery:f}=u.actions;export{f as a,l as g,n as s};
//# sourceMappingURL=mediaSlice-Cc1A5Hw2.js.map
