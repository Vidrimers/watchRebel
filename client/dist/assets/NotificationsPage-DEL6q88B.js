import{b as N,c as m,r as j,B as y,j as t,C as v,D as A}from"./index-DPQ5xN5C.js";import{U as D}from"./UserPageLayout-BKV1caGZ.js";const k="_container_glxte_1",I="_header_glxte_13",w="_title_glxte_27",$="_markAllButton_glxte_41",R="_loading_glxte_75",M="_empty_glxte_77",b="_emptyIcon_glxte_89",B="_list_glxte_103",C="_item_glxte_115",U="_unread_glxte_151",E="_icon_glxte_161",P="_content_glxte_181",L="_text_glxte_191",S="_time_glxte_205",F="_unreadDot_glxte_215",s={container:k,header:I,title:w,markAllButton:$,loading:R,empty:M,emptyIcon:b,list:B,item:C,unread:U,icon:E,content:P,text:L,time:S,unreadDot:F},H=()=>{const n=N(),{notifications:a,loading:_,unreadCount:u}=m(e=>e.notifications);j.useEffect(()=>{n(y())},[n]);const x=e=>{e.isRead||n(A(e.id))},h=e=>{e.relatedPostId?window.location.href=`/profile/${e.userId}#post-${e.relatedPostId}`:e.relatedUserId&&(window.location.href=`/profile/${e.relatedUserId}`)},g=()=>{n(v())},p=e=>{const r=new Date(e),o=new Date,l=o-r,c=Math.floor(l/6e4),i=Math.floor(l/36e5),d=Math.floor(l/864e5);return c<1?"Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ‡Ñ‚Ð¾":c<60?`${c} Ð¼Ð¸Ð½ Ð½Ð°Ð·Ð°Ð´`:i<24?`${i} Ñ‡ Ð½Ð°Ð·Ð°Ð´`:d<7?`${d} Ð´Ð½ Ð½Ð°Ð·Ð°Ð´`:r.toLocaleDateString("ru-RU",{day:"numeric",month:"short",year:r.getFullYear()!==o.getFullYear()?"numeric":void 0})},f=e=>{switch(e){case"reaction":return"â¤ï¸";case"friend_activity":return"ðŸ‘¤";default:return"ðŸ””"}};return _&&a.length===0?t.jsx("div",{className:s.container,children:t.jsx("div",{className:s.loading,children:"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹..."})}):a.length===0?t.jsx("div",{className:s.container,children:t.jsxs("div",{className:s.empty,children:[t.jsx("span",{className:s.emptyIcon,children:"ðŸ””"}),t.jsx("p",{children:"ÐŸÐ¾ÐºÐ° Ð½ÐµÑ‚ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹"})]})}):t.jsxs("div",{className:s.container,children:[t.jsxs("div",{className:s.header,children:[t.jsx("h2",{className:s.title,children:"Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ"}),u>0&&t.jsx("button",{className:s.markAllButton,onClick:g,title:"ÐŸÐ¾Ð¼ÐµÑ‚Ð¸Ñ‚ÑŒ Ð²ÑÐµ ÐºÐ°Ðº Ð¿Ñ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ð½Ð½Ñ‹Ðµ",children:"ÐŸÑ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ñ‚ÑŒ Ð²ÑÐµ"})]}),t.jsx("ul",{className:s.list,children:a.map(e=>t.jsxs("li",{className:`${s.item} ${e.isRead?"":s.unread}`,onClick:()=>h(e),onMouseEnter:()=>x(e),children:[t.jsx("div",{className:s.icon,children:f(e.type)}),t.jsxs("div",{className:s.content,children:[t.jsx("p",{className:s.text,children:e.content}),t.jsx("span",{className:s.time,children:p(e.createdAt)})]}),!e.isRead&&t.jsx("div",{className:s.unreadDot,"aria-label":"ÐÐµÐ¿Ñ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ð½Ð¾"})]},e.id))})]})},Y="_page_1bh35_1",q={page:Y},J=()=>{const{user:n}=m(a=>a.auth);return t.jsx(D,{user:n,narrowSidebar:!0,children:t.jsx("div",{className:q.page,children:t.jsx(H,{})})})};export{J as default};
//# sourceMappingURL=NotificationsPage-DEL6q88B.js.map
