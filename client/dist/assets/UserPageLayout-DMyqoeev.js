import{j as e,b as w,a as L,c as N,r as o,s as b,C as $,x as R}from"./index-4ubAi2p8.js";const T="_avatarContainer_ytzs4_1",P="_avatarImage_ytzs4_21",E="_avatarPlaceholder_ytzs4_33",h={avatarContainer:T,avatarImage:P,avatarPlaceholder:E,"avatar-small":"_avatar-small_ytzs4_59","avatar-medium":"_avatar-medium_ytzs4_71","avatar-large":"_avatar-large_ytzs4_83","avatar-xlarge":"_avatar-xlarge_ytzs4_95"},z=({user:s,size:i="medium",className:d=""})=>{var r;const _=h[`avatar-${i}`];return e.jsx("div",{className:`${h.avatarContainer} ${_} ${d}`,children:s!=null&&s.avatarUrl?e.jsx("img",{src:s.avatarUrl,alt:s.displayName||"ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ",className:h.avatarImage}):e.jsx("div",{className:h.avatarPlaceholder,children:((r=s==null?void 0:s.displayName)==null?void 0:r.charAt(0).toUpperCase())||"?"})})},U="_searchContainer_15wdw_3",A="_searchInput_15wdw_17",F="_searchPreview_15wdw_61",S="_previewLoading_15wdw_91",D="_previewEmpty_15wdw_105",q="_previewList_15wdw_119",Q="_previewItem_15wdw_133",W="_userResult_15wdw_165",B="_userAvatar_15wdw_177",K="_userInfo_15wdw_191",Y="_userName_15wdw_203",M="_userType_15wdw_215",O="_mediaResult_15wdw_227",G="_mediaPoster_15wdw_239",H="_mediaInfo_15wdw_253",J="_mediaTitle_15wdw_265",V="_mediaType_15wdw_277",X="_previewFooter_15wdw_289",t={searchContainer:U,searchInput:A,searchPreview:F,previewLoading:S,previewEmpty:D,previewList:q,previewItem:Q,userResult:W,userAvatar:B,userInfo:K,userName:Y,userType:M,mediaResult:O,mediaPoster:G,mediaInfo:H,mediaTitle:J,mediaType:V,previewFooter:X},Z=()=>{const s=w(),i=L(),{searchResults:d,loading:_}=N(a=>a.media),[r,y]=o.useState(""),[j,l]=o.useState(!1),[p,g]=o.useState(""),u=o.useRef(null),v=o.useRef(null);o.useEffect(()=>(v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{g(r)},300),()=>{v.current&&clearTimeout(v.current)}),[r]),o.useEffect(()=>{p.trim().length>0?(s(b({query:p,filters:{}})),l(!0)):l(!1)},[p,s]),o.useEffect(()=>{const a=m=>{u.current&&!u.current.contains(m.target)&&l(!1)};return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[]);const k=a=>{const m=a.target.value;y(m),s($(m))},C=a=>{a.key==="Enter"&&r.trim()&&(l(!1),i(`/search?q=${encodeURIComponent(r)}`))},I=a=>{l(!1),a.type==="user"?i(`/user/${a.data.id}`):i(`/media/${a.data.mediaType}/${a.data.tmdbId}`)},f=d.slice(0,5);return e.jsxs("div",{className:t.searchContainer,ref:u,children:[e.jsx("input",{type:"text",placeholder:"ÐŸÐ¾Ð¸ÑÐº Ñ„Ð¸Ð»ÑŒÐ¼Ð¾Ð², ÑÐµÑ€Ð¸Ð°Ð»Ð¾Ð², Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹...",className:t.searchInput,value:r,onChange:k,onKeyDown:C,onFocus:()=>r.trim()&&l(!0)}),j&&r.trim()&&e.jsx("div",{className:t.searchPreview,children:_?e.jsx("div",{className:t.previewLoading,children:e.jsx("span",{children:"ÐŸÐ¾Ð¸ÑÐº..."})}):f.length>0?e.jsxs(e.Fragment,{children:[e.jsx("ul",{className:t.previewList,children:f.map((a,m)=>e.jsx("li",{className:t.previewItem,onClick:()=>I(a),children:a.type==="user"?e.jsxs("div",{className:t.userResult,children:[e.jsx("img",{src:a.data.avatarUrl||"/default-avatar.png",alt:a.data.displayName,className:t.userAvatar}),e.jsxs("div",{className:t.userInfo,children:[e.jsx("span",{className:t.userName,children:a.data.displayName}),e.jsx("span",{className:t.userType,children:"ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ"})]})]}):e.jsxs("div",{className:t.mediaResult,children:[e.jsx("img",{src:a.data.posterPath?`https://image.tmdb.org/t/p/w92${a.data.posterPath}`:"/default-poster.png",alt:a.data.title,className:t.mediaPoster}),e.jsxs("div",{className:t.mediaInfo,children:[e.jsx("span",{className:t.mediaTitle,children:a.data.title}),e.jsx("span",{className:t.mediaType,children:a.data.mediaType==="movie"?"Ð¤Ð¸Ð»ÑŒÐ¼":"Ð¡ÐµÑ€Ð¸Ð°Ð»"})]})]})},`${a.type}-${a.data.id||a.data.tmdbId}-${m}`))}),d.length>5&&e.jsxs("div",{className:t.previewFooter,onClick:()=>{l(!1),i(`/search?q=${encodeURIComponent(r)}`)},children:["ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð²ÑÐµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ (",d.length,")"]})]}):e.jsx("div",{className:t.previewEmpty,children:e.jsx("span",{children:"ÐÐ¸Ñ‡ÐµÐ³Ð¾ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð¾"})})})]})},ee="_badge_1nn9d_1",ae={badge:ee},se=()=>{const s=w(),{unreadCount:i,loading:d}=N(_=>_.notifications);return o.useEffect(()=>{s(R())},[s]),i===0?null:e.jsx("span",{className:ae.badge,"aria-label":`${i} Ð½ÐµÐ¿Ñ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ð½Ð½Ñ‹Ñ… ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹`,children:i>99?"99+":i})},te="_sidebar_1kyex_3",ne="_userInfo_1kyex_21",ie="_userName_1kyex_43",re="_navigation_1kyex_61",ce="_navList_1kyex_75",oe="_navItem_1kyex_93",le="_navLink_1kyex_101",de="_notificationsContainer_1kyex_133",me="_notificationsLink_1kyex_147",_e="_settingsContainer_1kyex_203",ve="_settingsLink_1kyex_217",n={sidebar:te,userInfo:ne,userName:ie,navigation:re,navList:ce,navItem:oe,navLink:le,notificationsContainer:de,notificationsLink:me,settingsContainer:_e,settingsLink:ve},he=({user:s})=>e.jsxs("aside",{className:n.sidebar,children:[e.jsx(Z,{}),s&&e.jsxs("div",{className:n.userInfo,children:[e.jsx(z,{user:s,size:"medium"}),e.jsx("h2",{className:n.userName,children:s.displayName})]}),e.jsx("nav",{className:n.navigation,children:e.jsxs("ul",{className:n.navList,children:[e.jsx("li",{className:n.navItem,children:e.jsx("a",{href:"/lists?type=movie",className:n.navLink,children:"ðŸŽ¬ ÐœÐ¾Ð¸ Ñ„Ð¸Ð»ÑŒÐ¼Ñ‹"})}),e.jsx("li",{className:n.navItem,children:e.jsx("a",{href:"/lists?type=tv",className:n.navLink,children:"ðŸ“º ÐœÐ¾Ð¸ ÑÐµÑ€Ð¸Ð°Ð»Ñ‹"})}),e.jsx("li",{className:n.navItem,children:e.jsx("a",{href:"/watchlist",className:n.navLink,children:"â­ Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð¶ÐµÐ»Ð°ÐµÐ¼Ð¾Ð³Ð¾"})}),e.jsx("li",{className:n.navItem,children:e.jsx("a",{href:"/friends",className:n.navLink,children:"ðŸ‘¥ Ð”Ñ€ÑƒÐ·ÑŒÑ"})})]})}),e.jsx("div",{className:n.notificationsContainer,children:e.jsxs("a",{href:"/notifications",className:n.notificationsLink,children:["ðŸ”” Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ",e.jsx(se,{})]})}),e.jsx("div",{className:n.settingsContainer,children:e.jsx("a",{href:"/settings",className:n.settingsLink,children:"âš™ï¸ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸"})})]}),pe="_footer_195rk_3",ue="_footerContent_195rk_17",xe="_copyright_195rk_35",fe="_links_195rk_49",we="_link_195rk_49",Ne="_separator_195rk_87",c={footer:pe,footerContent:ue,copyright:xe,links:fe,link:we,separator:Ne},ye=()=>{const s=new Date().getFullYear();return e.jsx("footer",{className:c.footer,children:e.jsxs("div",{className:c.footerContent,children:[e.jsxs("p",{className:c.copyright,children:["Â© ",s," watchRebel. Ð¡Ð¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð°Ñ ÑÐµÑ‚ÑŒ Ð´Ð»Ñ Ð»ÑŽÐ±Ð¸Ñ‚ÐµÐ»ÐµÐ¹ ÐºÐ¸Ð½Ð¾."]}),e.jsxs("div",{className:c.links,children:[e.jsx("a",{href:"/about",className:c.link,children:"Ðž Ð¿Ñ€Ð¾ÐµÐºÑ‚Ðµ"}),e.jsx("span",{className:c.separator,children:"â€¢"}),e.jsx("a",{href:"/privacy",className:c.link,children:"ÐšÐ¾Ð½Ñ„Ð¸Ð´ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ"}),e.jsx("span",{className:c.separator,children:"â€¢"}),e.jsx("a",{href:"/terms",className:c.link,children:"Ð£ÑÐ»Ð¾Ð²Ð¸Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ñ"})]})]})})},je="_pageContainer_e4b5n_3",ge="_contentWrapper_e4b5n_19",ke="_mainContent_e4b5n_41",x={pageContainer:je,contentWrapper:ge,mainContent:ke},Ie=({children:s,user:i})=>e.jsxs("div",{className:x.pageContainer,children:[e.jsxs("div",{className:x.contentWrapper,children:[e.jsx("main",{className:x.mainContent,children:s}),e.jsx(he,{user:i})]}),e.jsx(ye,{})]});export{Ie as U,z as a};
//# sourceMappingURL=UserPageLayout-DMyqoeev.js.map
