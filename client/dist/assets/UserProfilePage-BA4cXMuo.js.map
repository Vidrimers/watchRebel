{"version":3,"file":"UserProfilePage-BA4cXMuo.js","sources":["../../src/components/Wall/ReactionPicker.jsx","../../src/components/Wall/WallPost.jsx","../../src/components/Wall/Wall.jsx","../../src/pages/UserProfilePage.jsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport styles from './ReactionPicker.module.css';\r\n\r\n/**\r\n * –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –≤—ã–±–æ—Ä–∞ —ç–º–æ–¥–∂–∏-—Ä–µ–∞–∫—Ü–∏–∏\r\n * –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —ç–º–æ–¥–∂–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤—ã–±–æ—Ä–∞\r\n */\r\nconst ReactionPicker = ({ onSelect, onClose }) => {\r\n  const pickerRef = useRef(null);\r\n\r\n  // –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —ç–º–æ–¥–∂–∏ –¥–ª—è —Ä–µ–∞–∫—Ü–∏–π\r\n  const emojis = [\r\n    '‚ù§Ô∏è', 'üëç', 'üòÇ', 'üòÆ', 'üò¢', 'üò°',\r\n    'üî•', 'üëè', 'üéâ', 'üíØ', 'ü§î', 'üòç',\r\n    'ü§©', 'üòé', 'ü•≥', 'üò±', 'ü§Ø', 'üëÄ'\r\n  ];\r\n\r\n  // –ó–∞–∫—Ä—ã—Ç–∏–µ picker –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ –æ–±–ª–∞—Å—Ç–∏\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (pickerRef.current && !pickerRef.current.contains(event.target)) {\r\n        onClose();\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, [onClose]);\r\n\r\n  // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ Escape\r\n  useEffect(() => {\r\n    const handleEscape = (event) => {\r\n      if (event.key === 'Escape') {\r\n        onClose();\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleEscape);\r\n    return () => {\r\n      document.removeEventListener('keydown', handleEscape);\r\n    };\r\n  }, [onClose]);\r\n\r\n  const handleEmojiClick = (emoji) => {\r\n    onSelect(emoji);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.reactionPicker} ref={pickerRef}>\r\n      <div className={styles.pickerHeader}>\r\n        <span className={styles.pickerTitle}>–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∞–∫—Ü–∏—é</span>\r\n        <button \r\n          className={styles.closeButton}\r\n          onClick={onClose}\r\n          aria-label=\"–ó–∞–∫—Ä—ã—Ç—å\"\r\n        >\r\n          √ó\r\n        </button>\r\n      </div>\r\n      \r\n      <div className={styles.emojiGrid}>\r\n        {emojis.map((emoji) => (\r\n          <button\r\n            key={emoji}\r\n            className={styles.emojiButton}\r\n            onClick={() => handleEmojiClick(emoji)}\r\n            title={emoji}\r\n          >\r\n            {emoji}\r\n          </button>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReactionPicker;\r\n","import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAppDispatch } from '../../hooks/useAppDispatch';\r\nimport { useAppSelector } from '../../hooks/useAppSelector';\r\nimport { addReaction } from '../../store/slices/wallSlice';\r\nimport ReactionPicker from './ReactionPicker';\r\nimport styles from './WallPost.module.css';\r\n\r\n/**\r\n * –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π –∑–∞–ø–∏—Å–∏ –Ω–∞ —Å—Ç–µ–Ω–µ\r\n * –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –ø–æ—Å—Ç–æ–≤: text, media_added, rating, review\r\n */\r\nconst WallPost = ({ post, isOwnProfile }) => {\r\n  const dispatch = useAppDispatch();\r\n  const navigate = useNavigate();\r\n  const currentUser = useAppSelector((state) => state.auth.user);\r\n  const [showReactionPicker, setShowReactionPicker] = useState(false);\r\n\r\n  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∞–∫—Ü–∏–∏\r\n  const handleAddReaction = async (emoji) => {\r\n    try {\r\n      await dispatch(addReaction({ \r\n        postId: post.id, \r\n        emoji \r\n      })).unwrap();\r\n      setShowReactionPicker(false);\r\n    } catch (err) {\r\n      console.error('–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∞–∫—Ü–∏–∏:', err);\r\n    }\r\n  };\r\n\r\n  // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const diffMs = now - date;\r\n    const diffMins = Math.floor(diffMs / 60000);\r\n    const diffHours = Math.floor(diffMs / 3600000);\r\n    const diffDays = Math.floor(diffMs / 86400000);\r\n\r\n    if (diffMins < 1) return '—Ç–æ–ª—å–∫–æ —á—Ç–æ';\r\n    if (diffMins < 60) return `${diffMins} –º–∏–Ω –Ω–∞–∑–∞–¥`;\r\n    if (diffHours < 24) return `${diffHours} —á –Ω–∞–∑–∞–¥`;\r\n    if (diffDays < 7) return `${diffDays} –¥ –Ω–∞–∑–∞–¥`;\r\n    \r\n    return date.toLocaleDateString('ru-RU', {\r\n      day: 'numeric',\r\n      month: 'short',\r\n      year: date.getFullYear() !== now.getFullYear() ? 'numeric' : undefined\r\n    });\r\n  };\r\n\r\n  // –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –º–µ–¥–∏–∞\r\n  const handleMediaClick = () => {\r\n    if (post.tmdbId && post.mediaType) {\r\n      navigate(`/media/${post.mediaType}/${post.tmdbId}`);\r\n    }\r\n  };\r\n\r\n  // –†–µ–Ω–¥–µ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –ø–æ—Å—Ç–∞\r\n  const renderPostContent = () => {\r\n    switch (post.postType) {\r\n      case 'text':\r\n        return (\r\n          <div className={styles.textContent}>\r\n            <p>{post.content}</p>\r\n          </div>\r\n        );\r\n\r\n      case 'media_added':\r\n        return (\r\n          <div className={styles.mediaAddedContent}>\r\n            <p className={styles.actionText}>\r\n              üìå –î–æ–±–∞–≤–∏–ª{isOwnProfile ? '' : '–∞'} –≤ —Å–ø–∏—Å–æ–∫\r\n            </p>\r\n            {post.tmdbId && (\r\n              <div \r\n                className={styles.mediaInfo}\r\n                onClick={handleMediaClick}\r\n              >\r\n                <div className={styles.mediaDetails}>\r\n                  <h4 className={styles.mediaTitle}>\r\n                    {post.mediaType === 'movie' ? '–§–∏–ª—å–º' : '–°–µ—Ä–∏–∞–ª'} (ID: {post.tmdbId})\r\n                  </h4>\r\n                  <span className={styles.mediaType}>\r\n                    {post.mediaType === 'movie' ? 'üé¨ –§–∏–ª—å–º' : 'üì∫ –°–µ—Ä–∏–∞–ª'}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n\r\n      case 'rating':\r\n        return (\r\n          <div className={styles.ratingContent}>\r\n            <p className={styles.actionText}>\r\n              ‚≠ê –û—Ü–µ–Ω–∏–ª{isOwnProfile ? '' : '–∞'}\r\n            </p>\r\n            {post.tmdbId && (\r\n              <div \r\n                className={styles.mediaInfo}\r\n                onClick={handleMediaClick}\r\n              >\r\n                <div className={styles.mediaDetails}>\r\n                  <h4 className={styles.mediaTitle}>\r\n                    {post.mediaType === 'movie' ? '–§–∏–ª—å–º' : '–°–µ—Ä–∏–∞–ª'} (ID: {post.tmdbId})\r\n                  </h4>\r\n                  <div className={styles.ratingValue}>\r\n                    <span className={styles.ratingStars}>‚òÖ</span>\r\n                    <span className={styles.ratingNumber}>{post.rating}/10</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n\r\n      case 'review':\r\n        return (\r\n          <div className={styles.reviewContent}>\r\n            <p className={styles.actionText}>\r\n              ‚úçÔ∏è –ù–∞–ø–∏—Å–∞–ª{isOwnProfile ? '' : '–∞'} –æ—Ç–∑—ã–≤\r\n            </p>\r\n            {post.tmdbId && (\r\n              <div \r\n                className={styles.mediaInfo}\r\n                onClick={handleMediaClick}\r\n              >\r\n                <div className={styles.mediaDetails}>\r\n                  <h4 className={styles.mediaTitle}>\r\n                    {post.mediaType === 'movie' ? '–§–∏–ª—å–º' : '–°–µ—Ä–∏–∞–ª'} (ID: {post.tmdbId})\r\n                  </h4>\r\n                </div>\r\n              </div>\r\n            )}\r\n            {post.content && (\r\n              <div className={styles.reviewText}>\r\n                <p>{post.content}</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  // –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Ä–µ–∞–∫—Ü–∏–π –ø–æ —ç–º–æ–¥–∂–∏\r\n  const groupedReactions = post.reactions?.reduce((acc, reaction) => {\r\n    if (!acc[reaction.emoji]) {\r\n      acc[reaction.emoji] = {\r\n        emoji: reaction.emoji,\r\n        count: 0,\r\n        users: []\r\n      };\r\n    }\r\n    acc[reaction.emoji].count++;\r\n    acc[reaction.emoji].users.push(reaction.userId);\r\n    return acc;\r\n  }, {}) || {};\r\n\r\n  const reactionsList = Object.values(groupedReactions);\r\n\r\n  // –ü—Ä–æ–≤–µ—Ä–∫–∞, –ø–æ—Å—Ç–∞–≤–∏–ª –ª–∏ —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–∞–∫—Ü–∏—é\r\n  const userReaction = post.reactions?.find(r => r.userId === currentUser?.id);\r\n\r\n  return (\r\n    <div className={styles.wallPost}>\r\n      {/* –ö–æ–Ω—Ç–µ–Ω—Ç –ø–æ—Å—Ç–∞ */}\r\n      <div className={styles.postContent}>\r\n        {renderPostContent()}\r\n      </div>\r\n\r\n      {/* –§—É—Ç–µ—Ä —Å –¥–∞—Ç–æ–π –∏ —Ä–µ–∞–∫—Ü–∏—è–º–∏ */}\r\n      <div className={styles.postFooter}>\r\n        <span className={styles.postDate}>{formatDate(post.createdAt)}</span>\r\n\r\n        {/* –†–µ–∞–∫—Ü–∏–∏ */}\r\n        <div className={styles.reactionsContainer}>\r\n          {/* –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ä–µ–∞–∫—Ü–∏–π */}\r\n          {reactionsList.length > 0 && (\r\n            <div className={styles.reactionsList}>\r\n              {reactionsList.map((reaction) => (\r\n                <span \r\n                  key={reaction.emoji}\r\n                  className={styles.reactionBadge}\r\n                  title={`${reaction.count} ${reaction.count === 1 ? '—Ä–µ–∞–∫—Ü–∏—è' : '—Ä–µ–∞–∫—Ü–∏–π'}`}\r\n                >\r\n                  {reaction.emoji} {reaction.count}\r\n                </span>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          {/* –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∞–∫—Ü–∏–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è —á—É–∂–∏—Ö –ø–æ—Å—Ç–æ–≤) */}\r\n          {!isOwnProfile && currentUser && (\r\n            <div className={styles.addReactionContainer}>\r\n              <button\r\n                className={styles.addReactionButton}\r\n                onClick={() => setShowReactionPicker(!showReactionPicker)}\r\n                title={userReaction ? '–ò–∑–º–µ–Ω–∏—Ç—å —Ä–µ–∞–∫—Ü–∏—é' : '–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∞–∫—Ü–∏—é'}\r\n              >\r\n                {userReaction ? userReaction.emoji : 'üòä'}\r\n              </button>\r\n\r\n              {/* Picker —Ä–µ–∞–∫—Ü–∏–π */}\r\n              {showReactionPicker && (\r\n                <ReactionPicker\r\n                  onSelect={handleAddReaction}\r\n                  onClose={() => setShowReactionPicker(false)}\r\n                />\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WallPost;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useAppDispatch } from '../../hooks/useAppDispatch';\r\nimport { useAppSelector } from '../../hooks/useAppSelector';\r\nimport { fetchWall, createPost } from '../../store/slices/wallSlice';\r\nimport WallPost from './WallPost';\r\nimport styles from './Wall.module.css';\r\n\r\n/**\r\n * –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å—Ç–µ–Ω—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\r\n * –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ª–µ–Ω—Ç—É –ø–æ—Å—Ç–æ–≤ –≤ —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ (–Ω–æ–≤—ã–µ —Å–≤–µ—Ä—Ö—É)\r\n */\r\nconst Wall = ({ userId, isOwnProfile = false }) => {\r\n  const dispatch = useAppDispatch();\r\n  const { posts, loading, error } = useAppSelector((state) => state.wall);\r\n  const [newPostContent, setNewPostContent] = useState('');\r\n  const [isCreating, setIsCreating] = useState(false);\r\n\r\n  // –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ—Å—Ç–æ–≤ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞\r\n  useEffect(() => {\r\n    if (userId) {\r\n      dispatch(fetchWall(userId));\r\n    }\r\n  }, [dispatch, userId]);\r\n\r\n  // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞\r\n  const handleCreatePost = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!newPostContent.trim()) {\r\n      return;\r\n    }\r\n\r\n    setIsCreating(true);\r\n    try {\r\n      await dispatch(createPost({\r\n        postType: 'text',\r\n        content: newPostContent.trim()\r\n      })).unwrap();\r\n      \r\n      setNewPostContent('');\r\n    } catch (err) {\r\n      console.error('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—Ç–∞:', err);\r\n    } finally {\r\n      setIsCreating(false);\r\n    }\r\n  };\r\n\r\n  if (loading && posts.length === 0) {\r\n    return (\r\n      <div className={styles.wall}>\r\n        <div className={styles.loading}>–ó–∞–≥—Ä—É–∑–∫–∞...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className={styles.wall}>\r\n        <div className={styles.error}>\r\n          –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–µ–Ω—ã: {error.message || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={styles.wall}>\r\n      {/* –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ—Å—Ç–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è —Å–≤–æ–µ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è) */}\r\n      {isOwnProfile && (\r\n        <div className={styles.createPostContainer}>\r\n          <form onSubmit={handleCreatePost} className={styles.createPostForm}>\r\n            <textarea\r\n              className={styles.postInput}\r\n              placeholder=\"–ß—Ç–æ —É –≤–∞—Å –Ω–æ–≤–æ–≥–æ?\"\r\n              value={newPostContent}\r\n              onChange={(e) => setNewPostContent(e.target.value)}\r\n              rows={3}\r\n              disabled={isCreating}\r\n            />\r\n            <button \r\n              type=\"submit\" \r\n              className={styles.submitButton}\r\n              disabled={!newPostContent.trim() || isCreating}\r\n            >\r\n              {isCreating ? '–ü—É–±–ª–∏–∫–∞—Ü–∏—è...' : '–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å'}\r\n            </button>\r\n          </form>\r\n        </div>\r\n      )}\r\n\r\n      {/* –°–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–æ–≤ */}\r\n      <div className={styles.postsList}>\r\n        {posts.length === 0 ? (\r\n          <div className={styles.emptyState}>\r\n            <p>–ü–æ–∫–∞ –Ω–µ—Ç –∑–∞–ø–∏—Å–µ–π –Ω–∞ —Å—Ç–µ–Ω–µ</p>\r\n            {isOwnProfile && (\r\n              <p className={styles.emptyHint}>\r\n                –î–æ–±–∞–≤—å—Ç–µ —Ñ–∏–ª—å–º –≤ —Å–ø–∏—Å–æ–∫ –∏–ª–∏ –Ω–∞–ø–∏—à–∏—Ç–µ —á—Ç–æ-–Ω–∏–±—É–¥—å!\r\n              </p>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          posts.map((post) => (\r\n            <WallPost \r\n              key={post.id} \r\n              post={post}\r\n              isOwnProfile={isOwnProfile}\r\n            />\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Wall;\r\n","import React from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useAppSelector } from '../hooks/useAppSelector';\r\nimport UserPageLayout from '../components/Layout/UserPageLayout';\r\nimport UserAvatar from '../components/User/UserAvatar';\r\nimport { Wall } from '../components/Wall';\r\nimport styles from './UserProfilePage.module.css';\r\n\r\n/**\r\n * –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\r\n * –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç Wall –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –µ–≥–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é\r\n */\r\nconst UserProfilePage = () => {\r\n  const { userId } = useParams();\r\n  \r\n  const { user: currentUser, isAuthenticated } = useAppSelector((state) => state.auth);\r\n\r\n  // –û–ø—Ä–µ–¥–µ–ª—è–µ–º, —ç—Ç–æ —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å –∏–ª–∏ —á—É–∂–æ–π\r\n  const isOwnProfile = currentUser?.id === userId;\r\n  \r\n  // –î–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å–ª–∏ —ç—Ç–æ —Å–≤–æ–π –ø—Ä–æ—Ñ–∏–ª—å\r\n  // –í –±—É–¥—É—â–µ–º –∑–¥–µ—Å—å –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\r\n  const profileUser = isOwnProfile ? currentUser : null;\r\n\r\n  if (!isAuthenticated) {\r\n    return (\r\n      <div className={styles.errorContainer}>\r\n        <p>–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!profileUser) {\r\n    return (\r\n      <div className={styles.errorContainer}>\r\n        <p>–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ñ–∏–ª—è...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <UserPageLayout user={currentUser}>\r\n      <div className={styles.profileContainer}>\r\n        {/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ –ø—Ä–æ—Ñ–∏–ª—è */}\r\n        <div className={styles.profileHeader}>\r\n          <UserAvatar user={profileUser} size=\"large\" />\r\n          <div className={styles.profileInfo}>\r\n            <h1 className={styles.profileName}>{profileUser.displayName}</h1>\r\n            {profileUser.telegramUsername && (\r\n              <p className={styles.profileUsername}>@{profileUser.telegramUsername}</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Wall - –ª–µ–Ω—Ç–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ */}\r\n        <div className={styles.wallSection}>\r\n          <h2 className={styles.sectionTitle}>–õ–µ–Ω—Ç–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</h2>\r\n          <Wall userId={userId} isOwnProfile={isOwnProfile} />\r\n        </div>\r\n      </div>\r\n    </UserPageLayout>\r\n  );\r\n};\r\n\r\nexport default UserProfilePage;\r\n"],"names":["ReactionPicker","onSelect","onClose","pickerRef","useRef","emojis","useEffect","handleClickOutside","event","handleEscape","handleEmojiClick","emoji","styles","jsxs","jsx","WallPost","post","isOwnProfile","dispatch","useAppDispatch","navigate","useNavigate","currentUser","useAppSelector","state","showReactionPicker","setShowReactionPicker","useState","handleAddReaction","addReaction","err","formatDate","dateString","date","now","diffMs","diffMins","diffHours","diffDays","handleMediaClick","renderPostContent","groupedReactions","_a","acc","reaction","reactionsList","userReaction","_b","r","Wall","userId","posts","loading","error","newPostContent","setNewPostContent","isCreating","setIsCreating","fetchWall","handleCreatePost","e","createPost","UserProfilePage","useParams","isAuthenticated","profileUser","UserPageLayout","UserAvatar"],"mappings":"uZAOMA,EAAiB,CAAC,CAAE,SAAAC,EAAU,QAAAC,KAAc,CAChD,MAAMC,EAAYC,EAAAA,OAAO,IAAI,EAGvBC,EAAS,CACb,KAAM,KAAM,KAAM,KAAM,KAAM,KAC9B,KAAM,KAAM,KAAM,KAAM,KAAM,KAC9B,KAAM,KAAM,KAAM,KAAM,KAAM,IAAA,EAIhCC,EAAAA,UAAU,IAAM,CACd,MAAMC,EAAsBC,GAAU,CAChCL,EAAU,SAAW,CAACA,EAAU,QAAQ,SAASK,EAAM,MAAM,GAC/DN,EAAA,CAEJ,EAEA,gBAAS,iBAAiB,YAAaK,CAAkB,EAClD,IAAM,CACX,SAAS,oBAAoB,YAAaA,CAAkB,CAC9D,CACF,EAAG,CAACL,CAAO,CAAC,EAGZI,EAAAA,UAAU,IAAM,CACd,MAAMG,EAAgBD,GAAU,CAC1BA,EAAM,MAAQ,UAChBN,EAAA,CAEJ,EAEA,gBAAS,iBAAiB,UAAWO,CAAY,EAC1C,IAAM,CACX,SAAS,oBAAoB,UAAWA,CAAY,CACtD,CACF,EAAG,CAACP,CAAO,CAAC,EAEZ,MAAMQ,EAAoBC,GAAU,CAClCV,EAASU,CAAK,CAChB,EAEA,cACG,MAAA,CAAI,UAAWC,EAAO,eAAgB,IAAKT,EAC1C,SAAA,CAAAU,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,aACrB,SAAA,CAAAE,EAAAA,IAAC,OAAA,CAAK,UAAWF,EAAO,YAAa,SAAA,mBAAgB,EACrDE,EAAAA,IAAC,SAAA,CACC,UAAWF,EAAO,YAClB,QAASV,EACT,aAAW,UACZ,SAAA,GAAA,CAAA,CAED,EACF,EAEAY,EAAAA,IAAC,OAAI,UAAWF,EAAO,UACpB,SAAAP,EAAO,IAAKM,GACXG,EAAAA,IAAC,SAAA,CAEC,UAAWF,EAAO,YAClB,QAAS,IAAMF,EAAiBC,CAAK,EACrC,MAAOA,EAEN,SAAAA,CAAA,EALIA,CAAA,CAOR,CAAA,CACH,CAAA,EACF,CAEJ,2zBChEMI,GAAW,CAAC,CAAE,KAAAC,EAAM,aAAAC,KAAmB,SAC3C,MAAMC,EAAWC,EAAA,EACXC,EAAWC,EAAA,EACXC,EAAcC,EAAgBC,GAAUA,EAAM,KAAK,IAAI,EACvD,CAACC,EAAoBC,CAAqB,EAAIC,EAAAA,SAAS,EAAK,EAG5DC,EAAoB,MAAOjB,GAAU,CACzC,GAAI,CACF,MAAMO,EAASW,EAAY,CACzB,OAAQb,EAAK,GACb,MAAAL,CAAA,CACD,CAAC,EAAE,OAAA,EACJe,EAAsB,EAAK,CAC7B,OAASI,EAAK,CACZ,QAAQ,MAAM,6BAA8BA,CAAG,CACjD,CACF,EAGMC,EAAcC,GAAe,CACjC,MAAMC,EAAO,IAAI,KAAKD,CAAU,EAC1BE,MAAU,KACVC,EAASD,EAAMD,EACfG,EAAW,KAAK,MAAMD,EAAS,GAAK,EACpCE,EAAY,KAAK,MAAMF,EAAS,IAAO,EACvCG,EAAW,KAAK,MAAMH,EAAS,KAAQ,EAE7C,OAAIC,EAAW,EAAU,aACrBA,EAAW,GAAW,GAAGA,CAAQ,aACjCC,EAAY,GAAW,GAAGA,CAAS,WACnCC,EAAW,EAAU,GAAGA,CAAQ,WAE7BL,EAAK,mBAAmB,QAAS,CACtC,IAAK,UACL,MAAO,QACP,KAAMA,EAAK,YAAA,IAAkBC,EAAI,YAAA,EAAgB,UAAY,MAAA,CAC9D,CACH,EAGMK,EAAmB,IAAM,CACzBvB,EAAK,QAAUA,EAAK,WACtBI,EAAS,UAAUJ,EAAK,SAAS,IAAIA,EAAK,MAAM,EAAE,CAEtD,EAGMwB,EAAoB,IAAM,CAC9B,OAAQxB,EAAK,SAAA,CACX,IAAK,OACH,OACEF,EAAAA,IAAC,OAAI,UAAWF,EAAO,YACrB,SAAAE,EAAAA,IAAC,IAAA,CAAG,SAAAE,EAAK,OAAA,CAAQ,CAAA,CACnB,EAGJ,IAAK,cACH,OACEH,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,kBACrB,SAAA,CAAAC,EAAAA,KAAC,IAAA,CAAE,UAAWD,EAAO,WAAY,SAAA,CAAA,aACpBK,EAAe,GAAK,IAAI,WAAA,EACrC,EACCD,EAAK,QACJF,EAAAA,IAAC,MAAA,CACC,UAAWF,EAAO,UAClB,QAAS2B,EAET,SAAA1B,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,aACrB,SAAA,CAAAC,EAAAA,KAAC,KAAA,CAAG,UAAWD,EAAO,WACnB,SAAA,CAAAI,EAAK,YAAc,QAAU,QAAU,SAAS,SAAOA,EAAK,OAAO,GAAA,EACtE,EACAF,EAAAA,IAAC,QAAK,UAAWF,EAAO,UACrB,SAAAI,EAAK,YAAc,QAAU,WAAa,WAAA,CAC7C,CAAA,CAAA,CACF,CAAA,CAAA,CACF,EAEJ,EAGJ,IAAK,SACH,OACEH,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,cACrB,SAAA,CAAAC,EAAAA,KAAC,IAAA,CAAE,UAAWD,EAAO,WAAY,SAAA,CAAA,WACtBK,EAAe,GAAK,GAAA,EAC/B,EACCD,EAAK,QACJF,EAAAA,IAAC,MAAA,CACC,UAAWF,EAAO,UAClB,QAAS2B,EAET,SAAA1B,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,aACrB,SAAA,CAAAC,EAAAA,KAAC,KAAA,CAAG,UAAWD,EAAO,WACnB,SAAA,CAAAI,EAAK,YAAc,QAAU,QAAU,SAAS,SAAOA,EAAK,OAAO,GAAA,EACtE,EACAH,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,YACrB,SAAA,CAAAE,EAAAA,IAAC,OAAA,CAAK,UAAWF,EAAO,YAAa,SAAA,IAAC,EACtCC,EAAAA,KAAC,OAAA,CAAK,UAAWD,EAAO,aAAe,SAAA,CAAAI,EAAK,OAAO,KAAA,CAAA,CAAG,CAAA,CAAA,CACxD,CAAA,CAAA,CACF,CAAA,CAAA,CACF,EAEJ,EAGJ,IAAK,SACH,OACEH,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,cACrB,SAAA,CAAAC,EAAAA,KAAC,IAAA,CAAE,UAAWD,EAAO,WAAY,SAAA,CAAA,aACpBK,EAAe,GAAK,IAAI,QAAA,EACrC,EACCD,EAAK,QACJF,EAAAA,IAAC,MAAA,CACC,UAAWF,EAAO,UAClB,QAAS2B,EAET,SAAAzB,EAAAA,IAAC,OAAI,UAAWF,EAAO,aACrB,SAAAC,EAAAA,KAAC,KAAA,CAAG,UAAWD,EAAO,WACnB,SAAA,CAAAI,EAAK,YAAc,QAAU,QAAU,SAAS,SAAOA,EAAK,OAAO,GAAA,CAAA,CACtE,CAAA,CACF,CAAA,CAAA,EAGHA,EAAK,SACJF,EAAAA,IAAC,MAAA,CAAI,UAAWF,EAAO,WACrB,SAAAE,EAAAA,IAAC,IAAA,CAAG,SAAAE,EAAK,OAAA,CAAQ,CAAA,CACnB,CAAA,EAEJ,EAGJ,QACE,OAAO,IAAA,CAEb,EAGMyB,IAAmBC,EAAA1B,EAAK,YAAL,YAAA0B,EAAgB,OAAO,CAACC,EAAKC,KAC/CD,EAAIC,EAAS,KAAK,IACrBD,EAAIC,EAAS,KAAK,EAAI,CACpB,MAAOA,EAAS,MAChB,MAAO,EACP,MAAO,CAAA,CAAC,GAGZD,EAAIC,EAAS,KAAK,EAAE,QACpBD,EAAIC,EAAS,KAAK,EAAE,MAAM,KAAKA,EAAS,MAAM,EACvCD,GACN,CAAA,KAAO,CAAA,EAEJE,EAAgB,OAAO,OAAOJ,CAAgB,EAG9CK,GAAeC,EAAA/B,EAAK,YAAL,YAAA+B,EAAgB,QAAUC,EAAE,UAAW1B,GAAA,YAAAA,EAAa,KAEzE,OACET,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,SAErB,SAAA,CAAAE,MAAC,MAAA,CAAI,UAAWF,EAAO,YACpB,aACH,EAGAC,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,WACrB,SAAA,CAAAE,EAAAA,IAAC,QAAK,UAAWF,EAAO,SAAW,SAAAmB,EAAWf,EAAK,SAAS,EAAE,EAG9DH,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,mBAEpB,SAAA,CAAAiC,EAAc,OAAS,GACtB/B,EAAAA,IAAC,MAAA,CAAI,UAAWF,EAAO,cACpB,SAAAiC,EAAc,IAAKD,GAClB/B,EAAAA,KAAC,OAAA,CAEC,UAAWD,EAAO,cAClB,MAAO,GAAGgC,EAAS,KAAK,IAAIA,EAAS,QAAU,EAAI,UAAY,SAAS,GAEvE,SAAA,CAAAA,EAAS,MAAM,IAAEA,EAAS,KAAA,CAAA,EAJtBA,EAAS,KAAA,CAMjB,EACH,EAID,CAAC3B,GAAgBK,UACf,MAAA,CAAI,UAAWV,EAAO,qBACrB,SAAA,CAAAE,EAAAA,IAAC,SAAA,CACC,UAAWF,EAAO,kBAClB,QAAS,IAAMc,EAAsB,CAACD,CAAkB,EACxD,MAAOqB,EAAe,mBAAqB,mBAE1C,SAAAA,EAAeA,EAAa,MAAQ,IAAA,CAAA,EAItCrB,GACCX,EAAAA,IAACd,EAAA,CACC,SAAU4B,EACV,QAAS,IAAMF,EAAsB,EAAK,CAAA,CAAA,CAC5C,CAAA,CAEJ,CAAA,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,EACF,CAEJ,sZCjNMuB,GAAO,CAAC,CAAE,OAAAC,EAAQ,aAAAjC,EAAe,MAAY,CACjD,MAAMC,EAAWC,EAAA,EACX,CAAE,MAAAgC,EAAO,QAAAC,EAAS,MAAAC,CAAA,EAAU9B,EAAgBC,GAAUA,EAAM,IAAI,EAChE,CAAC8B,EAAgBC,CAAiB,EAAI5B,EAAAA,SAAS,EAAE,EACjD,CAAC6B,EAAYC,CAAa,EAAI9B,EAAAA,SAAS,EAAK,EAGlDrB,EAAAA,UAAU,IAAM,CACV4C,GACFhC,EAASwC,EAAUR,CAAM,CAAC,CAE9B,EAAG,CAAChC,EAAUgC,CAAM,CAAC,EAGrB,MAAMS,EAAmB,MAAOC,GAAM,CAGpC,GAFAA,EAAE,eAAA,EAEE,EAACN,EAAe,OAIpB,CAAAG,EAAc,EAAI,EAClB,GAAI,CACF,MAAMvC,EAAS2C,EAAW,CACxB,SAAU,OACV,QAASP,EAAe,KAAA,CAAK,CAC9B,CAAC,EAAE,OAAA,EAEJC,EAAkB,EAAE,CACtB,OAASzB,EAAK,CACZ,QAAQ,MAAM,yBAA0BA,CAAG,CAC7C,QAAA,CACE2B,EAAc,EAAK,CACrB,EACF,EAEA,OAAIL,GAAWD,EAAM,SAAW,EAE5BrC,EAAAA,IAAC,MAAA,CAAI,UAAWF,EAAO,KACrB,SAAAE,EAAAA,IAAC,MAAA,CAAI,UAAWF,EAAO,QAAS,SAAA,aAAA,CAAW,EAC7C,EAIAyC,EAEAvC,EAAAA,IAAC,OAAI,UAAWF,EAAO,KACrB,SAAAC,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,MAAO,SAAA,CAAA,0BACJyC,EAAM,SAAW,oBAAA,CAAA,CAC3C,CAAA,CACF,EAKFxC,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,KAEpB,SAAA,CAAAK,GACCH,EAAAA,IAAC,MAAA,CAAI,UAAWF,EAAO,oBACrB,SAAAC,EAAAA,KAAC,OAAA,CAAK,SAAU8C,EAAkB,UAAW/C,EAAO,eAClD,SAAA,CAAAE,EAAAA,IAAC,WAAA,CACC,UAAWF,EAAO,UAClB,YAAY,oBACZ,MAAO0C,EACP,SAAWM,GAAML,EAAkBK,EAAE,OAAO,KAAK,EACjD,KAAM,EACN,SAAUJ,CAAA,CAAA,EAEZ1C,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,UAAWF,EAAO,aAClB,SAAU,CAAC0C,EAAe,KAAA,GAAUE,EAEnC,WAAa,gBAAkB,cAAA,CAAA,CAClC,CAAA,CACF,CAAA,CACF,EAIF1C,EAAAA,IAAC,MAAA,CAAI,UAAWF,EAAO,UACpB,SAAAuC,EAAM,SAAW,EAChBtC,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,WACrB,SAAA,CAAAE,EAAAA,IAAC,KAAE,SAAA,2BAAA,CAAyB,EAC3BG,GACCH,EAAAA,IAAC,IAAA,CAAE,UAAWF,EAAO,UAAW,SAAA,kDAAA,CAEhC,CAAA,CAAA,CAEJ,EAEAuC,EAAM,IAAKnC,GACTF,EAAAA,IAACC,GAAA,CAEC,KAAAC,EACA,aAAAC,CAAA,EAFKD,EAAK,EAAA,CAIb,CAAA,CAEL,CAAA,EACF,CAEJ,mXCrGM8C,GAAkB,IAAM,CAC5B,KAAM,CAAE,OAAAZ,CAAA,EAAWa,EAAA,EAEb,CAAE,KAAMzC,EAAa,gBAAA0C,CAAA,EAAoBzC,EAAgBC,GAAUA,EAAM,IAAI,EAG7EP,GAAeK,GAAA,YAAAA,EAAa,MAAO4B,EAInCe,EAAchD,EAAeK,EAAc,KAEjD,OAAK0C,EAQAC,EASHnD,EAAAA,IAACoD,GAAe,KAAM5C,EACpB,gBAAC,MAAA,CAAI,UAAWV,EAAO,iBAErB,SAAA,CAAAC,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,cACrB,SAAA,CAAAE,EAAAA,IAACqD,EAAA,CAAW,KAAMF,EAAa,KAAK,QAAQ,EAC5CpD,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,YACrB,SAAA,CAAAE,MAAC,KAAA,CAAG,UAAWF,EAAO,YAAc,WAAY,YAAY,EAC3DqD,EAAY,kBACXpD,EAAAA,KAAC,IAAA,CAAE,UAAWD,EAAO,gBAAiB,SAAA,CAAA,IAAEqD,EAAY,gBAAA,CAAA,CAAiB,CAAA,CAAA,CAEzE,CAAA,EACF,EAGApD,EAAAA,KAAC,MAAA,CAAI,UAAWD,EAAO,YACrB,SAAA,CAAAE,EAAAA,IAAC,KAAA,CAAG,UAAWF,EAAO,aAAc,SAAA,mBAAgB,EACpDE,EAAAA,IAACmC,GAAA,CAAK,OAAAC,EAAgB,aAAAjC,CAAA,CAA4B,CAAA,CAAA,CACpD,CAAA,CAAA,CACF,CAAA,CACF,EA1BEH,EAAAA,IAAC,OAAI,UAAWF,EAAO,eACrB,SAAAE,EAAAA,IAAC,IAAA,CAAE,+BAAmB,CAAA,CACxB,EAVAA,EAAAA,IAAC,OAAI,UAAWF,EAAO,eACrB,SAAAE,EAAAA,IAAC,IAAA,CAAE,qCAAyB,CAAA,CAC9B,CAkCN"}