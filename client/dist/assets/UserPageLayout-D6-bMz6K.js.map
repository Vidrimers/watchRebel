{"version":3,"file":"UserPageLayout-D6-bMz6K.js","sources":["../../src/components/User/BanIndicator.jsx","../../src/components/User/UserAvatar.jsx","../../src/components/ErrorMessage.jsx","../../src/components/Search/SearchBar.jsx","../../src/components/Notifications/NotificationBadge.jsx","../../src/components/Layout/Sidebar.jsx","../../src/components/Layout/Footer.jsx","../../src/components/Layout/UserPageLayout.jsx"],"sourcesContent":["import React from 'react';\r\nimport styles from './BanIndicator.module.css';\r\n\r\n/**\r\n * –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\r\n * –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∫—Ä–∞—Å–Ω—É—é —Ç–∞–±–ª–∏—á–∫—É –ø–æ–≤–µ—Ä—Ö –∞–≤–∞—Ç–∞—Ä–∫–∏ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ\r\n */\r\nfunction BanIndicator({ user }) {\r\n  // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω, –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä\r\n  if (!user) {\r\n    return null;\r\n  }\r\n\r\n  const isPermanentBan = user.isBlocked;\r\n  const isPostBan = user.postBanUntil && new Date(user.postBanUntil) > new Date();\r\n\r\n  // –ï—Å–ª–∏ –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫, –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä\r\n  if (!isPermanentBan && !isPostBan) {\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç—ã –æ–∫–æ–Ω—á–∞–Ω–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏\r\n   */\r\n  const formatDate = (dateString) => {\r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const diff = date - now;\r\n\r\n    // –ï—Å–ª–∏ –º–µ–Ω—å—à–µ —á–∞—Å–∞\r\n    if (diff < 60 * 60 * 1000) {\r\n      const minutes = Math.floor(diff / (60 * 1000));\r\n      return `—á–µ—Ä–µ–∑ ${minutes} –º–∏–Ω`;\r\n    }\r\n\r\n    // –ï—Å–ª–∏ –º–µ–Ω—å—à–µ —Å—É—Ç–æ–∫\r\n    if (diff < 24 * 60 * 60 * 1000) {\r\n      const hours = Math.floor(diff / (60 * 60 * 1000));\r\n      return `—á–µ—Ä–µ–∑ ${hours} —á`;\r\n    }\r\n\r\n    // –ï—Å–ª–∏ –º–µ–Ω—å—à–µ –Ω–µ–¥–µ–ª–∏\r\n    if (diff < 7 * 24 * 60 * 60 * 1000) {\r\n      const days = Math.floor(diff / (24 * 60 * 60 * 1000));\r\n      return `—á–µ—Ä–µ–∑ ${days} –¥–Ω`;\r\n    }\r\n\r\n    // –ü–æ–ª–Ω–∞—è –¥–∞—Ç–∞\r\n    return date.toLocaleDateString('ru-RU', {\r\n      day: '2-digit',\r\n      month: '2-digit',\r\n      year: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className={styles.banIndicator}>\r\n      <div className={`${styles.badge} ${isPermanentBan ? styles.permanentBan : styles.postBan}`}>\r\n        {isPermanentBan ? '‚õî –ó–ê–ë–ê–ù–ï–ù' : 'üö´ –ü–û–°–¢–´ –ó–ê–ü–†–ï–©–ï–ù–´'}\r\n      </div>\r\n      \r\n      {user.banReason && (\r\n        <div className={styles.details}>\r\n          <div className={styles.reason}>\r\n            <strong>–ü—Ä–∏—á–∏–Ω–∞:</strong> {user.banReason}\r\n          </div>\r\n          \r\n          {isPostBan && !isPermanentBan && user.postBanUntil && (\r\n            <div className={styles.expires}>\r\n              <strong>–î–æ:</strong> {formatDate(user.postBanUntil)}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BanIndicator;\r\n","import React from 'react';\r\nimport styles from './UserAvatar.module.css';\r\nimport BanIndicator from './BanIndicator';\r\n\r\n/**\r\n * –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∞–≤–∞—Ç–∞—Ä–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\r\n * –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–ª–∏ placeholder —Å –ø–µ—Ä–≤–æ–π –±—É–∫–≤–æ–π –∏–º–µ–Ω–∏\r\n * –ú–æ–∂–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –ø–æ–≤–µ—Ä—Ö –∞–≤–∞—Ç–∞—Ä–∞\r\n */\r\nconst UserAvatar = ({ user, size = 'medium', className = '', showBanIndicator = false }) => {\r\n  const sizeClass = styles[`avatar-${size}`];\r\n\r\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ URL –∞–≤–∞—Ç–∞—Ä–∫–∏\r\n  const getAvatarUrl = () => {\r\n    if (!user?.avatarUrl) return null;\r\n    \r\n    // –ï—Å–ª–∏ –∞–≤–∞—Ç–∞—Ä–∫–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å /uploads/)\r\n    if (user.avatarUrl.startsWith('/uploads/')) {\r\n      return `${import.meta.env.VITE_API_URL || 'http://localhost:1313'}${user.avatarUrl}`;\r\n    }\r\n    \r\n    // –ï—Å–ª–∏ –∞–≤–∞—Ç–∞—Ä–∫–∞ –∏–∑ Telegram –∏–ª–∏ –¥—Ä—É–≥–æ–π –≤–Ω–µ—à–Ω–∏–π URL\r\n    return user.avatarUrl;\r\n  };\r\n\r\n  const avatarUrl = getAvatarUrl();\r\n\r\n  return (\r\n    <div className={`${styles.avatarContainer} ${sizeClass} ${className}`}>\r\n      {avatarUrl ? (\r\n        <img\r\n          src={avatarUrl}\r\n          alt={user.displayName || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å'}\r\n          className={styles.avatarImage}\r\n        />\r\n      ) : (\r\n        <div className={styles.avatarPlaceholder}>\r\n          {user?.displayName?.charAt(0).toUpperCase() || '?'}\r\n        </div>\r\n      )}\r\n      \r\n      {/* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ */}\r\n      {showBanIndicator && <BanIndicator user={user} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserAvatar;\r\n","import React from 'react';\r\nimport styles from './ErrorMessage.module.css';\r\n\r\n/**\r\n * ErrorMessage - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–æ–∫\r\n * –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–∫–∞–∑–∞ –æ—à–∏–±–æ–∫ API, –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ –¥—Ä—É–≥–∏—Ö –æ—à–∏–±–æ–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è\r\n */\r\nconst ErrorMessage = ({ \r\n  error, \r\n  onClose, \r\n  type = 'error',\r\n  title,\r\n  showDetails = false \r\n}) => {\r\n  if (!error) return null;\r\n\r\n  // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ\r\n  const getErrorMessage = () => {\r\n    if (typeof error === 'string') {\r\n      return error;\r\n    }\r\n    if (error.message) {\r\n      return error.message;\r\n    }\r\n    if (error.error) {\r\n      return error.error;\r\n    }\r\n    return '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞';\r\n  };\r\n\r\n  // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫\r\n  const getTitle = () => {\r\n    if (title) return title;\r\n    \r\n    switch (type) {\r\n      case 'error':\r\n        return '–û—à–∏–±–∫–∞';\r\n      case 'warning':\r\n        return '–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ';\r\n      case 'info':\r\n        return '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è';\r\n      default:\r\n        return '–û—à–∏–±–∫–∞';\r\n    }\r\n  };\r\n\r\n  // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∏–∫–æ–Ω–∫—É\r\n  const getIcon = () => {\r\n    switch (type) {\r\n      case 'error':\r\n        return '‚ùå';\r\n      case 'warning':\r\n        return '‚ö†Ô∏è';\r\n      case 'info':\r\n        return '‚ÑπÔ∏è';\r\n      default:\r\n        return '‚ùå';\r\n    }\r\n  };\r\n\r\n  const errorMessage = getErrorMessage();\r\n  const errorTitle = getTitle();\r\n  const icon = getIcon();\r\n\r\n  return (\r\n    <div className={`${styles.errorMessage} ${styles[type]}`} role=\"alert\">\r\n      <div className={styles.errorHeader}>\r\n        <span className={styles.errorIcon}>{icon}</span>\r\n        <h3 className={styles.errorTitle}>{errorTitle}</h3>\r\n        {onClose && (\r\n          <button \r\n            onClick={onClose}\r\n            className={styles.closeButton}\r\n            aria-label=\"–ó–∞–∫—Ä—ã—Ç—å\"\r\n          >\r\n            √ó\r\n          </button>\r\n        )}\r\n      </div>\r\n      \r\n      <p className={styles.errorText}>{errorMessage}</p>\r\n\r\n      {showDetails && error.details && (\r\n        <details className={styles.errorDetails}>\r\n          <summary>–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏</summary>\r\n          <pre className={styles.errorDetailsContent}>\r\n            {typeof error.details === 'string' \r\n              ? error.details \r\n              : JSON.stringify(error.details, null, 2)\r\n            }\r\n          </pre>\r\n        </details>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n/**\r\n * ErrorMessageInline - –∫–æ–º–ø–∞–∫—Ç–Ω–∞—è –≤–µ—Ä—Å–∏—è –¥–ª—è inline –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è\r\n */\r\nexport const ErrorMessageInline = ({ error, onClose }) => {\r\n  if (!error) return null;\r\n\r\n  const errorMessage = typeof error === 'string' \r\n    ? error \r\n    : error.message || error.error || '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞';\r\n\r\n  return (\r\n    <div className={styles.errorInline} role=\"alert\">\r\n      <span className={styles.errorInlineIcon}>‚ö†Ô∏è</span>\r\n      <span className={styles.errorInlineText}>{errorMessage}</span>\r\n      {onClose && (\r\n        <button \r\n          onClick={onClose}\r\n          className={styles.errorInlineClose}\r\n          aria-label=\"–ó–∞–∫—Ä—ã—Ç—å\"\r\n        >\r\n          √ó\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ErrorMessage;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAppDispatch } from '../../hooks/useAppDispatch';\r\nimport { useAppSelector } from '../../hooks/useAppSelector';\r\nimport { searchMedia, setSearchQuery, clearError } from '../../store/slices/mediaSlice';\r\nimport { ErrorMessageInline } from '../ErrorMessage';\r\nimport styles from './SearchBar.module.css';\r\n\r\n/**\r\n * –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–∏—Å–∫–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏ —Å preview\r\n * –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –±—ã—Å—Ç—Ä—ã–π –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–∏ –≤–≤–æ–¥–µ\r\n */\r\nconst SearchBar = () => {\r\n  const dispatch = useAppDispatch();\r\n  const navigate = useNavigate();\r\n  const { searchResults, loading, error } = useAppSelector((state) => state.media);\r\n  \r\n  const [query, setQuery] = useState('');\r\n  const [showPreview, setShowPreview] = useState(false);\r\n  const [debouncedQuery, setDebouncedQuery] = useState('');\r\n  \r\n  const searchRef = useRef(null);\r\n  const debounceTimerRef = useRef(null);\r\n\r\n  // Debounce –¥–ª—è –ø–æ–∏—Å–∫–∞ - –∑–∞–¥–µ—Ä–∂–∫–∞ 300ms\r\n  useEffect(() => {\r\n    if (debounceTimerRef.current) {\r\n      clearTimeout(debounceTimerRef.current);\r\n    }\r\n\r\n    debounceTimerRef.current = setTimeout(() => {\r\n      setDebouncedQuery(query);\r\n    }, 300);\r\n\r\n    return () => {\r\n      if (debounceTimerRef.current) {\r\n        clearTimeout(debounceTimerRef.current);\r\n      }\r\n    };\r\n  }, [query]);\r\n\r\n  // –í—ã–ø–æ–ª–Ω—è–µ–º –ø–æ–∏—Å–∫ –∫–æ–≥–¥–∞ debouncedQuery –∏–∑–º–µ–Ω—è–µ—Ç—Å—è\r\n  useEffect(() => {\r\n    if (debouncedQuery.trim().length > 0) {\r\n      dispatch(searchMedia({ query: debouncedQuery, filters: {} }));\r\n      setShowPreview(true);\r\n    } else {\r\n      setShowPreview(false);\r\n    }\r\n  }, [debouncedQuery, dispatch]);\r\n\r\n  // –ó–∞–∫—Ä—ã–≤–∞–µ–º preview –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (searchRef.current && !searchRef.current.contains(event.target)) {\r\n        setShowPreview(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, []);\r\n\r\n  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ –≤ –ø–æ–ª–µ\r\n  const handleInputChange = (e) => {\r\n    const value = e.target.value;\r\n    setQuery(value);\r\n    dispatch(setSearchQuery(value));\r\n    \r\n    // –û—á–∏—â–∞–µ–º –æ—à–∏–±–∫—É –ø—Ä–∏ –Ω–æ–≤–æ–º –≤–≤–æ–¥–µ\r\n    if (error) {\r\n      dispatch(clearError());\r\n    }\r\n  };\r\n\r\n  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏—è Enter - –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –ø–æ–ª–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ–∏—Å–∫–∞\r\n  const handleKeyDown = (e) => {\r\n    if (e.key === 'Enter' && query.trim()) {\r\n      setShowPreview(false);\r\n      navigate(`/search?q=${encodeURIComponent(query)}`);\r\n    }\r\n  };\r\n\r\n  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ preview\r\n  const handleResultClick = (result) => {\r\n    setShowPreview(false);\r\n    \r\n    if (result.type === 'user') {\r\n      navigate(`/user/${result.data.id}`);\r\n    } else {\r\n      navigate(`/media/${result.data.mediaType}/${result.data.tmdbId}`);\r\n    }\r\n  };\r\n\r\n  // –ü–æ–ª—É—á–∞–µ–º –ø–µ—Ä–≤—ã–µ 5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –¥–ª—è preview\r\n  // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ searchResults —ç—Ç–æ –º–∞—Å—Å–∏–≤\r\n  const previewResults = Array.isArray(searchResults) ? searchResults.slice(0, 5) : [];\r\n\r\n  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –Ω–∞ –∫–Ω–æ–ø–∫—É –ø–æ–∏—Å–∫–∞ - –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –ø–æ–ª–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É\r\n  const handleSearchButtonClick = () => {\r\n    setShowPreview(false);\r\n    if (query.trim()) {\r\n      navigate(`/search?q=${encodeURIComponent(query)}`);\r\n    } else {\r\n      navigate('/search');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.searchContainer} ref={searchRef}>\r\n      <div className={styles.searchInputWrapper}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"–ü–æ–∏—Å–∫ —Ñ–∏–ª—å–º–æ–≤, —Å–µ—Ä–∏–∞–ª–æ–≤, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...\"\r\n          className={styles.searchInput}\r\n          value={query}\r\n          onChange={handleInputChange}\r\n          onKeyDown={handleKeyDown}\r\n          onFocus={() => query.trim() && setShowPreview(true)}\r\n        />\r\n        <button\r\n          className={styles.searchButton}\r\n          onClick={handleSearchButtonClick}\r\n          title=\"–û—Ç–∫—Ä—ã—Ç—å –ø–æ–ª–Ω—ã–π –ø–æ–∏—Å–∫\"\r\n          aria-label=\"–û—Ç–∫—Ä—ã—Ç—å –ø–æ–ª–Ω—ã–π –ø–æ–∏—Å–∫\"\r\n        >\r\n          üîç\r\n        </button>\r\n      </div>\r\n\r\n      {/* Preview —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ */}\r\n      {showPreview && query.trim() && (\r\n        <div className={styles.searchPreview}>\r\n          {/* –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ */}\r\n          {error && (\r\n            <div className={styles.previewError}>\r\n              <ErrorMessageInline \r\n                error={error} \r\n                onClose={() => dispatch(clearError())} \r\n              />\r\n            </div>\r\n          )}\r\n          \r\n          {loading ? (\r\n            <div className={styles.previewLoading}>\r\n              <span>–ü–æ–∏—Å–∫...</span>\r\n            </div>\r\n          ) : previewResults.length > 0 ? (\r\n            <>\r\n              <ul className={styles.previewList}>\r\n                {previewResults.map((result, index) => (\r\n                  <li\r\n                    key={`${result.type}-${result.data.id || result.data.tmdbId}-${index}`}\r\n                    className={styles.previewItem}\r\n                    onClick={() => handleResultClick(result)}\r\n                  >\r\n                    {result.type === 'user' ? (\r\n                      <div className={styles.userResult}>\r\n                        <img\r\n                          src={\r\n                            result.data.avatarUrl?.startsWith('/uploads/')\r\n                              ? `${import.meta.env.VITE_API_URL || 'http://localhost:1313'}${result.data.avatarUrl}`\r\n                              : result.data.avatarUrl || '/default-avatar.png'\r\n                          }\r\n                          alt={result.data.displayName}\r\n                          className={styles.userAvatar}\r\n                        />\r\n                        <div className={styles.userInfo}>\r\n                          <span className={styles.userName}>{result.data.displayName}</span>\r\n                          <span className={styles.userType}>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>\r\n                        </div>\r\n                      </div>\r\n                    ) : (\r\n                      <div className={styles.mediaResult}>\r\n                        <img\r\n                          src={\r\n                            result.data.posterPath\r\n                              ? `https://image.tmdb.org/t/p/w92${result.data.posterPath}`\r\n                              : '/default-poster.png'\r\n                          }\r\n                          alt={result.data.title}\r\n                          className={styles.mediaPoster}\r\n                        />\r\n                        <div className={styles.mediaInfo}>\r\n                          <span className={styles.mediaTitle}>{result.data.title}</span>\r\n                          <span className={styles.mediaType}>\r\n                            {result.data.mediaType === 'movie' ? '–§–∏–ª—å–º' : '–°–µ—Ä–∏–∞–ª'}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n              \r\n              {searchResults.length > 5 && (\r\n                <div\r\n                  className={styles.previewFooter}\r\n                  onClick={() => {\r\n                    setShowPreview(false);\r\n                    navigate(`/search?q=${encodeURIComponent(query)}`);\r\n                  }}\r\n                >\r\n                  –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã ({searchResults.length})\r\n                </div>\r\n              )}\r\n            </>\r\n          ) : (\r\n            <div className={styles.previewEmpty}>\r\n              <span>–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n","import React, { useEffect } from 'react';\r\nimport { useAppSelector } from '../../hooks/useAppSelector';\r\nimport { useAppDispatch } from '../../hooks/useAppDispatch';\r\nimport { fetchNotifications } from '../../store/slices/notificationsSlice';\r\nimport styles from './NotificationBadge.module.css';\r\n\r\n/**\r\n * –ó–Ω–∞—á–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö\r\n * –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –ø—Ä–∞–≤–æ–º –±–ª–æ–∫–µ (Sidebar)\r\n */\r\nconst NotificationBadge = () => {\r\n  const dispatch = useAppDispatch();\r\n  const { unreadCount, loading } = useAppSelector((state) => state.notifications);\r\n\r\n  // –ó–∞–≥—Ä—É–∂–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞\r\n  useEffect(() => {\r\n    dispatch(fetchNotifications());\r\n  }, [dispatch]);\r\n\r\n  // –ï—Å–ª–∏ –Ω–µ—Ç –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π, –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–Ω–∞—á–æ–∫\r\n  if (unreadCount === 0) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <span className={styles.badge} aria-label={`${unreadCount} –Ω–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π`}>\r\n      {unreadCount > 99 ? '99+' : unreadCount}\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default NotificationBadge;\r\n","import React from 'react';\r\nimport UserAvatar from '../User/UserAvatar';\r\nimport SearchBar from '../Search/SearchBar';\r\nimport { NotificationBadge } from '../Notifications';\r\nimport styles from './Sidebar.module.css';\r\n\r\n/**\r\n * –ü—Ä–∞–≤—ã–π –±–ª–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è\r\n * –°–æ–¥–µ—Ä–∂–∏—Ç: –ø–æ–∏—Å–∫, –∞–≤–∞—Ç–∞—Ä, –Ω–∞–≤–∏–≥–∞—Ü–∏—é, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\r\n */\r\nconst Sidebar = ({ user, narrow = false }) => {\r\n  return (\r\n    <aside className={`${styles.sidebar} ${narrow ? styles.narrow : ''}`}>\r\n      {/* –ü–æ–∏—Å–∫–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ - —Å–∫—Ä—ã—Ç–∞ –≤ —É–∑–∫–æ–º —Ä–µ–∂–∏–º–µ */}\r\n      {!narrow && <SearchBar />}\r\n\r\n      {/* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ */}\r\n      {user && (\r\n        <div className={styles.userInfo}>\r\n          {/* –ê–≤–∞—Ç–∞—Ä */}\r\n          <UserAvatar user={user} size={narrow ? \"small\" : \"medium\"} />\r\n\r\n          {/* –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è - —Å–∫—Ä—ã—Ç–æ –≤ —É–∑–∫–æ–º —Ä–µ–∂–∏–º–µ */}\r\n          {!narrow && <h2 className={styles.userName}>{user.displayName}</h2>}\r\n        </div>\r\n      )}\r\n\r\n      {/* –ù–∞–≤–∏–≥–∞—Ü–∏—è */}\r\n      <nav className={styles.navigation}>\r\n        <ul className={styles.navList}>\r\n          <li className={styles.navItem}>\r\n            <a href=\"/\" className={styles.navLink} title=\"–ì–ª–∞–≤–Ω–∞—è\">\r\n              üè† {!narrow && '–ì–ª–∞–≤–Ω–∞—è'}\r\n            </a>\r\n          </li>\r\n          <li className={styles.navItem}>\r\n            <a href=\"/lists?type=movie\" className={styles.navLink} title=\"–ú–æ–∏ —Ñ–∏–ª—å–º—ã\">\r\n              üé¨ {!narrow && '–ú–æ–∏ —Ñ–∏–ª—å–º—ã'}\r\n            </a>\r\n          </li>\r\n          <li className={styles.navItem}>\r\n            <a href=\"/lists?type=tv\" className={styles.navLink} title=\"–ú–æ–∏ —Å–µ—Ä–∏–∞–ª—ã\">\r\n              üì∫ {!narrow && '–ú–æ–∏ —Å–µ—Ä–∏–∞–ª—ã'}\r\n            </a>\r\n          </li>\r\n          <li className={styles.navItem}>\r\n            <a href=\"/watchlist\" className={styles.navLink} title=\"–°–ø–∏—Å–æ–∫ –∂–µ–ª–∞–µ–º–æ–≥–æ\">\r\n              ‚≠ê {!narrow && '–°–ø–∏—Å–æ–∫ –∂–µ–ª–∞–µ–º–æ–≥–æ'}\r\n            </a>\r\n          </li>\r\n          <li className={styles.navItem}>\r\n            <a href=\"/friends\" className={styles.navLink} title=\"–î—Ä—É–∑—å—è\">\r\n              üë• {!narrow && '–î—Ä—É–∑—å—è'}\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n\r\n      {/* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */}\r\n      <div className={styles.notificationsContainer}>\r\n        <a href=\"/notifications\" className={styles.notificationsLink} title=\"–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\">\r\n          üîî {!narrow && '–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è'}\r\n          <NotificationBadge />\r\n        </a>\r\n      </div>\r\n\r\n      {/* –ù–∞—Å—Ç—Ä–æ–π–∫–∏ */}\r\n      <div className={styles.settingsContainer}>\r\n        <a href=\"/settings\" className={styles.settingsLink} title=\"–ù–∞—Å—Ç—Ä–æ–π–∫–∏\">\r\n          ‚öôÔ∏è {!narrow && '–ù–∞—Å—Ç—Ä–æ–π–∫–∏'}\r\n        </a>\r\n      </div>\r\n    </aside>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n","import React from 'react';\r\nimport styles from './Footer.module.css';\r\n\r\n/**\r\n * –§—É—Ç–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –ø—Ä–∏–∂–∞—Ç—ã–π –∫ –Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã\r\n */\r\nconst Footer = () => {\r\n  const currentYear = new Date().getFullYear();\r\n\r\n  return (\r\n    <footer className={styles.footer}>\r\n      <div className={styles.footerContent}>\r\n        <p className={styles.copyright}>\r\n          ¬© {currentYear} watchRebel. –°–æ—Ü–∏–∞–ª—å–Ω–∞—è —Å–µ—Ç—å –¥–ª—è –ª—é–±–∏—Ç–µ–ª–µ–π –∫–∏–Ω–æ.\r\n        </p>\r\n        <div className={styles.links}>\r\n          <a href=\"/about\" className={styles.link}>\r\n            –û –ø—Ä–æ–µ–∫—Ç–µ\r\n          </a>\r\n          <span className={styles.separator}>‚Ä¢</span>\r\n          <a href=\"/privacy\" className={styles.link}>\r\n            –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å\r\n          </a>\r\n          <span className={styles.separator}>‚Ä¢</span>\r\n          <a href=\"/terms\" className={styles.link}>\r\n            –£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport Sidebar from './Sidebar';\r\nimport Footer from './Footer';\r\nimport styles from './UserPageLayout.module.css';\r\n\r\n/**\r\n * –û—Å–Ω–æ–≤–Ω–æ–π layout –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\r\n * –°–æ–¥–µ—Ä–∂–∏—Ç –ª–µ–≤—ã–π –±–ª–æ–∫ (Wall) –∏ –ø—Ä–∞–≤—ã–π –±–ª–æ–∫ (Sidebar)\r\n */\r\nconst UserPageLayout = ({ children, user, narrowSidebar = false }) => {\r\n  return (\r\n    <div className={styles.pageContainer}>\r\n      <div className={styles.contentWrapper}>\r\n        {/* –õ–µ–≤—ã–π –±–ª–æ–∫ - Wall (max-width: 700px) */}\r\n        <main className={styles.mainContent}>\r\n          {children}\r\n        </main>\r\n\r\n        {/* –ü—Ä–∞–≤—ã–π –±–ª–æ–∫ - Sidebar (max-width: 500px –∏–ª–∏ 150px –¥–ª—è —É–∑–∫–æ–≥–æ —Ä–µ–∂–∏–º–∞) */}\r\n        <Sidebar user={user} narrow={narrowSidebar} />\r\n      </div>\r\n\r\n      {/* Footer –ø—Ä–∏–∂–∞—Ç –∫ –Ω–∏–∑—É */}\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserPageLayout;\r\n"],"names":["BanIndicator","user","isPermanentBan","isPostBan","formatDate","dateString","date","diff","jsxs","styles","jsx","UserAvatar","size","className","showBanIndicator","sizeClass","avatarUrl","_a","ErrorMessageInline","error","onClose","errorMessage","SearchBar","dispatch","useAppDispatch","navigate","useNavigate","searchResults","loading","useAppSelector","state","query","setQuery","useState","showPreview","setShowPreview","debouncedQuery","setDebouncedQuery","searchRef","useRef","debounceTimerRef","useEffect","searchMedia","handleClickOutside","event","handleInputChange","e","value","setSearchQuery","clearError","handleKeyDown","handleResultClick","result","previewResults","handleSearchButtonClick","Fragment","index","NotificationBadge","unreadCount","fetchNotifications","Sidebar","narrow","Footer","currentYear","UserPageLayout","children","narrowSidebar"],"mappings":"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"}