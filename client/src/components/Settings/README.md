# Settings Components

Компоненты для страницы настроек пользователя.

## Компоненты

### ThemeSelector

Компонент выбора темы оформления. Позволяет переключаться между светлой (кремовой) и темной темой.

**Особенности:**
- Немедленное применение темы при изменении (onChange)
- Интеграция с Redux (themeSlice)
- Применение темы к document.body
- Поддержка двух тем: light-cream и dark

**Использование:**
```jsx
import { ThemeSelector } from '../components/Settings';

<ThemeSelector />
```

### AdminPanel

Админ-панель для управления пользователями и системой. Доступна только для администратора (TELEGRAM_ADMIN_ID=137981675).

**Функционал:**
- Просмотр списка всех пользователей
- Переименование пользователей
- Блокировка/разблокировка пользователей
- Удаление пользователей (с каскадным удалением данных)
- Создание объявлений для всех пользователей
- Создание резервной копии базы данных

**Использование:**
```jsx
import { AdminPanel } from '../components/Settings';

// Отображается только для админа
{isAdmin && <AdminPanel />}
```

## Страница настроек

### SettingsPage

Главная страница настроек, объединяющая все компоненты настроек в виде отдельных карточек.

**Разделы:**
1. Тема оформления (ThemeSelector)
2. Информация о профиле
3. Управление сессией (выход)
4. Контакты для рекламы
5. Админ-панель (только для админа)

**Использование:**
```jsx
import SettingsPage from '../pages/SettingsPage';

<Route path="/settings" element={<SettingsPage />} />
```

## Требования

Компоненты реализуют следующие требования:
- 13.1: Отображение настроек в отдельных карточках
- 13.2: Немедленное применение темы (onChange)
- 13.3: Выбор между светлой и темной темой
- 13.4: Светлая кремовая тема по умолчанию
- 13.5: Кнопка разлогина с завершением сессии
- 13.6: Контактная информация админа
- 13.7: Ссылка на настройки в правом блоке
- 14.1: Админ-панель для пользователя с ID 137981675
- 14.2: Управление пользователями в админ-панели

## Property-Based Tests

### Property 34: Theme Change Immediate Application
Проверяет, что изменение темы применяется немедленно (синхронно) при выборе.

### Property 35: Logout Session Termination
Проверяет, что при logout сессия завершается, данные пользователя очищаются, и токен удаляется из localStorage.

## Стили

Все компоненты используют CSS модули с поддержкой темной темы через глобальный класс `.dark`.

**CSS переменные:**
- `--card-background` / `--card-background-dark`
- `--text-primary` / `--text-primary-dark`
- `--text-secondary` / `--text-secondary-dark`
- `--border-color` / `--border-color-dark`
- `--primary-color` / `--primary-color-dark`
- И другие...
