# Wall Components

Компоненты для отображения стены активности пользователя (Wall).

## Компоненты

### Wall

Основной компонент стены активности. Отображает ленту постов пользователя в хронологическом порядке (новые сверху).

**Props:**
- `userId` (string, обязательный) - ID пользователя, чью стену нужно отобразить
- `isOwnProfile` (boolean, по умолчанию false) - Флаг, указывающий, является ли это профилем текущего пользователя

**Функциональность:**
- Загрузка постов из Redux store (wallSlice)
- Форма создания нового текстового поста (только для своего профиля)
- Отображение списка постов
- Обработка состояний загрузки и ошибок
- Пустое состояние, когда нет постов

**Пример использования:**
```jsx
import { Wall } from '../components/Wall';

<Wall userId={userId} isOwnProfile={true} />
```

### WallPost

Компонент отдельной записи на стене. Поддерживает разные типы постов.

**Props:**
- `post` (object, обязательный) - Объект поста со следующими полями:
  - `id` - ID поста
  - `userId` - ID автора
  - `postType` - Тип поста: 'text', 'media_added', 'rating', 'review'
  - `content` - Текстовое содержимое (для text и review)
  - `tmdbId` - ID медиа из TMDb (для media_added, rating, review)
  - `mediaType` - Тип медиа: 'movie' или 'tv'
  - `rating` - Оценка от 1 до 10 (для rating)
  - `reactions` - Массив реакций
  - `createdAt` - Дата создания
- `isOwnProfile` (boolean, по умолчанию false) - Флаг своего профиля

**Типы постов:**
1. **text** - Текстовый пост
2. **media_added** - Добавление медиа в список
3. **rating** - Оценка медиа
4. **review** - Отзыв о медиа

**Функциональность:**
- Отображение контента в зависимости от типа поста
- Форматирование даты (относительное время)
- Переход на страницу медиа при клике
- Отображение реакций
- Добавление новых реакций (только для чужих постов)

**Пример использования:**
```jsx
import { WallPost } from '../components/Wall';

<WallPost 
  post={post} 
  isOwnProfile={false}
/>
```

### ReactionPicker

Компонент для выбора эмоджи-реакции на пост.

**Props:**
- `onSelect` (function, обязательный) - Callback при выборе эмоджи
- `onClose` (function, обязательный) - Callback для закрытия picker

**Функциональность:**
- Отображение сетки популярных эмоджи
- Закрытие при клике вне области
- Закрытие по клавише Escape
- Адаптивный дизайн (на мобильных устройствах открывается снизу)

**Пример использования:**
```jsx
import { ReactionPicker } from '../components/Wall';

<ReactionPicker
  onSelect={(emoji) => handleAddReaction(emoji)}
  onClose={() => setShowPicker(false)}
/>
```

## Redux Integration

Компоненты используют следующие actions из `wallSlice`:

- `fetchWall(userId)` - Загрузка постов пользователя
- `createPost(postData)` - Создание нового поста
- `addReaction({ postId, emoji })` - Добавление реакции

## Стилизация

Каждый компонент имеет свой CSS модуль:
- `Wall.module.css`
- `WallPost.module.css`
- `ReactionPicker.module.css`

Стили используют CSS переменные для поддержки тем:
- `--card-bg` - Фон карточек
- `--text-primary` - Основной цвет текста
- `--text-secondary` - Вторичный цвет текста
- `--primary-color` - Основной цвет приложения
- `--border-color` - Цвет границ
- И другие...

## Требования

Компоненты реализуют следующие требования из спецификации:
- 6.1 - Публикация текстовых постов
- 6.2 - Автоматическое создание постов при добавлении медиа
- 6.3 - Автоматическое создание постов при оценке
- 6.4 - Публикация отзывов
- 6.5 - Хронологический порядок постов
- 7.1 - Добавление реакций
- 7.2 - Уведомления о реакциях (backend)
- 7.4 - Отображение реакций
- 7.5 - Выбор из множества эмоджи

## Будущие улучшения

- Загрузка информации о медиа (название, постер) из TMDb API
- Кэширование данных о медиа
- Бесконечная прокрутка для больших лент
- Фильтрация постов по типу
- Редактирование постов
- Удаление постов
